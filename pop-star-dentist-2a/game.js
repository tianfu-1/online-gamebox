var _SETTINGS={MarketJSGameCenter:{Activator:{Enabled:!1,Position:{Top:"15%",Left:"0"}},API:{Enabled:!1,Log:{Events:{InitializeGame:!0,EndGame:!0,Level:{Begin:!0,End:!0,Win:!0,Lose:!0,Draw:!0}}}}},API:{Enabled:!1,Log:{Events:{InitializeGame:!0,EndGame:!0,Level:{Begin:!0,End:!0,Win:!0,Lose:!0,Draw:!0}}}},Ad:{Mobile:{Preroll:{Enabled:!1,Duration:5,Width:300,Height:250,Rotation:{Enabled:!1,Weight:{MobileAdInGamePreroll:40,MobileAdInGamePreroll2:40,MobileAdInGamePreroll3:20}}},Header:{Enabled:!1,Duration:5,
Width:320,Height:50,Rotation:{Enabled:!1,Weight:{MobileAdInGameHeader:40,MobileAdInGameHeader2:40,MobileAdInGameHeader3:20}}},Footer:{Enabled:!1,Duration:5,Width:320,Height:50,Rotation:{Enabled:!1,Weight:{MobileAdInGameFooter:40,MobileAdInGameFooter2:40,MobileAdInGameFooter3:20}}},End:{Enabled:!1,Duration:1,Width:300,Height:250,Rotation:{Enabled:!1,Weight:{MobileAdInGameEnd:40,MobileAdInGameEnd2:40,MobileAdInGameEnd3:20}}}}},Language:{Default:"en"},DeveloperBranding:{Splash:{Enabled:!1},Logo:{Enabled:!1,
Link:"http://google.com",LinkEnabled:!1,NewWindow:!0,Width:166,Height:61}},Branding:{Splash:{Enabled:!0},Logo:{Enabled:!1,Link:"http://google.com",LinkEnabled:!1,NewWindow:!0,Width:166,Height:61}},MoreGames:{Enabled:!0,Link:"http://www.lagged.com/",NewWindow:!0},Gamecenter:{Enabled:!1}};var _STRINGS={Ad:{Mobile:{Preroll:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},Header:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},End:{ReadyIn:"Advertisement ends in ",Loading:"Please wait ...",Close:"Close"}}},Splash:{Loading:"Loading ...",LogoLine1:"Some text here",LogoLine2:"powered by MarketJS",LogoLine3:"none"},Game:{SelectPlayer:"Select Player",Win:"You win!",Lose:"You lose!",Score:"Score",Time:"Time"},Results:{Title:"High score"}};var MobileAdInGamePreroll={ad_duration:_SETTINGS.Ad.Mobile.Preroll.Duration,ad_width:_SETTINGS.Ad.Mobile.Preroll.Width,ad_height:_SETTINGS.Ad.Mobile.Preroll.Height,ready_in:_STRINGS.Ad.Mobile.Preroll.ReadyIn,loading:_STRINGS.Ad.Mobile.Preroll.Loading,close:_STRINGS.Ad.Mobile.Preroll.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){if(_SETTINGS.Ad.Mobile.Preroll.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Preroll.Rotation.Weight,c=b.MobileAdInGamePreroll,d=
c+b.MobileAdInGamePreroll2,b=d+b.MobileAdInGamePreroll3,e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGamePreroll":e<=d?this.selectedOverlayName="MobileAdInGamePreroll2":e<=b&&(this.selectedOverlayName="MobileAdInGamePreroll3");console.log("Ad rotating preroll enabled")}else this.selectedOverlayName="MobileAdInGamePreroll",console.log("Ad rotating preroll disabled");console.log("selected:",this.selectedOverlayName);this.overlay=$("#"+this.selectedOverlayName);
this.box=$("#"+this.selectedOverlayName+"-Box");this.game=$("#game");this.boxContents={footer:$("#"+this.selectedOverlayName+"-Box-Footer"),header:$("#"+this.selectedOverlayName+"-Box-Header"),close:$("#"+this.selectedOverlayName+"-Box-Close"),body:$("#"+this.selectedOverlayName+"-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-
this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},Timer:function(b){var c=b,d=setInterval(function(){MobileAdInGamePreroll.boxContents.header.text(MobileAdInGamePreroll.ready_in+c+"...");MobileAdInGamePreroll.boxContents.footer.text(MobileAdInGamePreroll.loading);c--;0>c&&(clearInterval(d),MobileAdInGamePreroll.boxContents.close.css("left",MobileAdInGamePreroll.boxContents.body.width()-23),MobileAdInGamePreroll.boxContents.close.show(),MobileAdInGamePreroll.boxContents.header.html(MobileAdInGamePreroll.close),
MobileAdInGamePreroll.boxContents.footer.text(""))},1E3)},Close:function(){this.boxContents.close.hide();this.overlay.hide()}};var MobileAdInGameHeader={ad_duration:_SETTINGS.Ad.Mobile.Header.Duration,ad_width:_SETTINGS.Ad.Mobile.Header.Width,ad_height:_SETTINGS.Ad.Mobile.Header.Height,Initialize:function(){if(_SETTINGS.Ad.Mobile.Header.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Header.Rotation.Weight,c=b.MobileAdInGameHeader,d=c+b.MobileAdInGameHeader2,b=d+b.MobileAdInGameHeader3,e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGameHeader":e<=d?this.selectedOverlayName="MobileAdInGameHeader2":
e<=b&&(this.selectedOverlayName="MobileAdInGameHeader3");console.log("Ad rotating header enabled")}else this.selectedOverlayName="MobileAdInGameHeader",console.log("Ad rotating header disabled");this.div=$("#"+this.selectedOverlayName);this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",0);this.div.show(this.Timer(this.ad_duration))},Timer:function(b){var c=setInterval(function(){b--;
0>b&&(MobileAdInGameHeader.div.hide(),clearInterval(c))},1E3)}};var MobileAdInGameFooter={ad_duration:_SETTINGS.Ad.Mobile.Footer.Duration,ad_width:_SETTINGS.Ad.Mobile.Footer.Width,ad_height:_SETTINGS.Ad.Mobile.Footer.Height,Initialize:function(){if(_SETTINGS.Ad.Mobile.Footer.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.Footer.Rotation.Weight,c=b.MobileAdInGameFooter,d=c+b.MobileAdInGameFooter2,b=d+b.MobileAdInGameFooter3,e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGameFooter":e<=d?this.selectedOverlayName="MobileAdInGameFooter2":
e<=b&&(this.selectedOverlayName="MobileAdInGameFooter3");console.log("Ad rotating footer enabled")}else this.selectedOverlayName="MobileAdInGameFooter",console.log("Ad rotating footer disabled");this.div=$("#"+this.selectedOverlayName);this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",this.game.height()-this.div.height()-5);this.div.show(this.Timer(this.ad_duration))},
Timer:function(b){var c=setInterval(function(){b--;0>b&&(MobileAdInGameFooter.div.hide(),clearInterval(c))},1E3)}};var MobileAdInGameEnd={ad_duration:_SETTINGS.Ad.Mobile.End.Duration,ad_width:_SETTINGS.Ad.Mobile.End.Width,ad_height:_SETTINGS.Ad.Mobile.End.Height,ready_in:_STRINGS.Ad.Mobile.End.ReadyIn,loading:_STRINGS.Ad.Mobile.End.Loading,close:_STRINGS.Ad.Mobile.End.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){if(_SETTINGS.Ad.Mobile.End.Rotation.Enabled){var b=_SETTINGS.Ad.Mobile.End.Rotation.Weight,c=b.MobileAdInGameEnd,d=c+b.MobileAdInGameEnd2,b=d+b.MobileAdInGameEnd3,
e=Math.floor(100*Math.random());console.log("seed: ",e);e<=c?this.selectedOverlayName="MobileAdInGameEnd":e<=d?this.selectedOverlayName="MobileAdInGameEnd2":e<=b&&(this.selectedOverlayName="MobileAdInGameEnd3");console.log("Ad rotating end enabled")}else this.selectedOverlayName="MobileAdInGameEnd",console.log("Ad rotating end disabled");console.log("selected:",this.selectedOverlayName);this.overlay=$("#"+this.selectedOverlayName);this.box=$("#"+this.selectedOverlayName+"-Box");this.game=$("#game");
this.boxContents={footer:$("#"+this.selectedOverlayName+"-Box-Footer"),header:$("#"+this.selectedOverlayName+"-Box-Header"),close:$("#"+this.selectedOverlayName+"-Box-Close"),body:$("#"+this.selectedOverlayName+"-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},
Timer:function(b){var c=b,d=setInterval(function(){MobileAdInGameEnd.boxContents.header.text(MobileAdInGameEnd.ready_in+c+"...");MobileAdInGameEnd.boxContents.footer.text(MobileAdInGameEnd.loading);c--;0>c&&(clearInterval(d),MobileAdInGameEnd.boxContents.close.css("left",MobileAdInGameEnd.boxContents.body.width()-23),MobileAdInGameEnd.boxContents.close.show(),MobileAdInGameEnd.boxContents.header.html(MobileAdInGameEnd.close),MobileAdInGameEnd.boxContents.footer.text(""))},1E3)},Close:function(){this.boxContents.close.hide();
this.overlay.hide()}};(function(b,c){function d(b,t,q){if(q===c&&1===b.nodeType)if(q="data-"+t.replace(tc,"-$1").toLowerCase(),q=b.getAttribute(q),"string"==typeof q){try{q="true"===q?!0:"false"===q?!1:"null"===q?null:+q+""===q?+q:uc.test(q)?f.parseJSON(q):q}catch(d){}f.data(b,t,q)}else q=c;return q}function e(b){for(var c in b)if(!("data"===c&&f.isEmptyObject(b[c]))&&"toJSON"!==c)return!1;return!0}function g(){return!1}function j(){return!0}function n(b){return!b||!b.parentNode||11===b.parentNode.nodeType}function p(b,
c){do b=b[c];while(b&&1!==b.nodeType);return b}function m(b,c,q){c=c||0;if(f.isFunction(c))return f.grep(b,function(b,y){return!!c.call(b,y,b)===q});if(c.nodeType)return f.grep(b,function(b){return b===c===q});if("string"==typeof c){var d=f.grep(b,function(b){return 1===b.nodeType});if(vc.test(c))return f.filter(c,d,!q);c=f.filter(c,d)}return f.grep(b,function(b){return 0<=f.inArray(b,c)===q})}function s(b){var c=xb.split("|");b=b.createDocumentFragment();if(b.createElement)for(;c.length;)b.createElement(c.pop());
return b}function u(b,c){if(1===c.nodeType&&f.hasData(b)){var q,d,B;d=f._data(b);var e=f._data(c,d),v=d.events;if(v)for(q in delete e.handle,e.events={},v){d=0;for(B=v[q].length;d<B;d++)f.event.add(c,q,v[q][d])}e.data&&(e.data=f.extend({},e.data))}}function l(b,c){var q;1===c.nodeType&&(c.clearAttributes&&c.clearAttributes(),c.mergeAttributes&&c.mergeAttributes(b),q=c.nodeName.toLowerCase(),"object"===q?(c.parentNode&&(c.outerHTML=b.outerHTML),f.support.html5Clone&&b.innerHTML&&!f.trim(c.innerHTML)&&
(c.innerHTML=b.innerHTML)):"input"===q&&yb.test(b.type)?(c.defaultChecked=c.checked=b.checked,c.value!==b.value&&(c.value=b.value)):"option"===q?c.selected=b.defaultSelected:"input"===q||"textarea"===q?c.defaultValue=b.defaultValue:"script"===q&&c.text!==b.text&&(c.text=b.text),c.removeAttribute(f.expando))}function r(b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName("*"):"undefined"!=typeof b.querySelectorAll?b.querySelectorAll("*"):[]}function x(b){yb.test(b.type)&&(b.defaultChecked=
b.checked)}function D(b,c){if(c in b)return c;for(var q=c.charAt(0).toUpperCase()+c.slice(1),d=c,f=zb.length;f--;)if(c=zb[f]+q,c in b)return c;return d}function K(b,c){return b=c||b,"none"===f.css(b,"display")||!f.contains(b.ownerDocument,b)}function H(b,c){for(var q,d,B=[],e=0,v=b.length;e<v;e++)q=b[e],q.style&&(B[e]=f._data(q,"olddisplay"),c?(!B[e]&&"none"===q.style.display&&(q.style.display=""),""===q.style.display&&K(q)&&(B[e]=f._data(q,"olddisplay",P(q.nodeName)))):(d=Q(q,"display"),!B[e]&&"none"!==
d&&f._data(q,"olddisplay",d)));for(e=0;e<v;e++)if(q=b[e],q.style&&(!c||"none"===q.style.display||""===q.style.display))q.style.display=c?B[e]||"":"none";return b}function L(b,c,q){return(b=wc.exec(c))?Math.max(0,b[1]-(q||0))+(b[2]||"px"):c}function Ya(b,c,q,d){c=q===(d?"border":"content")?4:"width"===c?1:0;for(var B=0;4>c;c+=2)"margin"===q&&(B+=f.css(b,q+ea[c],!0)),d?("content"===q&&(B-=parseFloat(Q(b,"padding"+ea[c]))||0),"margin"!==q&&(B-=parseFloat(Q(b,"border"+ea[c]+"Width"))||0)):(B+=parseFloat(Q(b,
"padding"+ea[c]))||0,"padding"!==q&&(B+=parseFloat(Q(b,"border"+ea[c]+"Width"))||0));return B}function E(b,c,q){var d="width"===c?b.offsetWidth:b.offsetHeight,B=!0,e=f.support.boxSizing&&"border-box"===f.css(b,"boxSizing");if(0>=d||null==d){d=Q(b,c);if(0>d||null==d)d=b.style[c];if(za.test(d))return d;B=e&&(f.support.boxSizingReliable||d===b.style[c]);d=parseFloat(d)||0}return d+Ya(b,c,q||(e?"border":"content"),B)+"px"}function P(b){if(Za[b])return Za[b];var c=f("<"+b+">").appendTo(z.body),q=c.css("display");
c.remove();if("none"===q||""===q){ma=z.body.appendChild(ma||f.extend(z.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!na||!ma.createElement)na=(ma.contentWindow||ma.contentDocument).document,na.write("<!doctype html><html><body>"),na.close();c=na.body.appendChild(na.createElement(b));q=Q(c,"display");z.body.removeChild(ma)}return Za[b]=q,q}function M(b,c,q,d){var B;if(f.isArray(c))f.each(c,function(c,t){q||xc.test(b)?d(b,t):M(b+"["+("object"==typeof t?c:"")+"]",t,q,d)});else if(!q&&
"object"===f.type(c))for(B in c)M(b+"["+B+"]",c[B],q,d);else d(b,c)}function Aa(b){return function(c,q){"string"!=typeof c&&(q=c,c="*");var d,B,e=c.toLowerCase().split(fa),v=0,g=e.length;if(f.isFunction(q))for(;v<g;v++)d=e[v],(B=/^\+/.test(d))&&(d=d.substr(1)||"*"),d=b[d]=b[d]||[],d[B?"unshift":"push"](q)}}function oa(b,t,q,d,f,e){f=f||t.dataTypes[0];e=e||{};e[f]=!0;var v;f=b[f];for(var g=0,l=f?f.length:0,j=b===$a;g<l&&(j||!v);g++)v=f[g](t,q,d),"string"==typeof v&&(!j||e[v]?v=c:(t.dataTypes.unshift(v),
v=oa(b,t,q,d,v,e)));return(j||!v)&&!e["*"]&&(v=oa(b,t,q,d,"*",e)),v}function ta(b,t){var q,d,B=f.ajaxSettings.flatOptions||{};for(q in t)t[q]!==c&&((B[q]?b:d||(d={}))[q]=t[q]);d&&f.extend(!0,b,d)}function Ab(){try{return new b.XMLHttpRequest}catch(y){}}function Bb(){return setTimeout(function(){Ba=c},0),Ba=f.now()}function Cb(b,c,q){var d,B=0,e=Ca.length,v=f.Deferred().always(function(){delete g.elem}),g=function(){for(var c=Ba||Bb(),c=Math.max(0,l.startTime+l.duration-c),t=1-(c/l.duration||0),q=
0,d=l.tweens.length;q<d;q++)l.tweens[q].run(t);return v.notifyWith(b,[l,t,c]),1>t&&d?c:(v.resolveWith(b,[l]),!1)},l=v.promise({elem:b,props:f.extend({},c),opts:f.extend(!0,{specialEasing:{}},q),originalProperties:c,originalOptions:q,startTime:Ba||Bb(),duration:q.duration,tweens:[],createTween:function(c,t){var q=f.Tween(b,l.opts,c,t,l.opts.specialEasing[c]||l.opts.easing);return l.tweens.push(q),q},stop:function(c){for(var t=0,q=c?l.tweens.length:0;t<q;t++)l.tweens[t].run(1);return c?v.resolveWith(b,
[l,c]):v.rejectWith(b,[l,c]),this}});c=l.props;q=l.opts.specialEasing;var j,m,r,x;for(d in c)if(j=f.camelCase(d),m=q[j],r=c[d],f.isArray(r)&&(m=r[1],r=c[d]=r[0]),d!==j&&(c[j]=r,delete c[d]),(x=f.cssHooks[j])&&"expand"in x)for(d in r=x.expand(r),delete c[j],r)d in c||(c[d]=r[d],q[d]=m);else q[j]=m;for(;B<e;B++)if(d=Ca[B].call(l,b,c,l.opts))return d;var p=l;f.each(c,function(b,y){for(var c=(ua[b]||[]).concat(ua["*"]),t=0,q=c.length;t<q&&!c[t].call(p,b,y);t++);});return f.isFunction(l.opts.start)&&l.opts.start.call(b,
l),f.fx.timer(f.extend(g,{anim:l,queue:l.opts.queue,elem:b})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function S(b,c,q,d,f){return new S.prototype.init(b,c,q,d,f)}function Da(b,c){var q,d={height:b},f=0;for(c=c?1:0;4>f;f+=2-c)q=ea[f],d["margin"+q]=d["padding"+q]=b;return c&&(d.opacity=d.width=b),d}function Db(b){return f.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1}var Eb,Ea,z=b.document,zc=b.location,Ac=b.navigator,Bc=
b.jQuery,Cc=b.$,Fb=Array.prototype.push,aa=Array.prototype.slice,Gb=Array.prototype.indexOf,Dc=Object.prototype.toString,ab=Object.prototype.hasOwnProperty,bb=String.prototype.trim,f=function(b,c){return new f.fn.init(b,c,Eb)},Fa=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Ec=/\S/,fa=/\s+/,Fc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Gc=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Hb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Hc=/^[\],:{}\s]*$/,Ic=/(?:^|:|,)(?:\s*\[)+/g,Jc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Kc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,
Lc=/^-ms-/,Mc=/-([\da-z])/gi,Nc=function(b,c){return(c+"").toUpperCase()},Ga=function(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",Ga,!1),f.ready()):"complete"===z.readyState&&(z.detachEvent("onreadystatechange",Ga),f.ready())},Ib={};f.fn=f.prototype={constructor:f,init:function(b,t,q){var d,B;if(!b)return this;if(b.nodeType)return this.context=this[0]=b,this.length=1,this;if("string"==typeof b){"<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?d=[null,b,null]:d=Gc.exec(b);
if(d&&(d[1]||!t)){if(d[1])return t=t instanceof f?t[0]:t,B=t&&t.nodeType?t.ownerDocument||t:z,b=f.parseHTML(d[1],B,!0),Hb.test(d[1])&&f.isPlainObject(t)&&this.attr.call(b,t,!0),f.merge(this,b);if((t=z.getElementById(d[2]))&&t.parentNode){if(t.id!==d[2])return q.find(b);this.length=1;this[0]=t}return this.context=z,this.selector=b,this}return!t||t.jquery?(t||q).find(b):this.constructor(t).find(b)}return f.isFunction(b)?q.ready(b):(b.selector!==c&&(this.selector=b.selector,this.context=b.context),f.makeArray(b,
this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return aa.call(this)},get:function(b){return null==b?this.toArray():0>b?this[this.length+b]:this[b]},pushStack:function(b,c,q){b=f.merge(this.constructor(),b);return b.prevObject=this,b.context=this.context,"find"===c?b.selector=this.selector+(this.selector?" ":"")+q:c&&(b.selector=this.selector+"."+c+"("+q+")"),b},each:function(b,c){return f.each(this,b,c)},ready:function(b){return f.ready.promise().done(b),
this},eq:function(b){return b=+b,-1===b?this.slice(b):this.slice(b,b+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(aa.apply(this,arguments),"slice",aa.call(arguments).join(","))},map:function(b){return this.pushStack(f.map(this,function(c,q){return b.call(c,q,c)}))},end:function(){return this.prevObject||this.constructor(null)},push:Fb,sort:[].sort,splice:[].splice};f.fn.init.prototype=f.fn;f.extend=f.fn.extend=function(){var b,
t,q,d,B,e,v=arguments[0]||{},l=1,g=arguments.length,j=!1;"boolean"==typeof v&&(j=v,v=arguments[1]||{},l=2);"object"!=typeof v&&!f.isFunction(v)&&(v={});for(g===l&&(v=this,--l);l<g;l++)if(null!=(b=arguments[l]))for(t in b)q=v[t],d=b[t],v!==d&&(j&&d&&(f.isPlainObject(d)||(B=f.isArray(d)))?(B?(B=!1,e=q&&f.isArray(q)?q:[]):e=q&&f.isPlainObject(q)?q:{},v[t]=f.extend(j,e,d)):d!==c&&(v[t]=d));return v};f.extend({noConflict:function(y){return b.$===f&&(b.$=Cc),y&&b.jQuery===f&&(b.jQuery=Bc),f},isReady:!1,
readyWait:1,holdReady:function(b){b?f.readyWait++:f.ready(!0)},ready:function(b){if(!(!0===b?--f.readyWait:f.isReady)){if(!z.body)return setTimeout(f.ready,1);f.isReady=!0;!0!==b&&0<--f.readyWait||(Ea.resolveWith(z,[f]),f.fn.trigger&&f(z).trigger("ready").off("ready"))}},isFunction:function(b){return"function"===f.type(b)},isArray:Array.isArray||function(b){return"array"===f.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!isNaN(parseFloat(b))&&isFinite(b)},
type:function(b){return null==b?String(b):Ib[Dc.call(b)]||"object"},isPlainObject:function(b){if(!b||"object"!==f.type(b)||b.nodeType||f.isWindow(b))return!1;try{if(b.constructor&&!ab.call(b,"constructor")&&!ab.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(var q in b);return q===c||ab.call(b,q)},isEmptyObject:function(b){for(var c in b)return!1;return!0},error:function(b){throw Error(b);},parseHTML:function(b,c,q){var d;return!b||"string"!=typeof b?null:("boolean"==
typeof c&&(q=c,c=0),c=c||z,(d=Hb.exec(b))?[c.createElement(d[1])]:(d=f.buildFragment([b],c,q?null:[]),f.merge([],(d.cacheable?f.clone(d.fragment):d.fragment).childNodes)))},parseJSON:function(c){if(!c||"string"!=typeof c)return null;c=f.trim(c);if(b.JSON&&b.JSON.parse)return b.JSON.parse(c);if(Hc.test(c.replace(Jc,"@").replace(Kc,"]").replace(Ic,"")))return(new Function("return "+c))();f.error("Invalid JSON: "+c)},parseXML:function(y){var t,d;if(!y||"string"!=typeof y)return null;try{b.DOMParser?
(d=new DOMParser,t=d.parseFromString(y,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(y))}catch(A){t=c}return(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+y),t},noop:function(){},globalEval:function(c){c&&Ec.test(c)&&(b.execScript||function(c){b.eval.call(b,c)})(c)},camelCase:function(b){return b.replace(Lc,"ms-").replace(Mc,Nc)},nodeName:function(b,c){return b.nodeName&&b.nodeName.toLowerCase()===c.toLowerCase()},
each:function(b,t,d){var A,e=0,l=b.length,v=l===c||f.isFunction(b);if(d)if(v)for(A in b){if(!1===t.apply(b[A],d))break}else for(;e<l&&!1!==t.apply(b[e++],d););else if(v)for(A in b){if(!1===t.call(b[A],A,b[A]))break}else for(;e<l&&!1!==t.call(b[e],e,b[e++]););return b},trim:bb&&!bb.call("\ufeff\u00a0")?function(b){return null==b?"":bb.call(b)}:function(b){return null==b?"":(b+"").replace(Fc,"")},makeArray:function(b,c){var d,A=c||[];return null!=b&&(d=f.type(b),null==b.length||"string"===d||"function"===
d||"regexp"===d||f.isWindow(b)?Fb.call(A,b):f.merge(A,b)),A},inArray:function(b,c,d){var f;if(c){if(Gb)return Gb.call(c,b,d);f=c.length;for(d=d?0>d?Math.max(0,f+d):d:0;d<f;d++)if(d in c&&c[d]===b)return d}return-1},merge:function(b,t){var d=t.length,f=b.length,e=0;if("number"==typeof d)for(;e<d;e++)b[f++]=t[e];else for(;t[e]!==c;)b[f++]=t[e++];return b.length=f,b},grep:function(b,c,d){var f,e=[],l=0,v=b.length;for(d=!!d;l<v;l++)f=!!c(b[l],l),d!==f&&e.push(b[l]);return e},map:function(b,t,d){var A,
e,l=[],v=0,g=b.length;if(b instanceof f||g!==c&&"number"==typeof g&&(0<g&&b[0]&&b[g-1]||0===g||f.isArray(b)))for(;v<g;v++)A=t(b[v],v,d),null!=A&&(l[l.length]=A);else for(e in b)A=t(b[e],e,d),null!=A&&(l[l.length]=A);return l.concat.apply([],l)},guid:1,proxy:function(b,t){var d,A,e;return"string"==typeof t&&(d=b[t],t=b,b=d),f.isFunction(b)?(A=aa.call(arguments,2),e=function(){return b.apply(t,A.concat(aa.call(arguments)))},e.guid=b.guid=b.guid||f.guid++,e):c},access:function(b,t,d,A,e,l,v){var g,j=
null==d,m=0,r=b.length;if(d&&"object"==typeof d){for(m in d)f.access(b,t,m,d[m],1,l,A);e=1}else if(A!==c){g=v===c&&f.isFunction(A);j&&(g?(g=t,t=function(b,c,y){return g.call(f(b),y)}):(t.call(b,A),t=null));if(t)for(;m<r;m++)t(b[m],d,g?A.call(b[m],m,t(b[m],d)):A,v);e=1}return e?b:j?t.call(b):r?t(b[0],d):l},now:function(){return(new Date).getTime()}});f.ready.promise=function(c){if(!Ea)if(Ea=f.Deferred(),"complete"===z.readyState)setTimeout(f.ready,1);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",
Ga,!1),b.addEventListener("load",f.ready,!1);else{z.attachEvent("onreadystatechange",Ga);b.attachEvent("onload",f.ready);var t=!1;try{t=null==b.frameElement&&z.documentElement}catch(d){}t&&t.doScroll&&function B(){if(!f.isReady){try{t.doScroll("left")}catch(b){return setTimeout(B,50)}f.ready()}}()}return Ea.promise(c)};f.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b,c){Ib["[object "+c+"]"]=c.toLowerCase()});Eb=f(z);var Jb={};f.Callbacks=function(b){var t;if("string"==
typeof b){if(!(t=Jb[b])){t=b;var d=Jb[t]={};t=(f.each(t.split(fa),function(b,c){d[c]=!0}),d)}}else t=f.extend({},b);b=t;var A,e,l,v,g,j,m=[],r=!b.once&&[],x=function(c){A=b.memory&&c;e=!0;j=v||0;v=0;g=m.length;for(l=!0;m&&j<g;j++)if(!1===m[j].apply(c[0],c[1])&&b.stopOnFalse){A=!1;break}l=!1;m&&(r?r.length&&x(r.shift()):A?m=[]:p.disable())},p={add:function(){if(m){var c=m.length;(function yc(c){f.each(c,function(c,t){var d=f.type(t);"function"===d&&(!b.unique||!p.has(t))?m.push(t):t&&t.length&&"string"!==
d&&yc(t)})})(arguments);l?g=m.length:A&&(v=c,x(A))}return this},remove:function(){return m&&f.each(arguments,function(b,c){for(var y;-1<(y=f.inArray(c,m,y));)m.splice(y,1),l&&(y<=g&&g--,y<=j&&j--)}),this},has:function(b){return-1<f.inArray(b,m)},empty:function(){return m=[],this},disable:function(){return m=r=A=c,this},disabled:function(){return!m},lock:function(){return r=c,A||p.disable(),this},locked:function(){return!r},fireWith:function(b,c){return c=c||[],c=[b,c.slice?c.slice():c],m&&(!e||r)&&
(l?r.push(c):x(c)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!e}};return p};f.extend({Deferred:function(b){var c=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],d="pending",A={state:function(){return d},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var b=arguments;return f.Deferred(function(y){f.each(c,function(c,
t){var d=t[0],q=b[c];e[t[1]](f.isFunction(q)?function(){var b=q.apply(this,arguments);b&&f.isFunction(b.promise)?b.promise().done(y.resolve).fail(y.reject).progress(y.notify):y[d+"With"](this===e?y:this,[b])}:y[d])});b=null}).promise()},promise:function(b){return null!=b?f.extend(b,A):A}},e={};return A.pipe=A.then,f.each(c,function(b,y){var f=y[2],l=y[3];A[y[1]]=f.add;l&&f.add(function(){d=l},c[b^1][2].disable,c[2][2].lock);e[y[0]]=f.fire;e[y[0]+"With"]=f.fireWith}),A.promise(e),b&&b.call(e,e),e},
when:function(b){var c=0,d=aa.call(arguments),A=d.length,e=1!==A||b&&f.isFunction(b.promise)?A:0,l=1===e?b:f.Deferred(),g=function(b,c,y){return function(t){c[b]=this;y[b]=1<arguments.length?aa.call(arguments):t;y===j?l.notifyWith(c,y):--e||l.resolveWith(c,y)}},j,m,r;if(1<A){j=Array(A);m=Array(A);for(r=Array(A);c<A;c++)d[c]&&f.isFunction(d[c].promise)?d[c].promise().done(g(c,r,d)).fail(l.reject).progress(g(c,m,j)):--e}return e||l.resolveWith(r,d),l.promise()}});var Oc=f,cb;var N,Ha,ha,Ia,Ja,T,ia,
Ka,db,va,Kb,I=z.createElement("div");I.setAttribute("className","t");I.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Ha=I.getElementsByTagName("*");ha=I.getElementsByTagName("a")[0];ha.style.cssText="top:1px;float:left;opacity:.5";if(!Ha||!Ha.length)cb={};else{Ia=z.createElement("select");Ja=Ia.appendChild(z.createElement("option"));T=I.getElementsByTagName("input")[0];N={leadingWhitespace:3===I.firstChild.nodeType,tbody:!I.getElementsByTagName("tbody").length,htmlSerialize:!!I.getElementsByTagName("link").length,
style:/top/.test(ha.getAttribute("style")),hrefNormalized:"/a"===ha.getAttribute("href"),opacity:/^0.5/.test(ha.style.opacity),cssFloat:!!ha.style.cssFloat,checkOn:"on"===T.value,optSelected:Ja.selected,getSetAttribute:"t"!==I.className,enctype:!!z.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===z.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,
shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};T.checked=!0;N.noCloneChecked=T.cloneNode(!0).checked;Ia.disabled=!0;N.optDisabled=!Ja.disabled;try{delete I.test}catch(Qd){N.deleteExpando=!1}!I.addEventListener&&I.attachEvent&&I.fireEvent&&(I.attachEvent("onclick",Kb=function(){N.noCloneEvent=!1}),I.cloneNode(!0).fireEvent("onclick"),I.detachEvent("onclick",Kb));T=z.createElement("input");T.value="t";T.setAttribute("type","radio");N.radioValue="t"===T.value;T.setAttribute("checked",
"checked");T.setAttribute("name","t");I.appendChild(T);ia=z.createDocumentFragment();ia.appendChild(I.lastChild);N.checkClone=ia.cloneNode(!0).cloneNode(!0).lastChild.checked;N.appendChecked=T.checked;ia.removeChild(T);ia.appendChild(I);if(I.attachEvent)for(db in{submit:!0,change:!0,focusin:!0})Ka="on"+db,(va=Ka in I)||(I.setAttribute(Ka,"return;"),va="function"==typeof I[Ka]),N[db+"Bubbles"]=va;cb=(f(function(){var c,t,d,f,e=z.getElementsByTagName("body")[0];e&&(c=z.createElement("div"),c.style.cssText=
"visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",e.insertBefore(c,e.firstChild),t=z.createElement("div"),c.appendChild(t),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d=t.getElementsByTagName("td"),d[0].style.cssText="padding:0;margin:0;border:0;display:none",va=0===d[0].offsetHeight,d[0].style.display="",d[1].style.display="none",N.reliableHiddenOffsets=va&&0===d[0].offsetHeight,t.innerHTML="",t.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
N.boxSizing=4===t.offsetWidth,N.doesNotIncludeMarginInBodyOffset=1!==e.offsetTop,b.getComputedStyle&&(N.pixelPosition="1%"!==(b.getComputedStyle(t,null)||{}).top,N.boxSizingReliable="4px"===(b.getComputedStyle(t,null)||{width:"4px"}).width,f=z.createElement("div"),f.style.cssText=t.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",f.style.marginRight=f.style.width="0",t.style.width="1px",t.appendChild(f),N.reliableMarginRight=!parseFloat((b.getComputedStyle(f,null)||{}).marginRight)),
"undefined"!=typeof t.style.zoom&&(t.innerHTML="",t.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",N.inlineBlockNeedsLayout=3===t.offsetWidth,t.style.display="block",t.style.overflow="visible",t.innerHTML="<div></div>",t.firstChild.style.width="5px",N.shrinkWrapBlocks=3!==t.offsetWidth,c.style.zoom=1),e.removeChild(c))}),ia.removeChild(I),Ha=ha=Ia=Ja=T=ia=I=null,N)}Oc.support=cb;var uc=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,tc=/([A-Z])/g;
f.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){return b=b.nodeType?f.cache[b[f.expando]]:b[f.expando],!!b&&!e(b)},data:function(b,t,d,e){if(f.acceptData(b)){var l,g,v=f.expando,j="string"==typeof t,m=b.nodeType,r=m?f.cache:b,x=m?b[v]:b[v]&&v;if(x&&r[x]&&(e||r[x].data)||!(j&&d===c)){x||(m?b[v]=x=f.deletedIds.pop()||f.guid++:x=v);r[x]||(r[x]={},
m||(r[x].toJSON=f.noop));if("object"==typeof t||"function"==typeof t)e?r[x]=f.extend(r[x],t):r[x].data=f.extend(r[x].data,t);return l=r[x],e||(l.data||(l.data={}),l=l.data),d!==c&&(l[f.camelCase(t)]=d),j?(g=l[t],null==g&&(g=l[f.camelCase(t)])):g=l,g}}},removeData:function(b,c,d){if(f.acceptData(b)){var A,l,g,v=b.nodeType,j=v?f.cache:b,m=v?b[f.expando]:f.expando;if(j[m]){if(c&&(A=d?j[m]:j[m].data)){f.isArray(c)||(c in A?c=[c]:(c=f.camelCase(c),c in A?c=[c]:c=c.split(" ")));l=0;for(g=c.length;l<g;l++)delete A[c[l]];
if(!(d?e:f.isEmptyObject)(A))return}if(!d&&(delete j[m].data,!e(j[m])))return;v?f.cleanData([b],!0):f.support.deleteExpando||j!=j.window?delete j[m]:j[m]=null}}},_data:function(b,c,d){return f.data(b,c,d,!0)},acceptData:function(b){var c=b.nodeName&&f.noData[b.nodeName.toLowerCase()];return!c||!0!==c&&b.getAttribute("classid")===c}});f.fn.extend({data:function(b,t){var q,e,l,g,v,j=this[0],m=0,r=null;if(b===c){if(this.length&&(r=f.data(j),1===j.nodeType&&!f._data(j,"parsedAttrs"))){l=j.attributes;
for(v=l.length;m<v;m++)g=l[m].name,g.indexOf("data-")||(g=f.camelCase(g.substring(5)),d(j,g,r[g]));f._data(j,"parsedAttrs",!0)}return r}return"object"==typeof b?this.each(function(){f.data(this,b)}):(q=b.split(".",2),q[1]=q[1]?"."+q[1]:"",e=q[1]+"!",f.access(this,function(t){if(t===c)return r=this.triggerHandler("getData"+e,[q[0]]),r===c&&j&&(r=f.data(j,b),r=d(j,b,r)),r===c&&q[1]?this.data(q[0]):r;q[1]=t;this.each(function(){var c=f(this);c.triggerHandler("setData"+e,q);f.data(this,b,t);c.triggerHandler("changeData"+
e,q)})},null,t,1<arguments.length,null,!1))},removeData:function(b){return this.each(function(){f.removeData(this,b)})}});f.extend({queue:function(b,c,d){var e;if(b)return c=(c||"fx")+"queue",e=f._data(b,c),d&&(!e||f.isArray(d)?e=f._data(b,c,f.makeArray(d)):e.push(d)),e||[]},dequeue:function(b,c){c=c||"fx";var d=f.queue(b,c),e=d.length,l=d.shift(),g=f._queueHooks(b,c),v=function(){f.dequeue(b,c)};"inprogress"===l&&(l=d.shift(),e--);l&&("fx"===c&&d.unshift("inprogress"),delete g.stop,l.call(b,v,g));
!e&&g&&g.empty.fire()},_queueHooks:function(b,c){var d=c+"queueHooks";return f._data(b,d)||f._data(b,d,{empty:f.Callbacks("once memory").add(function(){f.removeData(b,c+"queue",!0);f.removeData(b,d,!0)})})}});f.fn.extend({queue:function(b,d){var q=2;return"string"!=typeof b&&(d=b,b="fx",q--),arguments.length<q?f.queue(this[0],b):d===c?this:this.each(function(){var c=f.queue(this,b,d);f._queueHooks(this,b);"fx"===b&&"inprogress"!==c[0]&&f.dequeue(this,b)})},dequeue:function(b){return this.each(function(){f.dequeue(this,
b)})},delay:function(b,c){return b=f.fx?f.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var t=setTimeout(c,b);d.stop=function(){clearTimeout(t)}})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,d){var q,e=1,l=f.Deferred(),g=this,v=this.length,j=function(){--e||l.resolveWith(g,[g])};"string"!=typeof b&&(d=b,b=c);for(b=b||"fx";v--;)(q=f._data(g[v],b+"queueHooks"))&&q.empty&&(e++,q.empty.add(j));return j(),l.promise(d)}});var ba,Lb,Mb,Nb=/[\t\r\n]/g,Pc=/\r/g,Qc=/^(?:button|input)$/i,
Rc=/^(?:button|input|object|select|textarea)$/i,Sc=/^a(?:rea|)$/i,Ob=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Pb=f.support.getSetAttribute;f.fn.extend({attr:function(b,c){return f.access(this,f.attr,b,c,1<arguments.length)},removeAttr:function(b){return this.each(function(){f.removeAttr(this,b)})},prop:function(b,c){return f.access(this,f.prop,b,c,1<arguments.length)},removeProp:function(b){return b=f.propFix[b]||
b,this.each(function(){try{this[b]=c,delete this[b]}catch(d){}})},addClass:function(b){var c,d,e,l,g,v,j;if(f.isFunction(b))return this.each(function(c){f(this).addClass(b.call(this,c,this.className))});if(b&&"string"==typeof b){c=b.split(fa);d=0;for(e=this.length;d<e;d++)if(l=this[d],1===l.nodeType)if(!l.className&&1===c.length)l.className=b;else{g=" "+l.className+" ";v=0;for(j=c.length;v<j;v++)0>g.indexOf(" "+c[v]+" ")&&(g+=c[v]+" ");l.className=f.trim(g)}}return this},removeClass:function(b){var d,
q,e,l,g,v,j;if(f.isFunction(b))return this.each(function(c){f(this).removeClass(b.call(this,c,this.className))});if(b&&"string"==typeof b||b===c){d=(b||"").split(fa);v=0;for(j=this.length;v<j;v++)if(e=this[v],1===e.nodeType&&e.className){q=(" "+e.className+" ").replace(Nb," ");l=0;for(g=d.length;l<g;l++)for(;0<=q.indexOf(" "+d[l]+" ");)q=q.replace(" "+d[l]+" "," ");e.className=b?f.trim(q):""}}return this},toggleClass:function(b,c){var d=typeof b,e="boolean"==typeof c;return f.isFunction(b)?this.each(function(d){f(this).toggleClass(b.call(this,
d,this.className,c),c)}):this.each(function(){if("string"===d)for(var l,g=0,v=f(this),j=c,m=b.split(fa);l=m[g++];)j=e?j:!v.hasClass(l),v[j?"addClass":"removeClass"](l);else if("undefined"===d||"boolean"===d)this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===b?"":f._data(this,"__className__")||""})},hasClass:function(b){b=" "+b+" ";for(var c=0,d=this.length;c<d;c++)if(1===this[c].nodeType&&0<=(" "+this[c].className+" ").replace(Nb," ").indexOf(b))return!0;
return!1},val:function(b){var d,q,e,l=this[0];if(arguments.length)return e=f.isFunction(b),this.each(function(q){var l,g=f(this);if(1===this.nodeType&&(e?l=b.call(this,q,g.val()):l=b,null==l?l="":"number"==typeof l?l+="":f.isArray(l)&&(l=f.map(l,function(b){return null==b?"":b+""})),d=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],!d||!("set"in d)||d.set(this,l,"value")===c))this.value=l});if(l)return d=f.valHooks[l.type]||f.valHooks[l.nodeName.toLowerCase()],d&&"get"in d&&(q=d.get(l,
"value"))!==c?q:(q=l.value,"string"==typeof q?q.replace(Pc,""):null==q?"":q)}});f.extend({valHooks:{option:{get:function(b){var c=b.attributes.value;return!c||c.specified?b.value:b.text}},select:{get:function(b){var c,d,e=b.selectedIndex,l=[],g=b.options,v="select-one"===b.type;if(0>e)return null;b=v?e:0;for(d=v?e+1:g.length;b<d;b++)if(c=g[b],c.selected&&(f.support.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!f.nodeName(c.parentNode,"optgroup"))){c=f(c).val();
if(v)return c;l.push(c)}return v&&!l.length&&g.length?f(g[e]).val():l},set:function(b,c){var d=f.makeArray(c);return f(b).find("option").each(function(){this.selected=0<=f.inArray(f(this).val(),d)}),d.length||(b.selectedIndex=-1),d}}},attrFn:{},attr:function(b,d,q,e){var l,g,v=b.nodeType;if(b&&!(3===v||8===v||2===v)){if(e&&f.isFunction(f.fn[d]))return f(b)[d](q);if("undefined"==typeof b.getAttribute)return f.prop(b,d,q);(e=1!==v||!f.isXMLDoc(b))&&(d=d.toLowerCase(),g=f.attrHooks[d]||(Ob.test(d)?Lb:
ba));if(q!==c){if(null===q){f.removeAttr(b,d);return}return g&&"set"in g&&e&&(l=g.set(b,q,d))!==c?l:(b.setAttribute(d,q+""),q)}return g&&"get"in g&&e&&null!==(l=g.get(b,d))?l:(l=b.getAttribute(d),null===l?c:l)}},removeAttr:function(b,c){var d,e,l,g,v=0;if(c&&1===b.nodeType)for(e=c.split(fa);v<e.length;v++)(l=e[v])&&(d=f.propFix[l]||l,g=Ob.test(l),g||f.attr(b,l,""),b.removeAttribute(Pb?l:d),g&&d in b&&(b[d]=!1))},attrHooks:{type:{set:function(b,c){if(Qc.test(b.nodeName)&&b.parentNode)f.error("type property can't be changed");
else if(!f.support.radioValue&&"radio"===c&&f.nodeName(b,"input")){var d=b.value;return b.setAttribute("type",c),d&&(b.value=d),c}}},value:{get:function(b,c){return ba&&f.nodeName(b,"button")?ba.get(b,c):c in b?b.value:null},set:function(b,c,d){if(ba&&f.nodeName(b,"button"))return ba.set(b,c,d);b.value=c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,d,q){var e,l,g,v=b.nodeType;if(b&&!(3===v||8===v||2===v))return g=1!==v||!f.isXMLDoc(b),g&&(d=f.propFix[d]||d,l=f.propHooks[d]),q!==c?l&&"set"in l&&(e=l.set(b,q,d))!==c?e:b[d]=q:l&&"get"in l&&null!==(e=l.get(b,d))?e:b[d]},propHooks:{tabIndex:{get:function(b){var d=b.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):Rc.test(b.nodeName)||Sc.test(b.nodeName)&&b.href?0:c}}}});Lb={get:function(b,
d){var q,e=f.prop(b,d);return!0===e||"boolean"!=typeof e&&(q=b.getAttributeNode(d))&&!1!==q.nodeValue?d.toLowerCase():c},set:function(b,c,d){var e;return!1===c?f.removeAttr(b,d):(e=f.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}};Pb||(Mb={name:!0,id:!0,coords:!0},ba=f.valHooks.button={get:function(b,d){var f;return f=b.getAttributeNode(d),f&&(Mb[d]?""!==f.value:f.specified)?f.value:c},set:function(b,c,d){var f=b.getAttributeNode(d);return f||(f=z.createAttribute(d),b.setAttributeNode(f)),
f.value=c+""}},f.each(["width","height"],function(b,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{set:function(b,y){if(""===y)return b.setAttribute(c,"auto"),y}})}),f.attrHooks.contenteditable={get:ba.get,set:function(b,c,d){""===c&&(c="false");ba.set(b,c,d)}});f.support.hrefNormalized||f.each(["href","src","width","height"],function(b,d){f.attrHooks[d]=f.extend(f.attrHooks[d],{get:function(b){b=b.getAttribute(d,2);return null===b?c:b}})});f.support.style||(f.attrHooks.style={get:function(b){return b.style.cssText.toLowerCase()||
c},set:function(b,c){return b.style.cssText=c+""}});f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(b){b=b.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(b){return null===b.getAttribute("value")?"on":b.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],
{set:function(b,c){if(f.isArray(c))return b.checked=0<=f.inArray(f(b).val(),c)}})});var eb=/^(?:textarea|input|select)$/i,Qb=/^([^\.]*|)(?:\.(.+)|)$/,Tc=/(?:^|\s)hover(\.\S+|)\b/,Uc=/^key/,Vc=/^(?:mouse|contextmenu)|click/,Rb=/^(?:focusinfocus|focusoutblur)$/,Sb=function(b){return f.event.special.hover?b:b.replace(Tc,"mouseenter$1 mouseleave$1")};f.event={add:function(b,d,q,e,l){var g,v,j,m,r,x,p,s,n;if(!(3===b.nodeType||8===b.nodeType||!d||!q||!(g=f._data(b)))){q.handler&&(p=q,q=p.handler,l=p.selector);
q.guid||(q.guid=f.guid++);(j=g.events)||(g.events=j={});(v=g.handle)||(g.handle=v=function(b){return"undefined"!=typeof f&&(!b||f.event.triggered!==b.type)?f.event.dispatch.apply(v.elem,arguments):c},v.elem=b);d=f.trim(Sb(d)).split(" ");for(g=0;g<d.length;g++){m=Qb.exec(d[g])||[];r=m[1];x=(m[2]||"").split(".").sort();n=f.event.special[r]||{};r=(l?n.delegateType:n.bindType)||r;n=f.event.special[r]||{};m=f.extend({type:r,origType:m[1],data:e,handler:q,guid:q.guid,selector:l,needsContext:l&&f.expr.match.needsContext.test(l),
namespace:x.join(".")},p);s=j[r];if(!s&&(s=j[r]=[],s.delegateCount=0,!n.setup||!1===n.setup.call(b,e,x,v)))b.addEventListener?b.addEventListener(r,v,!1):b.attachEvent&&b.attachEvent("on"+r,v);n.add&&(n.add.call(b,m),m.handler.guid||(m.handler.guid=q.guid));l?s.splice(s.delegateCount++,0,m):s.push(m);f.event.global[r]=!0}b=null}},global:{},remove:function(b,c,d,e,l){var g,v,j,m,r,x,p,s,n,u,D=f.hasData(b)&&f._data(b);if(D&&(p=D.events)){c=f.trim(Sb(c||"")).split(" ");for(g=0;g<c.length;g++)if(v=Qb.exec(c[g])||
[],j=m=v[1],v=v[2],j){s=f.event.special[j]||{};j=(e?s.delegateType:s.bindType)||j;n=p[j]||[];r=n.length;v=v?RegExp("(^|\\.)"+v.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(x=0;x<n.length;x++)u=n[x],(l||m===u.origType)&&(!d||d.guid===u.guid)&&(!v||v.test(u.namespace))&&(!e||e===u.selector||"**"===e&&u.selector)&&(n.splice(x--,1),u.selector&&n.delegateCount--,s.remove&&s.remove.call(b,u));0===n.length&&r!==n.length&&((!s.teardown||!1===s.teardown.call(b,v,D.handle))&&f.removeEvent(b,
j,D.handle),delete p[j])}else for(j in p)f.event.remove(b,j+c[g],d,e,!0);f.isEmptyObject(p)&&(delete D.handle,f.removeData(b,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(d,t,q,e){if(!q||3!==q.nodeType&&8!==q.nodeType){var l,g,v,j,m,r,x,p=d.type||d;j=[];if(!Rb.test(p+f.event.triggered)&&(0<=p.indexOf("!")&&(p=p.slice(0,-1),l=!0),0<=p.indexOf(".")&&(j=p.split("."),p=j.shift(),j.sort()),q&&!f.event.customEvent[p]||f.event.global[p]))if(d="object"==typeof d?d[f.expando]?
d:new f.Event(p,d):new f.Event(p),d.type=p,d.isTrigger=!0,d.exclusive=l,d.namespace=j.join("."),d.namespace_re=d.namespace?RegExp("(^|\\.)"+j.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,j=0>p.indexOf(":")?"on"+p:"",q){if(d.result=c,d.target||(d.target=q),t=null!=t?f.makeArray(t):[],t.unshift(d),m=f.event.special[p]||{},!(m.trigger&&!1===m.trigger.apply(q,t))){x=[[q,m.bindType||p]];if(!e&&!m.noBubble&&!f.isWindow(q)){g=m.delegateType||p;l=Rb.test(g+p)?q:q.parentNode;for(v=q;l;l=l.parentNode)x.push([l,g]),
v=l;v===(q.ownerDocument||z)&&x.push([v.defaultView||v.parentWindow||b,g])}for(g=0;g<x.length&&!d.isPropagationStopped();g++)l=x[g][0],d.type=x[g][1],(r=(f._data(l,"events")||{})[d.type]&&f._data(l,"handle"))&&r.apply(l,t),(r=j&&l[j])&&f.acceptData(l)&&r.apply&&!1===r.apply(l,t)&&d.preventDefault();return d.type=p,!e&&!d.isDefaultPrevented()&&(!m._default||!1===m._default.apply(q.ownerDocument,t))&&("click"!==p||!f.nodeName(q,"a"))&&f.acceptData(q)&&j&&q[p]&&("focus"!==p&&"blur"!==p||0!==d.target.offsetWidth)&&
!f.isWindow(q)&&(v=q[j],v&&(q[j]=null),f.event.triggered=p,q[p](),f.event.triggered=c,v&&(q[j]=v)),d.result}}else for(g in q=f.cache,q)q[g].events&&q[g].events[p]&&f.event.trigger(d,t,q[g].handle.elem,!0)}},dispatch:function(d){d=f.event.fix(d||b.event);var t,q,e,l,g,v,j=(f._data(this,"events")||{})[d.type]||[],m=j.delegateCount,r=aa.call(arguments),p=!d.exclusive&&!d.namespace,x=f.event.special[d.type]||{},s=[];r[0]=d;d.delegateTarget=this;if(!(x.preDispatch&&!1===x.preDispatch.call(this,d))){if(m&&
(!d.button||"click"!==d.type))for(q=d.target;q!=this;q=q.parentNode||this)if(!0!==q.disabled||"click"!==d.type){l={};g=[];for(t=0;t<m;t++)e=j[t],v=e.selector,l[v]===c&&(l[v]=e.needsContext?0<=f(v,this).index(q):f.find(v,this,null,[q]).length),l[v]&&g.push(e);g.length&&s.push({elem:q,matches:g})}j.length>m&&s.push({elem:this,matches:j.slice(m)});for(t=0;t<s.length&&!d.isPropagationStopped();t++){l=s[t];d.currentTarget=l.elem;for(q=0;q<l.matches.length&&!d.isImmediatePropagationStopped();q++)if(e=l.matches[q],
p||!d.namespace&&!e.namespace||d.namespace_re&&d.namespace_re.test(e.namespace))d.data=e.data,d.handleObj=e,e=((f.event.special[e.origType]||{}).handle||e.handler).apply(l.elem,r),e!==c&&(d.result=e,!1===e&&(d.preventDefault(),d.stopPropagation()))}return x.postDispatch&&x.postDispatch.call(this,d),d.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},
keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,c){return null==b.which&&(b.which=null!=c.charCode?c.charCode:c.keyCode),b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,d){var f,e,l,g=d.button,v=d.fromElement;return null==b.pageX&&null!=d.clientX&&(f=b.target.ownerDocument||z,e=f.documentElement,l=f.body,b.pageX=d.clientX+(e&&e.scrollLeft||l&&l.scrollLeft||0)-(e&&e.clientLeft||
l&&l.clientLeft||0),b.pageY=d.clientY+(e&&e.scrollTop||l&&l.scrollTop||0)-(e&&e.clientTop||l&&l.clientTop||0)),!b.relatedTarget&&v&&(b.relatedTarget=v===b.target?d.toElement:v),!b.which&&g!==c&&(b.which=g&1?1:g&2?3:g&4?2:0),b}},fix:function(b){if(b[f.expando])return b;var c,d,e=b,l=f.event.fixHooks[b.type]||{},g=l.props?this.props.concat(l.props):this.props;b=f.Event(e);for(c=g.length;c;)d=g[--c],b[d]=e[d];return b.target||(b.target=e.srcElement||z),3===b.target.nodeType&&(b.target=b.target.parentNode),
b.metaKey=!!b.metaKey,l.filter?l.filter(b,e):b},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b,c,d){f.isWindow(this)&&(this.onbeforeunload=d)},teardown:function(b,c){this.onbeforeunload===c&&(this.onbeforeunload=null)}}},simulate:function(b,c,d,e){b=f.extend(new f.Event,d,{type:b,isSimulated:!0,originalEvent:{}});e?f.event.trigger(b,null,c):f.event.dispatch.call(c,b);b.isDefaultPrevented()&&d.preventDefault()}};f.event.handle=
f.event.dispatch;f.removeEvent=z.removeEventListener?function(b,c,d){b.removeEventListener&&b.removeEventListener(c,d,!1)}:function(b,c,d){c="on"+c;b.detachEvent&&("undefined"==typeof b[c]&&(b[c]=null),b.detachEvent(c,d))};f.Event=function(b,c){if(this instanceof f.Event)b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||!1===b.returnValue||b.getPreventDefault&&b.getPreventDefault()?j:g):this.type=b,c&&f.extend(this,c),this.timeStamp=b&&b.timeStamp||f.now(),
this[f.expando]=!0;else return new f.Event(b,c)};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=j;var b=this.originalEvent;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=j;var b=this.originalEvent;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j;this.stopPropagation()},isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g};
f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,c){f.event.special[b]={delegateType:c,bindType:c,handle:function(b){var d,y=b.relatedTarget,e=b.handleObj;if(!y||y!==this&&!f.contains(this,y))b.type=e.origType,d=e.handler.apply(this,arguments),b.type=c;return d}}});f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=f.nodeName(b,"input")||f.nodeName(b,"button")?
b.form:c)&&!f._data(b,"_submit_attached")&&(f.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),f._data(b,"_submit_attached",!0))})},postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&f.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}});f.support.changeBubbles||(f.event.special.change={setup:function(){if(eb.test(this.nodeName)){if("checkbox"===this.type||
"radio"===this.type)f.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);f.event.simulate("change",this,b,!0)});return!1}f.event.add(this,"beforeactivate._change",function(b){b=b.target;eb.test(b.nodeName)&&!f._data(b,"_change_attached")&&(f.event.add(b,"change._change",function(b){this.parentNode&&!b.isSimulated&&!b.isTrigger&&
f.event.simulate("change",this.parentNode,b,!0)}),f._data(b,"_change_attached",!0))})},handle:function(b){var c=b.target;if(this!==c||b.isSimulated||b.isTrigger||"radio"!==c.type&&"checkbox"!==c.type)return b.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),!eb.test(this.nodeName)}});f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(b,c){var d=0,e=function(b){f.event.simulate(c,b.target,f.event.fix(b),!0)};f.event.special[c]=
{setup:function(){0===d++&&z.addEventListener(b,e,!0)},teardown:function(){0===--d&&z.removeEventListener(b,e,!0)}}});f.fn.extend({on:function(b,d,q,e,l){var j,v;if("object"==typeof b){"string"!=typeof d&&(q=q||d,d=c);for(v in b)this.on(v,d,q,b[v],l);return this}null==q&&null==e?(e=d,q=d=c):null==e&&("string"==typeof d?(e=q,q=c):(e=q,q=d,d=c));if(!1===e)e=g;else if(!e)return this;return 1===l&&(j=e,e=function(b){return f().off(b),j.apply(this,arguments)},e.guid=j.guid||(j.guid=f.guid++)),this.each(function(){f.event.add(this,
b,e,q,d)})},one:function(b,c,d,f){return this.on(b,c,d,f,1)},off:function(b,d,q){var e,l;if(b&&b.preventDefault&&b.handleObj)return e=b.handleObj,f(b.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof b){for(l in b)this.off(l,d,b[l]);return this}if(!1===d||"function"==typeof d)q=d,d=c;return!1===q&&(q=g),this.each(function(){f.event.remove(this,b,q,d)})},bind:function(b,c,d){return this.on(b,null,c,d)},unbind:function(b,c){return this.off(b,
null,c)},live:function(b,c,d){return f(this.context).on(b,this.selector,c,d),this},die:function(b,c){return f(this.context).off(b,this.selector||"**",c),this},delegate:function(b,c,d,f){return this.on(c,b,d,f)},undelegate:function(b,c,d){return 1===arguments.length?this.off(b,"**"):this.off(c,b||"**",d)},trigger:function(b,c){return this.each(function(){f.event.trigger(b,c,this)})},triggerHandler:function(b,c){if(this[0])return f.event.trigger(b,c,this[0],!0)},toggle:function(b){var c=arguments,d=
b.guid||f.guid++,e=0,l=function(d){var q=(f._data(this,"lastToggle"+b.guid)||0)%e;return f._data(this,"lastToggle"+b.guid,q+1),d.preventDefault(),c[q].apply(this,arguments)||!1};for(l.guid=d;e<c.length;)c[e++].guid=d;return this.click(l)},hover:function(b,c){return this.mouseenter(b).mouseleave(c||b)}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(b,c){f.fn[c]=function(b,d){return null==d&&(d=b,b=null),0<arguments.length?this.on(c,null,b,d):this.trigger(c)};Uc.test(c)&&(f.event.fixHooks[c]=f.event.keyHooks);Vc.test(c)&&(f.event.fixHooks[c]=f.event.mouseHooks)});var Wc=b,C=function(b,c,d,f){d=d||[];c=c||X;var e,l,g,j,m=c.nodeType;if(!b||"string"!=typeof b)return d;if(1!==m&&9!==m)return[];g=La(c);if(!g&&!f&&(e=Xc.exec(b)))if(j=e[1])if(9===m){l=c.getElementById(j);if(!l||!l.parentNode)return d;if(l.id===j)return d.push(l),d}else{if(c.ownerDocument&&
(l=c.ownerDocument.getElementById(j))&&Tb(c,l)&&l.id===j)return d.push(l),d}else{if(e[2])return pa.apply(d,qa.call(c.getElementsByTagName(b),0)),d;if((j=e[3])&&Ub&&c.getElementsByClassName)return pa.apply(d,qa.call(c.getElementsByClassName(j),0)),d}return fb(b.replace(Ma,"$1"),c,d,f,g)},wa=function(b){return function(c){return"input"===c.nodeName.toLowerCase()&&c.type===b}},Vb=function(b){return function(c){var d=c.nodeName.toLowerCase();return("input"===d||"button"===d)&&c.type===b}},ja=function(b){return Y(function(c){return c=
+c,Y(function(d,f){for(var e,l=b([],d.length,c),g=l.length;g--;)d[e=l[g]]&&(d[e]=!(f[e]=d[e]))})})},Na=function(b,c,d){if(b===c)return d;for(b=b.nextSibling;b;){if(b===c)return-1;b=b.nextSibling}return 1},Pa=function(b,c){var d,f,e,l,g,j,m;if(g=Wb[F][b])return c?0:g.slice(0);g=b;j=[];for(m=J.preFilter;g;){if(!d||(f=Yc.exec(g)))f&&(g=g.slice(f[0].length)),j.push(e=[]);d=!1;if(f=Zc.exec(g))e.push(d=new Xb(f.shift())),g=g.slice(d.length),d.type=f[0].replace(Ma," ");for(l in J.filter)(f=Oa[l].exec(g))&&
(!m[l]||(f=m[l](f,X,!0)))&&(e.push(d=new Xb(f.shift())),g=g.slice(d.length),d.type=l,d.matches=f);if(!d)break}return c?g.length:g?C.error(b):Wb(b,j).slice(0)},hb=function(b,c,d){var f=c.dir,e=d&&"parentNode"===c.dir,l=$c++;return c.first?function(c,d,t){for(;c=c[f];)if(e||1===c.nodeType)return b(c,d,t)}:function(c,d,t){if(t)for(;c=c[f];){if((e||1===c.nodeType)&&b(c,d,t))return c}else for(var q,g=xa+" "+l+" ",j=g+gb;c=c[f];)if(e||1===c.nodeType){if((q=c[F])===j)return c.sizset;if("string"==typeof q&&
0===q.indexOf(g)){if(c.sizset)return c}else{c[F]=j;if(b(c,d,t))return c.sizset=!0,c;c.sizset=!1}}}},ib=function(b){return 1<b.length?function(c,d,f){for(var e=b.length;e--;)if(!b[e](c,d,f))return!1;return!0}:b[0]},Qa=function(b,c,d,f,e){for(var l,g=[],j=0,m=b.length,r=null!=c;j<m;j++)if(l=b[j])if(!d||d(l,f,e))g.push(l),r&&c.push(j);return g},jb=function(b,c,d,f,e,l){return f&&!f[F]&&(f=jb(f)),e&&!e[F]&&(e=jb(e,l)),Y(function(l,g,j,m){if(!l||!e){var r,x,p=[],s=[],n=g.length;if(!(x=l)){x=c||"*";var O=
j.nodeType?[j]:j,u=[];r=0;for(var D=O.length;r<D;r++)C(x,O[r],u,l);x=u}O=b&&(l||!c)?Qa(x,p,b,j,m):x;u=d?e||(l?b:n||f)?[]:g:O;d&&d(O,u,j,m);if(f){x=Qa(u,s);f(x,[],j,m);for(j=x.length;j--;)if(r=x[j])u[s[j]]=!(O[s[j]]=r)}if(l)for(j=b&&u.length;j--;){if(r=u[j])l[p[j]]=!(g[p[j]]=r)}else u=Qa(u===g?u.splice(n,u.length):u),e?e(null,g,u,m):pa.apply(g,u)}})},kb=function(b){var c,d,f,e=b.length,l=J.relative[b[0].type];d=l||J.relative[" "];for(var g=l?1:0,j=hb(function(b){return b===c},d,!0),m=hb(function(b){return-1<
Yb.call(c,b)},d,!0),r=[function(b,d,f){return!l&&(f||d!==Ra)||((c=d).nodeType?j(b,d,f):m(b,d,f))}];g<e;g++)if(d=J.relative[b[g].type])r=[hb(ib(r),d)];else{d=J.filter[b[g].type].apply(null,b[g].matches);if(d[F]){for(f=++g;f<e&&!J.relative[b[f].type];f++);return jb(1<g&&ib(r),1<g&&b.slice(0,g-1).join("").replace(Ma,"$1"),d,g<f&&kb(b.slice(g,f)),f<e&&kb(b=b.slice(f)),f<e&&b.join(""))}r.push(d)}return ib(r)},fb=function(b,c,d,f,e){var l,g,j,m,r=Pa(b);if(!f&&1===r.length){g=r[0]=r[0].slice(0);if(2<g.length&&
"ID"===(j=g[0]).type&&9===c.nodeType&&!e&&J.relative[g[1].type]){c=J.find.ID(j.matches[0].replace(ka,""),c,e)[0];if(!c)return d;b=b.slice(g.shift().length)}for(l=Oa.POS.test(b)?-1:g.length-1;0<=l;l--){j=g[l];if(J.relative[m=j.type])break;if(m=J.find[m])if(f=m(j.matches[0].replace(ka,""),lb.test(g[0].type)&&c.parentNode||c,e)){g.splice(l,1);b=f.length&&g.join("");if(!b)return pa.apply(d,qa.call(f,0)),d;break}}}return mb(b,r)(f,c,e,d,lb.test(b)),d},Zb=function(){},gb,nb,J,Sa,La,Tb,mb,ob,ya,Ra,$b=!0,
F=("sizcache"+Math.random()).replace(".",""),Xb=String,X=Wc.document,W=X.documentElement,xa=0,$c=0,ad=[].pop,pa=[].push,qa=[].slice,Yb=[].indexOf||function(b){for(var c=0,d=this.length;c<d;c++)if(this[c]===b)return c;return-1},Y=function(b,c){return b[F]=null==c||c,b},pb=function(){var b={},c=[];return Y(function(d,f){return c.push(d)>J.cacheLength&&delete b[c.shift()],b[d]=f},b)},ac=pb(),Wb=pb(),bc=pb(),cc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",qb=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+cc+")|[^:]|\\\\.)*|.*))\\)|)",Ma=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Yc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Zc=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,bd=RegExp(qb),Xc=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,lb=/[\x20\t\r\n\f]*[+~]/,cd=/h\d/i,dd=/input|select|textarea|button/i,ka=/\\(?!\\)/g,
Oa={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+cc),PSEUDO:RegExp("^"+qb),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},ca=function(b){var c=X.createElement("div");try{return b(c)}catch(d){return!1}finally{}},ed=ca(function(b){return b.appendChild(X.createComment("")),!b.getElementsByTagName("*").length}),fd=ca(function(b){return b.innerHTML="<a href='#'></a>",b.firstChild&&"undefined"!==typeof b.firstChild.getAttribute&&"#"===b.firstChild.getAttribute("href")}),
gd=ca(function(b){b.innerHTML="<select></select>";b=typeof b.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),Ub=ca(function(b){return b.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!b.getElementsByClassName||!b.getElementsByClassName("e").length?!1:(b.lastChild.className="e",2===b.getElementsByClassName("e").length)}),hd=ca(function(b){b.id=F+0;b.innerHTML="<a name='"+F+"'></a><div name='"+F+"'></div>";W.insertBefore(b,W.firstChild);var c=X.getElementsByName&&
X.getElementsByName(F).length===2+X.getElementsByName(F+0).length;return nb=!X.getElementById(F),W.removeChild(b),c});try{qa.call(W.childNodes,0)[0].nodeType}catch(Rd){qa=function(b){for(var c,d=[];c=this[b];b++)d.push(c);return d}}C.matches=function(b,c){return C(b,null,null,c)};C.matchesSelector=function(b,c){return 0<C(c,null,null,[b]).length};Sa=C.getText=function(b){var c,d="",f=0;if(c=b.nodeType)if(1===c||9===c||11===c){if("string"==typeof b.textContent)return b.textContent;for(b=b.firstChild;b;b=
b.nextSibling)d+=Sa(b)}else{if(3===c||4===c)return b.nodeValue}else for(;c=b[f];f++)d+=Sa(c);return d};La=C.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};Tb=C.contains=W.contains?function(b,c){var d=9===b.nodeType?b.documentElement:b,f=c&&c.parentNode;return b===f||!(!f||!(1===f.nodeType&&d.contains&&d.contains(f)))}:W.compareDocumentPosition?function(b,c){return c&&!!(b.compareDocumentPosition(c)&16)}:function(b,c){for(;c=c.parentNode;)if(c===b)return!0;
return!1};C.attr=function(b,c){var d,f=La(b);return f||(c=c.toLowerCase()),(d=J.attrHandle[c])?d(b):f||gd?b.getAttribute(c):(d=b.getAttributeNode(c),d?"boolean"==typeof b[c]?b[c]?c:null:d.specified?d.value:null:null)};J=C.selectors={cacheLength:50,createPseudo:Y,match:Oa,attrHandle:fd?{}:{href:function(b){return b.getAttribute("href",2)},type:function(b){return b.getAttribute("type")}},find:{ID:nb?function(b,c,d){if("undefined"!==typeof c.getElementById&&!d)return(b=c.getElementById(b))&&b.parentNode?
[b]:[]}:function(b,c,d){if("undefined"!==typeof c.getElementById&&!d)return(c=c.getElementById(b))?c.id===b||"undefined"!==typeof c.getAttributeNode&&c.getAttributeNode("id").value===b?[c]:void 0:[]},TAG:ed?function(b,c){if("undefined"!==typeof c.getElementsByTagName)return c.getElementsByTagName(b)}:function(b,c){var d=c.getElementsByTagName(b);if("*"===b){for(var f,e=[],l=0;f=d[l];l++)1===f.nodeType&&e.push(f);return e}return d},NAME:hd&&function(b,c){if("undefined"!==typeof c.getElementsByName)return c.getElementsByName(name)},
CLASS:Ub&&function(b,c,d){if("undefined"!==typeof c.getElementsByClassName&&!d)return c.getElementsByClassName(b)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(ka,""),b[3]=(b[4]||b[5]||"").replace(ka,""),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1]?(b[2]||C.error(b[0]),b[3]=+(b[3]?b[4]+(b[5]||1):
2*("even"===b[2]||"odd"===b[2])),b[4]=+(b[6]+b[7]||"odd"===b[2])):b[2]&&C.error(b[0]),b},PSEUDO:function(b){var c,d;if(Oa.CHILD.test(b[0]))return null;if(b[3])b[2]=b[3];else if(c=b[4])bd.test(c)&&(d=Pa(c,!0))&&(d=c.indexOf(")",c.length-d)-c.length)&&(c=c.slice(0,d),b[0]=b[0].slice(0,d)),b[2]=c;return b.slice(0,3)}},filter:{ID:nb?function(b){return b=b.replace(ka,""),function(c){return c.getAttribute("id")===b}}:function(b){return b=b.replace(ka,""),function(c){return(c="undefined"!==typeof c.getAttributeNode&&
c.getAttributeNode("id"))&&c.value===b}},TAG:function(b){return"*"===b?function(){return!0}:(b=b.replace(ka,"").toLowerCase(),function(c){return c.nodeName&&c.nodeName.toLowerCase()===b})},CLASS:function(b){var c=ac[F][b];return c||(c=ac(b,RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))),function(b){return c.test(b.className||"undefined"!==typeof b.getAttribute&&b.getAttribute("class")||"")}},ATTR:function(b,c,d){return function(f){f=C.attr(f,b);return null==f?"!="===c:c?(f+="","="===
c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&-1<f.indexOf(d):"$="===c?d&&f.substr(f.length-d.length)===d:"~="===c?-1<(" "+f+" ").indexOf(d):"|="===c?f===d||f.substr(0,d.length+1)===d+"-":!1):!0}},CHILD:function(b,c,d,f){return"nth"===b?function(b){var c,e;c=b.parentNode;if(1===d&&0===f)return!0;if(c){e=0;for(c=c.firstChild;c&&!(1===c.nodeType&&(e++,b===c));c=c.nextSibling);}return e-=f,e===d||0===e%d&&0<=e/d}:function(c){var d=c;switch(b){case "only":case "first":for(;d=d.previousSibling;)if(1===
d.nodeType)return!1;if("first"===b)return!0;d=c;case "last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0}}},PSEUDO:function(b,c){var d,f=J.pseudos[b]||J.setFilters[b.toLowerCase()]||C.error("unsupported pseudo: "+b);return f[F]?f(c):1<f.length?(d=[b,b,"",c],J.setFilters.hasOwnProperty(b.toLowerCase())?Y(function(b,d){for(var e,l=f(b,c),y=l.length;y--;)e=Yb.call(b,l[y]),b[e]=!(d[e]=l[y])}):function(b){return f(b,0,d)}):f}},pseudos:{not:Y(function(b){var c=[],d=[],f=mb(b.replace(Ma,"$1"));
return f[F]?Y(function(b,c,d,e){e=f(b,null,e,[]);for(var l=b.length;l--;)if(d=e[l])b[l]=!(c[l]=d)}):function(b,e,l){return c[0]=b,f(c,null,l,d),!d.pop()}}),has:Y(function(b){return function(c){return 0<C(b,c).length}}),contains:Y(function(b){return function(c){return-1<(c.textContent||c.innerText||Sa(c)).indexOf(b)}}),enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&!!b.checked||"option"===
c&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},parent:function(b){return!J.pseudos.empty(b)},empty:function(b){var c;for(b=b.firstChild;b;){if("@"<b.nodeName||3===(c=b.nodeType)||4===c)return!1;b=b.nextSibling}return!0},header:function(b){return cd.test(b.nodeName)},text:function(b){var c,d;return"input"===b.nodeName.toLowerCase()&&"text"===(c=b.type)&&(null==(d=b.getAttribute("type"))||d.toLowerCase()===c)},radio:wa("radio"),checkbox:wa("checkbox"),
file:wa("file"),password:wa("password"),image:wa("image"),submit:Vb("submit"),reset:Vb("reset"),button:function(b){var c=b.nodeName.toLowerCase();return"input"===c&&"button"===b.type||"button"===c},input:function(b){return dd.test(b.nodeName)},focus:function(b){var c=b.ownerDocument;return b===c.activeElement&&(!c.hasFocus||c.hasFocus())&&(!!b.type||!!b.href)},active:function(b){return b===b.ownerDocument.activeElement},first:ja(function(){return[0]}),last:ja(function(b,c){return[c-1]}),eq:ja(function(b,
c,d){return[0>d?d+c:d]}),even:ja(function(b,c){for(var d=0;d<c;d+=2)b.push(d);return b}),odd:ja(function(b,c){for(var d=1;d<c;d+=2)b.push(d);return b}),lt:ja(function(b,c,d){for(c=0>d?d+c:d;0<=--c;)b.push(c);return b}),gt:ja(function(b,c,d){for(d=0>d?d+c:d;++d<c;)b.push(d);return b})}};ob=W.compareDocumentPosition?function(b,c){return b===c?(ya=!0,0):(!b.compareDocumentPosition||!c.compareDocumentPosition?b.compareDocumentPosition:b.compareDocumentPosition(c)&4)?-1:1}:function(b,c){if(b===c)return ya=
!0,0;if(b.sourceIndex&&c.sourceIndex)return b.sourceIndex-c.sourceIndex;var d,f,e=[],l=[];d=b.parentNode;f=c.parentNode;var g=d;if(d===f)return Na(b,c);if(!d)return-1;if(!f)return 1;for(;g;)e.unshift(g),g=g.parentNode;for(g=f;g;)l.unshift(g),g=g.parentNode;d=e.length;f=l.length;for(g=0;g<d&&g<f;g++)if(e[g]!==l[g])return Na(e[g],l[g]);return g===d?Na(b,l[g],-1):Na(e[g],c,1)};[0,0].sort(ob);$b=!ya;C.uniqueSort=function(b){var c,d=1;ya=$b;b.sort(ob);if(ya)for(;c=b[d];d++)c===b[d-1]&&b.splice(d--,1);
return b};C.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};mb=C.compile=function(b,c){var d,f=[],e=[],l=bc[F][b];if(!l){c||(c=Pa(b));for(d=c.length;d--;)l=kb(c[d]),l[F]?f.push(l):e.push(l);var g=0<f.length,j=0<e.length,m=function(b,c,d,l,y){var q,t,r=[],x=0,p="0",s=b&&[],n=null!=y,u=Ra,O=b||j&&J.find.TAG("*",y&&c.parentNode||c),D=xa+=null==u?1:Math.E;for(n&&(Ra=c!==X&&c,gb=m.el);null!=(y=O[p]);p++){if(j&&y){for(q=0;t=e[q];q++)if(t(y,c,d)){l.push(y);break}n&&(xa=D,gb=
++m.el)}g&&((y=!t&&y)&&x--,b&&s.push(y))}x+=p;if(g&&p!==x){for(q=0;t=f[q];q++)t(s,r,c,d);if(b){if(0<x)for(;p--;)!s[p]&&!r[p]&&(r[p]=ad.call(l));r=Qa(r)}pa.apply(l,r);n&&!b&&0<r.length&&1<x+f.length&&C.uniqueSort(l)}return n&&(xa=D,Ra=u),s};d=(m.el=0,g?Y(m):m);l=bc(b,d)}return l};if(X.querySelectorAll){var dc,id=fb,jd=/'|\\/g,kd=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,Z=[":focus"],Ta=[":active",":focus"],Ua=W.matchesSelector||W.mozMatchesSelector||W.webkitMatchesSelector||W.oMatchesSelector||
W.msMatchesSelector;ca(function(b){b.innerHTML="<select><option selected=''></option></select>";b.querySelectorAll("[selected]").length||Z.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");b.querySelectorAll(":checked").length||Z.push(":checked")});ca(function(b){b.innerHTML="<p test=''></p>";b.querySelectorAll("[test^='']").length&&Z.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");b.innerHTML="<input type='hidden'/>";b.querySelectorAll(":enabled").length||Z.push(":enabled",
":disabled")});Z=RegExp(Z.join("|"));fb=function(b,c,d,f,e){if(!f&&!e&&(!Z||!Z.test(b))){var l,g,j=!0,m=F;g=c;l=9===c.nodeType&&b;if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){l=Pa(b);(j=c.getAttribute("id"))?m=j.replace(jd,"\\$&"):c.setAttribute("id",m);m="[id='"+m+"'] ";for(g=l.length;g--;)l[g]=m+l[g].join("");g=lb.test(b)&&c.parentNode||c;l=l.join(",")}if(l)try{return pa.apply(d,qa.call(g.querySelectorAll(l),0)),d}catch(r){}finally{j||c.removeAttribute("id")}}return id(b,c,d,f,e)};Ua&&
(ca(function(b){dc=Ua.call(b,"div");try{Ua.call(b,"[test!='']:sizzle"),Ta.push("!=",qb)}catch(c){}}),Ta=RegExp(Ta.join("|")),C.matchesSelector=function(b,c){c=c.replace(kd,"='$1']");if(!La(b)&&!Ta.test(c)&&(!Z||!Z.test(c)))try{var d=Ua.call(b,c);if(d||dc||b.document&&11!==b.document.nodeType)return d}catch(f){}return 0<C(c,null,null,[b]).length})}J.pseudos.nth=J.pseudos.eq;J.filters=Zb.prototype=J.pseudos;J.setFilters=new Zb;C.attr=f.attr;f.find=C;f.expr=C.selectors;f.expr[":"]=f.expr.pseudos;f.unique=
C.uniqueSort;f.text=C.getText;f.isXMLDoc=C.isXML;f.contains=C.contains;var ld=/Until$/,md=/^(?:parents|prev(?:Until|All))/,vc=/^.[^:#\[\.,]*$/,ec=f.expr.match.needsContext,nd={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(b){var c,d,e,l,g,j,m=this;if("string"!=typeof b)return f(b).filter(function(){c=0;for(d=m.length;c<d;c++)if(f.contains(m[c],this))return!0});j=this.pushStack("","find",b);c=0;for(d=this.length;c<d;c++)if(e=j.length,f.find(b,this[c],j),0<c)for(l=e;l<j.length;l++)for(g=
0;g<e;g++)if(j[g]===j[l]){j.splice(l--,1);break}return j},has:function(b){var c,d=f(b,this),e=d.length;return this.filter(function(){for(c=0;c<e;c++)if(f.contains(this,d[c]))return!0})},not:function(b){return this.pushStack(m(this,b,!1),"not",b)},filter:function(b){return this.pushStack(m(this,b,!0),"filter",b)},is:function(b){return!!b&&("string"==typeof b?ec.test(b)?0<=f(b,this.context).index(this[0]):0<f.filter(b,this).length:0<this.filter(b).length)},closest:function(b,c){for(var d,e=0,l=this.length,
g=[],j=ec.test(b)||"string"!=typeof b?f(b,c||this.context):0;e<l;e++)for(d=this[e];d&&d.ownerDocument&&d!==c&&11!==d.nodeType;){if(j?-1<j.index(d):f.find.matchesSelector(d,b)){g.push(d);break}d=d.parentNode}return g=1<g.length?f.unique(g):g,this.pushStack(g,"closest",b)},index:function(b){return b?"string"==typeof b?f.inArray(this[0],f(b)):f.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(b,c){var d="string"==typeof b?f(b,c):f.makeArray(b&&b.nodeType?
[b]:b),e=f.merge(this.get(),d);return this.pushStack(n(d[0])||n(e[0])?e:f.unique(e))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});f.fn.andSelf=f.fn.addBack;f.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return f.dir(b,"parentNode")},parentsUntil:function(b,c,d){return f.dir(b,"parentNode",d)},next:function(b){return p(b,"nextSibling")},prev:function(b){return p(b,"previousSibling")},nextAll:function(b){return f.dir(b,
"nextSibling")},prevAll:function(b){return f.dir(b,"previousSibling")},nextUntil:function(b,c,d){return f.dir(b,"nextSibling",d)},prevUntil:function(b,c,d){return f.dir(b,"previousSibling",d)},siblings:function(b){return f.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return f.sibling(b.firstChild)},contents:function(b){return f.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:f.merge([],b.childNodes)}},function(b,c){f.fn[b]=function(d,e){var l=f.map(this,c,d);return ld.test(b)||
(e=d),e&&"string"==typeof e&&(l=f.filter(e,l)),l=1<this.length&&!nd[b]?f.unique(l):l,1<this.length&&md.test(b)&&(l=l.reverse()),this.pushStack(l,b,aa.call(arguments).join(","))}});f.extend({filter:function(b,c,d){return d&&(b=":not("+b+")"),1===c.length?f.find.matchesSelector(c[0],b)?[c[0]]:[]:f.find.matches(b,c)},dir:function(b,d,e){var l=[];for(b=b[d];b&&9!==b.nodeType&&(e===c||1!==b.nodeType||!f(b).is(e));)1===b.nodeType&&l.push(b),b=b[d];return l},sibling:function(b,c){for(var d=[];b;b=b.nextSibling)1===
b.nodeType&&b!==c&&d.push(b);return d}});var xb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",od=/ jQuery\d+="(?:null|\d+)"/g,rb=/^\s+/,fc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,gc=/<([\w:]+)/,pd=/<tbody/i,qd=/<|&#?\w+;/,rd=/<(?:script|style|link)/i,sd=/<(?:script|object|embed|option|style)/i,sb=RegExp("<(?:"+xb+")[\\s/>]","i"),yb=/^(?:checkbox|radio)$/,
hc=/checked\s*(?:[^=]|=\s*.checked.)/i,td=/\/(java|ecma)script/i,ud=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,V={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ic=s(z),tb=ic.appendChild(z.createElement("div"));V.optgroup=
V.option;V.tbody=V.tfoot=V.colgroup=V.caption=V.thead;V.th=V.td;f.support.htmlSerialize||(V._default=[1,"X<div>","</div>"]);f.fn.extend({text:function(b){return f.access(this,function(b){return b===c?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(b))},null,b,arguments.length)},wrapAll:function(b){if(f.isFunction(b))return this.each(function(c){f(this).wrapAll(b.call(this,c))});if(this[0]){var c=f(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&c.insertBefore(this[0]);
c.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return f.isFunction(b)?this.each(function(c){f(this).wrapInner(b.call(this,c))}):this.each(function(){var c=f(this),d=c.contents();d.length?d.wrapAll(b):c.append(b)})},wrap:function(b){var c=f.isFunction(b);return this.each(function(d){f(this).wrapAll(c?b.call(this,d):b)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||
f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){(1===this.nodeType||11===this.nodeType)&&this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(b,this.firstChild)})},before:function(){if(!n(this[0]))return this.domManip(arguments,!1,function(b){this.parentNode.insertBefore(b,this)});if(arguments.length){var b=f.clean(arguments);return this.pushStack(f.merge(b,
this),"before",this.selector)}},after:function(){if(!n(this[0]))return this.domManip(arguments,!1,function(b){this.parentNode.insertBefore(b,this.nextSibling)});if(arguments.length){var b=f.clean(arguments);return this.pushStack(f.merge(this,b),"after",this.selector)}},remove:function(b,c){for(var d,e=0;null!=(d=this[e]);e++)if(!b||f.filter(b,[d]).length)!c&&1===d.nodeType&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var b,
c=0;null!=(b=this[c]);c++)for(1===b.nodeType&&f.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(b,c){return b=null==b?!1:b,c=null==c?b:c,this.map(function(){return f.clone(this,b,c)})},html:function(b){return f.access(this,function(b){var d=this[0]||{},e=0,l=this.length;if(b===c)return 1===d.nodeType?d.innerHTML.replace(od,""):c;if("string"==typeof b&&!rd.test(b)&&(f.support.htmlSerialize||!sb.test(b))&&(f.support.leadingWhitespace||!rb.test(b))&&
!V[(gc.exec(b)||["",""])[1].toLowerCase()]){b=b.replace(fc,"<$1></$2>");try{for(;e<l;e++)d=this[e]||{},1===d.nodeType&&(f.cleanData(d.getElementsByTagName("*")),d.innerHTML=b);d=0}catch(g){}}d&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(b){return n(this[0])?this.length?this.pushStack(f(f.isFunction(b)?b():b),"replaceWith",b):this:f.isFunction(b)?this.each(function(c){var d=f(this),e=d.html();d.replaceWith(b.call(this,c,e))}):("string"!=typeof b&&(b=f(b).detach()),this.each(function(){var c=
this.nextSibling,d=this.parentNode;f(this).remove();c?f(c).before(b):f(d).append(b)}))},detach:function(b){return this.remove(b,!0)},domManip:function(b,d,e){b=[].concat.apply([],b);var l,g,j,m=0,r=b[0],x=[],p=this.length;if(!f.support.checkClone&&1<p&&"string"==typeof r&&hc.test(r))return this.each(function(){f(this).domManip(b,d,e)});if(f.isFunction(r))return this.each(function(l){var g=f(this);b[0]=r.call(this,l,d?g.html():c);g.domManip(b,d,e)});if(this[0]){l=f.buildFragment(b,this,x);j=l.fragment;
g=j.firstChild;1===j.childNodes.length&&(j=g);if(g){d=d&&f.nodeName(g,"tr");for(l=l.cacheable||p-1;m<p;m++)e.call(d&&f.nodeName(this[m],"table")?this[m].getElementsByTagName("tbody")[0]||this[m].appendChild(this[m].ownerDocument.createElement("tbody")):this[m],m===l?j:f.clone(j,!0,!0))}j=g=null;x.length&&f.each(x,function(b,c){c.src?f.ajax?f.ajax({url:c.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):f.error("no ajax"):f.globalEval((c.text||c.textContent||c.innerHTML||"").replace(ud,
""));c.parentNode&&c.parentNode.removeChild(c)})}return this}});f.buildFragment=function(b,d,e){var l,g,j,m=b[0];return d=d||z,d=!d.nodeType&&d[0]||d,d=d.ownerDocument||d,1===b.length&&"string"==typeof m&&512>m.length&&d===z&&"<"===m.charAt(0)&&!sd.test(m)&&(f.support.checkClone||!hc.test(m))&&(f.support.html5Clone||!sb.test(m))&&(g=!0,l=f.fragments[m],j=l!==c),l||(l=d.createDocumentFragment(),f.clean(b,d,l,e),g&&(f.fragments[m]=j&&l)),{fragment:l,cacheable:g}};f.fragments={};f.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,c){f.fn[b]=function(d){var e,l=0,g=[];d=f(d);var j=d.length;e=1===this.length&&this[0].parentNode;if((null==e||e&&11===e.nodeType&&1===e.childNodes.length)&&1===j)return d[c](this[0]),this;for(;l<j;l++)e=(0<l?this.clone(!0):this).get(),f(d[l])[c](e),g=g.concat(e);return this.pushStack(g,b,d.selector)}});f.extend({clone:function(b,c,d){var e,g,j,m;f.support.html5Clone||f.isXMLDoc(b)||!sb.test("<"+b.nodeName+
">")?m=b.cloneNode(!0):(tb.innerHTML=b.outerHTML,tb.removeChild(m=tb.firstChild));if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(1===b.nodeType||11===b.nodeType)&&!f.isXMLDoc(b)){l(b,m);e=r(b);g=r(m);for(j=0;e[j];++j)g[j]&&l(e[j],g[j])}if(c&&(u(b,m),d)){e=r(b);g=r(m);for(j=0;e[j];++j)u(e[j],g[j])}return m},clean:function(b,c,d,e){var l,g,j,m,r,p,n,u=c===z&&ic,D=[];if(!c||"undefined"==typeof c.createDocumentFragment)c=z;for(l=0;null!=(j=b[l]);l++)if("number"==typeof j&&(j+=""),j){if("string"==
typeof j)if(qd.test(j)){u=u||s(c);p=c.createElement("div");u.appendChild(p);j=j.replace(fc,"<$1></$2>");g=(gc.exec(j)||["",""])[1].toLowerCase();m=V[g]||V._default;r=m[0];for(p.innerHTML=m[1]+j+m[2];r--;)p=p.lastChild;if(!f.support.tbody){r=pd.test(j);m="table"===g&&!r?p.firstChild&&p.firstChild.childNodes:"<table>"===m[1]&&!r?p.childNodes:[];for(g=m.length-1;0<=g;--g)f.nodeName(m[g],"tbody")&&!m[g].childNodes.length&&m[g].parentNode.removeChild(m[g])}!f.support.leadingWhitespace&&rb.test(j)&&p.insertBefore(c.createTextNode(rb.exec(j)[0]),
p.firstChild);j=p.childNodes;p.parentNode.removeChild(p)}else j=c.createTextNode(j);j.nodeType?D.push(j):f.merge(D,j)}p&&(j=p=u=null);if(!f.support.appendChecked)for(l=0;null!=(j=D[l]);l++)f.nodeName(j,"input")?x(j):"undefined"!=typeof j.getElementsByTagName&&f.grep(j.getElementsByTagName("input"),x);if(d){b=function(b){if(!b.type||td.test(b.type))return e?e.push(b.parentNode?b.parentNode.removeChild(b):b):d.appendChild(b)};for(l=0;null!=(j=D[l]);l++)if(!f.nodeName(j,"script")||!b(j))d.appendChild(j),
"undefined"!=typeof j.getElementsByTagName&&(n=f.grep(f.merge([],j.getElementsByTagName("script")),b),D.splice.apply(D,[l+1,0].concat(n)),l+=n.length)}return D},cleanData:function(b,c){for(var d,e,l,g,j=0,m=f.expando,r=f.cache,p=f.support.deleteExpando,x=f.event.special;null!=(l=b[j]);j++)if(c||f.acceptData(l))if(d=(e=l[m])&&r[e]){if(d.events)for(g in d.events)x[g]?f.event.remove(l,g):f.removeEvent(l,g,d.handle);r[e]&&(delete r[e],p?delete l[m]:l.removeAttribute?l.removeAttribute(m):l[m]=null,f.deletedIds.push(e))}}});
var Va,da;f.uaMatch=function(b){b=b.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};Va=f.uaMatch(Ac.userAgent);da={};Va.browser&&(da[Va.browser]=!0,da.version=Va.version);da.chrome?da.webkit=!0:da.webkit&&(da.safari=!0);f.browser=da;f.sub=function(){function b(c,d){return new b.fn.init(c,
d)}f.extend(!0,b,this);b.superclass=this;b.fn=b.prototype=this();b.fn.constructor=b;b.sub=this.sub;b.fn.init=function(d,e){return e&&e instanceof f&&!(e instanceof b)&&(e=b(e)),f.fn.init.call(this,d,e,c)};b.fn.init.prototype=b.fn;var c=b(z);return b};var Q,ma,na,ub=/alpha\([^)]*\)/i,vd=/opacity=([^)]*)/,wd=/^(top|right|bottom|left)$/,xd=/^(none|table(?!-c[ea]).+)/,jc=/^margin/,wc=RegExp("^("+Fa+")(.*)$","i"),za=RegExp("^("+Fa+")(?!px)[a-z%]+$","i"),yd=RegExp("^([-+])=("+Fa+")","i"),Za={},zd={position:"absolute",
visibility:"hidden",display:"block"},kc={letterSpacing:0,fontWeight:400},ea=["Top","Right","Bottom","Left"],zb=["Webkit","O","Moz","ms"],Ad=f.fn.toggle;f.fn.extend({css:function(b,d){return f.access(this,function(b,d,e){return e!==c?f.style(b,d,e):f.css(b,d)},b,d,1<arguments.length)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(b,c){var d="boolean"==typeof b;return f.isFunction(b)&&f.isFunction(c)?Ad.apply(this,arguments):this.each(function(){(d?b:K(this))?f(this).show():
f(this).hide()})}});f.extend({cssHooks:{opacity:{get:function(b,c){if(c){var d=Q(b,"opacity");return""===d?"1":d}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,d,e,l){if(b&&!(3===b.nodeType||8===b.nodeType||!b.style)){var g,j,m,r=f.camelCase(d),p=b.style;d=f.cssProps[r]||(f.cssProps[r]=D(p,r));m=f.cssHooks[d]||f.cssHooks[r];if(e===c)return m&&"get"in m&&(g=m.get(b,
!1,l))!==c?g:p[d];j=typeof e;"string"===j&&(g=yd.exec(e))&&(e=(g[1]+1)*g[2]+parseFloat(f.css(b,d)),j="number");if(!(null==e||"number"===j&&isNaN(e)))if("number"===j&&!f.cssNumber[r]&&(e+="px"),!m||!("set"in m)||(e=m.set(b,e,l))!==c)try{p[d]=e}catch(x){}}},css:function(b,d,e,l){var g,j,m,r=f.camelCase(d);return d=f.cssProps[r]||(f.cssProps[r]=D(b.style,r)),m=f.cssHooks[d]||f.cssHooks[r],m&&"get"in m&&(g=m.get(b,!0,l)),g===c&&(g=Q(b,d)),"normal"===g&&d in kc&&(g=kc[d]),e||l!==c?(j=parseFloat(g),e||
f.isNumeric(j)?j||0:g):g},swap:function(b,c,d){var f,e={};for(f in c)e[f]=b.style[f],b.style[f]=c[f];d=d.call(b);for(f in c)b.style[f]=e[f];return d}});b.getComputedStyle?Q=function(c,d){var e,l,g,j,m=b.getComputedStyle(c,null),r=c.style;return m&&(e=m[d],""===e&&!f.contains(c.ownerDocument,c)&&(e=f.style(c,d)),za.test(e)&&jc.test(d)&&(l=r.width,g=r.minWidth,j=r.maxWidth,r.minWidth=r.maxWidth=r.width=e,e=m.width,r.width=l,r.minWidth=g,r.maxWidth=j)),e}:z.documentElement.currentStyle&&(Q=function(b,
c){var d,f,e=b.currentStyle&&b.currentStyle[c],l=b.style;return null==e&&l&&l[c]&&(e=l[c]),za.test(e)&&!wd.test(c)&&(d=l.left,f=b.runtimeStyle&&b.runtimeStyle.left,f&&(b.runtimeStyle.left=b.currentStyle.left),l.left="fontSize"===c?"1em":e,e=l.pixelLeft+"px",l.left=d,f&&(b.runtimeStyle.left=f)),""===e?"auto":e});f.each(["height","width"],function(b,c){f.cssHooks[c]={get:function(b,d,e){if(d)return 0===b.offsetWidth&&xd.test(Q(b,"display"))?f.swap(b,zd,function(){return E(b,c,e)}):E(b,c,e)},set:function(b,
d,e){return L(b,d,e?Ya(b,c,e,f.support.boxSizing&&"border-box"===f.css(b,"boxSizing")):0)}}});f.support.opacity||(f.cssHooks.opacity={get:function(b,c){return vd.test((c&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":c?"1":""},set:function(b,c){var d=b.style,e=b.currentStyle,l=f.isNumeric(c)?"alpha(opacity="+100*c+")":"",g=e&&e.filter||d.filter||"";d.zoom=1;if(1<=c&&(""===f.trim(g.replace(ub,""))&&d.removeAttribute)&&(d.removeAttribute("filter"),e&&!e.filter))return;
d.filter=ub.test(g)?g.replace(ub,l):g+" "+l}});f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(b,c){return f.swap(b,{display:"inline-block"},function(){if(c)return Q(b,"marginRight")})}});!f.support.pixelPosition&&f.fn.position&&f.each(["top","left"],function(b,c){f.cssHooks[c]={get:function(b,d){if(d){var e=Q(b,c);return za.test(e)?f(b).position()[c]+"px":e}}}})});f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(b){return 0===b.offsetWidth&&0===b.offsetHeight||
!f.support.reliableHiddenOffsets&&"none"===(b.style&&b.style.display||Q(b,"display"))},f.expr.filters.visible=function(b){return!f.expr.filters.hidden(b)});f.each({margin:"",padding:"",border:"Width"},function(b,c){f.cssHooks[b+c]={expand:function(d){var f="string"==typeof d?d.split(" "):[d],e={};for(d=0;4>d;d++)e[b+ea[d]+c]=f[d]||f[d-2]||f[0];return e}};jc.test(b)||(f.cssHooks[b+c].set=L)});var Bd=/%20/g,xc=/\[\]$/,lc=/\r?\n/g,Cd=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Dd=/^(?:select|textarea)/i;f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Dd.test(this.nodeName)||Cd.test(this.type))}).map(function(b,c){var d=f(this).val();return null==d?null:f.isArray(d)?f.map(d,function(b){return{name:c.name,value:b.replace(lc,"\r\n")}}):{name:c.name,value:d.replace(lc,"\r\n")}}).get()}});
f.param=function(b,d){var e,l=[],g=function(b,c){c=f.isFunction(c)?c():null==c?"":c;l[l.length]=encodeURIComponent(b)+"="+encodeURIComponent(c)};d===c&&(d=f.ajaxSettings&&f.ajaxSettings.traditional);if(f.isArray(b)||b.jquery&&!f.isPlainObject(b))f.each(b,function(){g(this.name,this.value)});else for(e in b)M(e,b[e],d,g);return l.join("&").replace(Bd,"+")};var ra,la,Ed=/#.*$/,Fd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Gd=/^(?:GET|HEAD)$/,Hd=/^\/\//,mc=/\?/,Id=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
Jd=/([?&])_=[^&]*/,nc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,oc=f.fn.load,$a={},pc={},qc=["*/"]+["*"];try{la=zc.href}catch(Sd){la=z.createElement("a"),la.href="",la=la.href}ra=nc.exec(la.toLowerCase())||[];f.fn.load=function(b,d,e){if("string"!=typeof b&&oc)return oc.apply(this,arguments);if(!this.length)return this;var l,g,j,m=this,r=b.indexOf(" ");return 0<=r&&(l=b.slice(r,b.length),b=b.slice(0,r)),f.isFunction(d)?(e=d,d=c):d&&"object"==typeof d&&(g="POST"),f.ajax({url:b,type:g,dataType:"html",
data:d,complete:function(b,c){e&&m.each(e,j||[b.responseText,c,b])}}).done(function(b){j=arguments;m.html(l?f("<div>").append(b.replace(Id,"")).find(l):b)}),this};f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(b,c){f.fn[c]=function(b){return this.on(c,b)}});f.each(["get","post"],function(b,d){f[d]=function(b,e,l,g){return f.isFunction(e)&&(g=g||l,l=e,e=c),f.ajax({type:d,url:b,data:e,success:l,dataType:g})}});f.extend({getScript:function(b,d){return f.get(b,
c,d,"script")},getJSON:function(b,c,d){return f.get(b,c,d,"json")},ajaxSetup:function(b,c){return c?ta(b,f.ajaxSettings):(c=b,b=f.ajaxSettings),ta(b,c),b},ajaxSettings:{url:la,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(ra[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":qc},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":b.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Aa($a),ajaxTransport:Aa(pc),ajax:function(b,d){function e(b,d,j,q){var t,p,y,s,O,H=d;if(2!==E){E=2;r&&clearTimeout(r);m=c;g=q||"";G.readyState=0<b?4:0;if(j){s=n;q=G;var U,R,C,I,J=s.contents,M=s.dataTypes,P=s.responseFields;for(R in P)R in j&&(q[P[R]]=j[R]);for(;"*"===M[0];)M.shift(),
U===c&&(U=s.mimeType||q.getResponseHeader("content-type"));if(U)for(R in J)if(J[R]&&J[R].test(U)){M.unshift(R);break}if(M[0]in j)C=M[0];else{for(R in j){if(!M[0]||s.converters[R+" "+M[0]]){C=R;break}I||(I=R)}C=C||I}j=C?(C!==M[0]&&M.unshift(C),j[C]):void 0;s=j}if(200<=b&&300>b||304===b)if(n.ifModified&&(O=G.getResponseHeader("Last-Modified"),O&&(f.lastModified[l]=O),O=G.getResponseHeader("Etag"),O&&(f.etag[l]=O)),304===b)H="notmodified",t=!0;else{var F;a:{t=n;p=s;var N,H=t.dataTypes.slice();j=H[0];
U={};R=0;t.dataFilter&&(p=t.dataFilter(p,t.dataType));if(H[1])for(F in t.converters)U[F.toLowerCase()]=t.converters[F];for(;y=H[++R];)if("*"!==y){if("*"!==j&&j!==y){F=U[j+" "+y]||U["* "+y];if(!F)for(N in U)if(O=N.split(" "),O[1]===y&&(F=U[j+" "+O[0]]||U["* "+O[0]])){!0===F?F=U[N]:!0!==U[N]&&(y=O[0],H.splice(R--,0,y));break}if(!0!==F)if(F&&t["throws"])p=F(p);else try{p=F(p)}catch(Q){F={state:"parsererror",error:F?Q:"No conversion from "+j+" to "+y};break a}}j=y}F={state:"success",data:p}}t=F;H=t.state;
p=t.data;y=t.error;t=!y}else if(y=H,!H||b)H="error",0>b&&(b=0);G.status=b;G.statusText=(d||H)+"";t?K.resolveWith(u,[p,H,G]):K.rejectWith(u,[G,H,y]);G.statusCode(L);L=c;x&&D.trigger("ajax"+(t?"Success":"Error"),[G,n,t?p:y]);z.fireWith(u,[G,H]);x&&(D.trigger("ajaxComplete",[G,n]),--f.active||f.event.trigger("ajaxStop"))}}"object"==typeof b&&(d=b,b=c);d=d||{};var l,g,j,m,r,p,x,s,n=f.ajaxSetup({},d),u=n.context||n,D=u!==n&&(u.nodeType||u instanceof f)?f(u):f.event,K=f.Deferred(),z=f.Callbacks("once memory"),
L=n.statusCode||{},H={},C={},E=0,I="canceled",G={readyState:0,setRequestHeader:function(b,c){if(!E){var d=b.toLowerCase();b=C[d]=C[d]||b;H[b]=c}return this},getAllResponseHeaders:function(){return 2===E?g:null},getResponseHeader:function(b){var d;if(2===E){if(!j)for(j={};d=Fd.exec(g);)j[d[1].toLowerCase()]=d[2];d=j[b.toLowerCase()]}return d===c?null:d},overrideMimeType:function(b){return E||(n.mimeType=b),this},abort:function(b){return b=b||I,m&&m.abort(b),e(0,b),this}};K.promise(G);G.success=G.done;
G.error=G.fail;G.complete=z.add;G.statusCode=function(b){if(b){var c;if(2>E)for(c in b)L[c]=[L[c],b[c]];else c=b[G.status],G.always(c)}return this};n.url=((b||n.url)+"").replace(Ed,"").replace(Hd,ra[1]+"//");n.dataTypes=f.trim(n.dataType||"*").toLowerCase().split(fa);null==n.crossDomain&&(p=nc.exec(n.url.toLowerCase())||!1,n.crossDomain=p&&p.join(":")+(p[3]?"":"http:"===p[1]?80:443)!==ra.join(":")+(ra[3]?"":"http:"===ra[1]?80:443));n.data&&n.processData&&"string"!=typeof n.data&&(n.data=f.param(n.data,
n.traditional));oa($a,n,d,G);if(2===E)return G;x=n.global;n.type=n.type.toUpperCase();n.hasContent=!Gd.test(n.type);x&&0===f.active++&&f.event.trigger("ajaxStart");if(!n.hasContent&&(n.data&&(n.url+=(mc.test(n.url)?"&":"?")+n.data,delete n.data),l=n.url,!1===n.cache)){p=f.now();var J=n.url.replace(Jd,"$1_="+p);n.url=J+(J===n.url?(mc.test(n.url)?"&":"?")+"_="+p:"")}(n.data&&n.hasContent&&!1!==n.contentType||d.contentType)&&G.setRequestHeader("Content-Type",n.contentType);n.ifModified&&(l=l||n.url,
f.lastModified[l]&&G.setRequestHeader("If-Modified-Since",f.lastModified[l]),f.etag[l]&&G.setRequestHeader("If-None-Match",f.etag[l]));G.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+qc+"; q=0.01":""):n.accepts["*"]);for(s in n.headers)G.setRequestHeader(s,n.headers[s]);if(!n.beforeSend||!1!==n.beforeSend.call(u,G,n)&&2!==E){I="abort";for(s in{success:1,error:1,complete:1})G[s](n[s]);if(m=oa(pc,n,d,G)){G.readyState=1;x&&D.trigger("ajaxSend",
[G,n]);n.async&&0<n.timeout&&(r=setTimeout(function(){G.abort("timeout")},n.timeout));try{E=1,m.send(H,e)}catch(M){if(2>E)e(-1,M);else throw M;}}else e(-1,"No Transport");return G}return G.abort()},active:0,lastModified:{},etag:{}});var rc=[],Kd=/\?/,Wa=/(=)\?(?=&|$)|\?\?/,Ld=f.now();f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=rc.pop()||f.expando+"_"+Ld++;return this[b]=!0,b}});f.ajaxPrefilter("json jsonp",function(d,e,l){var g,j,m,r=d.data,p=d.url,n=!1!==d.jsonp,x=n&&Wa.test(p),
s=n&&!x&&"string"==typeof r&&!(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wa.test(r);if("jsonp"===d.dataTypes[0]||x||s)return g=d.jsonpCallback=f.isFunction(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,j=b[g],x?d.url=p.replace(Wa,"$1"+g):s?d.data=r.replace(Wa,"$1"+g):n&&(d.url+=(Kd.test(p)?"&":"?")+d.jsonp+"="+g),d.converters["script json"]=function(){return m||f.error(g+" was not called"),m[0]},d.dataTypes[0]="json",b[g]=function(){m=arguments},l.always(function(){b[g]=
j;d[g]&&(d.jsonpCallback=e.jsonpCallback,rc.push(g));m&&f.isFunction(j)&&j(m[0]);m=j=c}),"script"});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(b){return f.globalEval(b),b}}});f.ajaxPrefilter("script",function(b){b.cache===c&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});f.ajaxTransport("script",function(b){if(b.crossDomain){var d,f=
z.head||z.getElementsByTagName("head")[0]||z.documentElement;return{send:function(e,l){d=z.createElement("script");d.async="async";b.scriptCharset&&(d.charset=b.scriptCharset);d.src=b.url;d.onload=d.onreadystatechange=function(b,e){if(e||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,f&&d.parentNode&&f.removeChild(d),d=c,e||l(200,"success")};f.insertBefore(d,f.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var sa,vb=b.ActiveXObject?function(){for(var b in sa)sa[b](0,
1)}:!1,Md=0;f.ajaxSettings.xhr=b.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&Ab()))a:{try{c=new b.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}c=void 0}return c}:Ab;var wb=f.ajaxSettings.xhr();f.extend(f.support,{ajax:!!wb,cors:!!wb&&"withCredentials"in wb});f.support.ajax&&f.ajaxTransport(function(d){if(!d.crossDomain||f.support.cors){var e;return{send:function(l,g){var j,m,r=d.xhr();d.username?r.open(d.type,d.url,d.async,d.username,d.password):r.open(d.type,d.url,d.async);if(d.xhrFields)for(m in d.xhrFields)r[m]=
d.xhrFields[m];d.mimeType&&r.overrideMimeType&&r.overrideMimeType(d.mimeType);!d.crossDomain&&!l["X-Requested-With"]&&(l["X-Requested-With"]="XMLHttpRequest");try{for(m in l)r.setRequestHeader(m,l[m])}catch(p){}r.send(d.hasContent&&d.data||null);e=function(b,l){var m,q,p,n,x;try{if(e&&(l||4===r.readyState))if(e=c,j&&(r.onreadystatechange=f.noop,vb&&delete sa[j]),l)4!==r.readyState&&r.abort();else{m=r.status;p=r.getAllResponseHeaders();n={};(x=r.responseXML)&&x.documentElement&&(n.xml=x);try{n.text=
r.responseText}catch(s){}try{q=r.statusText}catch(u){q=""}!m&&d.isLocal&&!d.crossDomain?m=n.text?200:404:1223===m&&(m=204)}}catch(D){l||g(-1,D)}n&&g(m,q,n,p)};d.async?4===r.readyState?setTimeout(e,0):(j=++Md,vb&&(sa||(sa={},f(b).unload(vb)),sa[j]=e),r.onreadystatechange=e):e()},abort:function(){e&&e(0,1)}}}});var Ba,Xa,Nd=/^(?:toggle|show|hide)$/,Od=RegExp("^(?:([-+])=|)("+Fa+")([a-z%]*)$","i"),Pd=/queueHooks$/,Ca=[function(b,c,d){var e,l,g,j,m,r,p=this,n=b.style,x={},s=[],u=b.nodeType&&K(b);d.queue||
(m=f._queueHooks(b,"fx"),null==m.unqueued&&(m.unqueued=0,r=m.empty.fire,m.empty.fire=function(){m.unqueued||r()}),m.unqueued++,p.always(function(){p.always(function(){m.unqueued--;f.queue(b,"fx").length||m.empty.fire()})}));1===b.nodeType&&("height"in c||"width"in c)&&(d.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===f.css(b,"display")&&"none"===f.css(b,"float")&&(!f.support.inlineBlockNeedsLayout||"inline"===P(b.nodeName)?n.display="inline-block":n.zoom=1));d.overflow&&(n.overflow="hidden",
f.support.shrinkWrapBlocks||p.done(function(){n.overflow=d.overflow[0];n.overflowX=d.overflow[1];n.overflowY=d.overflow[2]}));for(e in c)l=c[e],Nd.exec(l)&&(delete c[e],l!==(u?"hide":"show")&&s.push(e));if(l=s.length){g=f._data(b,"fxshow")||f._data(b,"fxshow",{});u?f(b).show():p.done(function(){f(b).hide()});p.done(function(){var c;f.removeData(b,"fxshow",!0);for(c in x)f.style(b,c,x[c])});for(e=0;e<l;e++)c=s[e],j=p.createTween(c,u?g[c]:0),x[c]=g[c]||f.style(b,c),c in g||(g[c]=j.start,u&&(j.end=j.start,
j.start="width"===c||"height"===c?1:0))}}],ua={"*":[function(b,c){var d,e,l=this.createTween(b,c),g=Od.exec(c),j=l.cur(),m=+j||0,r=1,p=20;if(g){d=+g[2];e=g[3]||(f.cssNumber[b]?"":"px");if("px"!==e&&m){m=f.css(l.elem,b,!0)||d||1;do r=r||".5",m/=r,f.style(l.elem,b,m+e);while(r!==(r=l.cur()/j)&&1!==r&&--p)}l.unit=e;l.start=m;l.end=g[1]?m+(g[1]+1)*d:d}return l}]};f.Animation=f.extend(Cb,{tweener:function(b,c){f.isFunction(b)?(c=b,b=["*"]):b=b.split(" ");for(var d,e=0,l=b.length;e<l;e++)d=b[e],ua[d]=ua[d]||
[],ua[d].unshift(c)},prefilter:function(b,c){c?Ca.unshift(b):Ca.push(b)}});f.Tween=S;S.prototype={constructor:S,init:function(b,c,d,e,l,g){this.elem=b;this.prop=d;this.easing=l||"swing";this.options=c;this.start=this.now=this.cur();this.end=e;this.unit=g||(f.cssNumber[d]?"":"px")},cur:function(){var b=S.propHooks[this.prop];return b&&b.get?b.get(this):S.propHooks._default.get(this)},run:function(b){var c,d=S.propHooks[this.prop];return this.options.duration?this.pos=c=f.easing[this.easing](b,this.options.duration*
b,0,1,this.options.duration):this.pos=c=b,this.now=(this.end-this.start)*c+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):S.propHooks._default.set(this),this}};S.prototype.init.prototype=S.prototype;S.propHooks={_default:{get:function(b){var c;return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(c=f.css(b.elem,b.prop,!1,""),!c||"auto"===c?0:c):b.elem[b.prop]},set:function(b){f.fx.step[b.prop]?f.fx.step[b.prop](b):b.elem.style&&
(null!=b.elem.style[f.cssProps[b.prop]]||f.cssHooks[b.prop])?f.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};f.each(["toggle","show","hide"],function(b,c){var d=f.fn[c];f.fn[c]=function(e,l,g){return null==e||"boolean"==typeof e||!b&&f.isFunction(e)&&f.isFunction(l)?d.apply(this,arguments):this.animate(Da(c,!0),e,l,g)}});f.fn.extend({fadeTo:function(b,c,d,f){return this.filter(K).css("opacity",
0).show().end().animate({opacity:c},b,d,f)},animate:function(b,c,d,e){var l=f.isEmptyObject(b),g=f.speed(c,d,e);c=function(){var c=Cb(this,f.extend({},b),g);l&&c.stop(!0)};return l||!1===g.queue?this.each(c):this.queue(g.queue,c)},stop:function(b,d,e){var l=function(b){var c=b.stop;delete b.stop;c(e)};return"string"!=typeof b&&(e=d,d=b,b=c),d&&!1!==b&&this.queue(b||"fx",[]),this.each(function(){var c=!0,d=null!=b&&b+"queueHooks",g=f.timers,j=f._data(this);if(d)j[d]&&j[d].stop&&l(j[d]);else for(d in j)j[d]&&
j[d].stop&&Pd.test(d)&&l(j[d]);for(d=g.length;d--;)g[d].elem===this&&(null==b||g[d].queue===b)&&(g[d].anim.stop(e),c=!1,g.splice(d,1));(c||!e)&&f.dequeue(this,b)})}});f.each({slideDown:Da("show"),slideUp:Da("hide"),slideToggle:Da("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,c){f.fn[b]=function(b,d,f){return this.animate(c,b,d,f)}});f.speed=function(b,c,d){var e=b&&"object"==typeof b?f.extend({},b):{complete:d||!d&&c||f.isFunction(b)&&b,duration:b,
easing:d&&c||c&&!f.isFunction(c)&&c};e.duration=f.fx.off?0:"number"==typeof e.duration?e.duration:e.duration in f.fx.speeds?f.fx.speeds[e.duration]:f.fx.speeds._default;if(null==e.queue||!0===e.queue)e.queue="fx";return e.old=e.complete,e.complete=function(){f.isFunction(e.old)&&e.old.call(this);e.queue&&f.dequeue(this,e.queue)},e};f.easing={linear:function(b){return b},swing:function(b){return 0.5-Math.cos(b*Math.PI)/2}};f.timers=[];f.fx=S.prototype.init;f.fx.tick=function(){for(var b,c=f.timers,
d=0;d<c.length;d++)b=c[d],!b()&&c[d]===b&&c.splice(d--,1);c.length||f.fx.stop()};f.fx.timer=function(b){b()&&f.timers.push(b)&&!Xa&&(Xa=setInterval(f.fx.tick,f.fx.interval))};f.fx.interval=13;f.fx.stop=function(){clearInterval(Xa);Xa=null};f.fx.speeds={slow:600,fast:200,_default:400};f.fx.step={};f.expr&&f.expr.filters&&(f.expr.filters.animated=function(b){return f.grep(f.timers,function(c){return b===c.elem}).length});var sc=/^(?:body|html)$/i;f.fn.offset=function(b){if(arguments.length)return b===
c?this:this.each(function(c){f.offset.setOffset(this,b,c)});var d,e,l,g,j,m,r,p={top:0,left:0},n=this[0],x=n&&n.ownerDocument;if(x)return(e=x.body)===n?f.offset.bodyOffset(n):(d=x.documentElement,f.contains(d,n)?("undefined"!=typeof n.getBoundingClientRect&&(p=n.getBoundingClientRect()),l=Db(x),g=d.clientTop||e.clientTop||0,j=d.clientLeft||e.clientLeft||0,m=l.pageYOffset||d.scrollTop,r=l.pageXOffset||d.scrollLeft,{top:p.top+m-g,left:p.left+r-j}):p)};f.offset={bodyOffset:function(b){var c=b.offsetTop,
d=b.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(c+=parseFloat(f.css(b,"marginTop"))||0,d+=parseFloat(f.css(b,"marginLeft"))||0),{top:c,left:d}},setOffset:function(b,c,d){var e=f.css(b,"position");"static"===e&&(b.style.position="relative");var l=f(b),g=l.offset(),j=f.css(b,"top"),m=f.css(b,"left"),r={},p={},n,x;("absolute"===e||"fixed"===e)&&-1<f.inArray("auto",[j,m])?(p=l.position(),n=p.top,x=p.left):(n=parseFloat(j)||0,x=parseFloat(m)||0);f.isFunction(c)&&(c=c.call(b,d,g));null!=
c.top&&(r.top=c.top-g.top+n);null!=c.left&&(r.left=c.left-g.left+x);"using"in c?c.using.call(b,r):l.css(r)}};f.fn.extend({position:function(){if(this[0]){var b=this[0],c=this.offsetParent(),d=this.offset(),e=sc.test(c[0].nodeName)?{top:0,left:0}:c.offset();return d.top-=parseFloat(f.css(b,"marginTop"))||0,d.left-=parseFloat(f.css(b,"marginLeft"))||0,e.top+=parseFloat(f.css(c[0],"borderTopWidth"))||0,e.left+=parseFloat(f.css(c[0],"borderLeftWidth"))||0,{top:d.top-e.top,left:d.left-e.left}}},offsetParent:function(){return this.map(function(){for(var b=
this.offsetParent||z.body;b&&!sc.test(b.nodeName)&&"static"===f.css(b,"position");)b=b.offsetParent;return b||z.body})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,d){var e=/Y/.test(d);f.fn[b]=function(l){return f.access(this,function(b,l,g){var j=Db(b);if(g===c)return j?d in j?j[d]:j.document.documentElement[l]:b[l];j?j.scrollTo(e?f(j).scrollLeft():g,e?g:f(j).scrollTop()):b[l]=g},b,l,arguments.length,null)}});f.each({Height:"height",Width:"width"},function(b,d){f.each({padding:"inner"+
b,content:d,"":"outer"+b},function(e,l){f.fn[l]=function(l,g){var j=arguments.length&&(e||"boolean"!=typeof l),m=e||(!0===l||!0===g?"margin":"border");return f.access(this,function(d,e,l){var g;return f.isWindow(d)?d.document.documentElement["client"+b]:9===d.nodeType?(g=d.documentElement,Math.max(d.body["scroll"+b],g["scroll"+b],d.body["offset"+b],g["offset"+b],g["client"+b])):l===c?f.css(d,e,l,m):f.style(d,e,l,m)},d,j?l:c,j,null)}})});b.jQuery=b.$=f;"function"==typeof define&&define.amd&&define.amd.jQuery&&
define("jquery",[],function(){return f})})(window);var portraitMode=!0,mobilePortraitWidth=480,mobilePortraitHeight=640,mobileLandscapeWidth=640,mobileLandscapeHeight=480,mobileWidth=portraitMode?mobilePortraitWidth:mobileLandscapeWidth,mobileHeight=portraitMode?mobilePortraitHeight:mobileLandscapeHeight,desktopWidth=640,desktopHeight=480,w,h,multiplier,destW,destH,dynamicClickableEntityDivs={},coreDivsToResize=["game","play","orientate"],advancedDivsToResize={MobileAdInGamePreroll:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+
20},MobileAdInGameEnd:{"box-width":_SETTINGS.Ad.Mobile.End.Width+2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20},MobileAdInGamePreroll2:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd2:{"box-width":_SETTINGS.Ad.Mobile.End.Width+2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20},MobileAdInGamePreroll3:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd3:{"box-width":_SETTINGS.Ad.Mobile.End.Width+
2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20}};
function adjustLayers(b){for(i=0;i<coreDivsToResize.length;i++)ig.ua.mobile?($("#"+coreDivsToResize[i]).width(w),$("#"+coreDivsToResize[i]).height(h)):($("#"+coreDivsToResize[i]).width(destW),$("#"+coreDivsToResize[i]).height(destH),$("#"+coreDivsToResize[i]).css("left",b?0:w/2-destW/2));for(key in advancedDivsToResize)try{$("#"+key).width(w),$("#"+key).height(h),$("#"+key+"-Box").css("left",(w-advancedDivsToResize[key]["box-width"])/2),$("#"+key+"-Box").css("top",(h-advancedDivsToResize[key]["box-height"])/
2)}catch(c){console.log(c)}$("#ajaxbar").width(w);$("#ajaxbar").height(h)}
function sizeHandler(){$("#game")&&(w=window.innerWidth,h=window.innerHeight,ig.ua.mobile?(multiplier=Math.min(h/mobileHeight,w/mobileWidth),destW=mobileWidth*multiplier,destH=mobileHeight*multiplier):(multiplier=Math.min(h/desktopHeight,w/desktopWidth),destW=desktopWidth*multiplier,destH=desktopHeight*multiplier),widthRatio=window.innerWidth/mobileWidth,heightRatio=window.innerHeight/mobileHeight,adjustLayers(),window.scrollTo(0,1))}
function orientationHandler(){console.log("changing orientation ...");ig.ua.mobile&&((portraitMode?window.innerHeight<window.innerWidth:window.innerHeight>window.innerWidth)?($("#orientate").show(),$("#game").hide()):($("#orientate").hide(),$("#game").show()));sizeHandler()}
function fixSamsungHandler(){ig.ua.android&&(!(4.2>parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8,navigator.userAgent.indexOf("Android")+11)))&&!(0>navigator.userAgent.indexOf("GT"))&&!(0<navigator.userAgent.indexOf("Chrome"))&&!(0<navigator.userAgent.indexOf("Firefox")))&&(document.addEventListener("touchstart",function(b){b.preventDefault();return!1},!1),document.addEventListener("touchmove",function(b){b.preventDefault();return!1},!1),document.addEventListener("touchend",
function(b){b.preventDefault();return!1},!1))}window.addEventListener("resize",function(){orientationHandler()},!1);window.addEventListener("orientationchange",function(){orientationHandler()},!1);
"true"===getQueryVariable("webview")?($(window).focus(function(){ig.game&&ig.game.resumeGame();ig.game&&ig.game.unmute(!0)}),$(window).blur(function(){ig.game&&ig.game.pauseGame();ig.game&&ig.game.mute(!0)})):(window.onfocus=function(){ig.game&&ig.game.resumeGame();ig.game&&ig.game.unmute(!0)},window.onblur=function(){ig.game&&ig.game.pauseGame();ig.game&&ig.game.mute(!0)});document.ontouchmove=function(){window.scrollTo(0,1)};function getInternetExplorerVersion(){var b=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(b=parseFloat(RegExp.$1));return b}var ie=getInternetExplorerVersion();function getQueryVariable(b){for(var c=window.location.search.substring(1).split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(decodeURIComponent(e[0])==b)return decodeURIComponent(e[1])}};this.jukebox={};
jukebox.Player=function(b,c){this.id=++jukebox.__jukeboxId;this.origin=c||null;this.settings={};for(var d in this.defaults)this.settings[d]=this.defaults[d];if("[object Object]"===Object.prototype.toString.call(b))for(var e in b)this.settings[e]=b[e];"[object Function]"===Object.prototype.toString.call(jukebox.Manager)&&(jukebox.Manager=new jukebox.Manager);this.resource=this.isPlaying=null;this.resource="[object Object]"===Object.prototype.toString.call(jukebox.Manager)?jukebox.Manager.getPlayableResource(this.settings.resources):this.settings.resources[0]||
null;if(null===this.resource)throw"Your browser can't playback the given resources - or you have missed to include jukebox.Manager";this.__init();return this};jukebox.__jukeboxId=0;
jukebox.Player.prototype={defaults:{resources:[],autoplay:!1,spritemap:{},flashMediaElement:"./swf/FlashMediaElement.swf",timeout:1E3},__addToManager:function(){!0!==this.__wasAddedToManager&&(jukebox.Manager.add(this),this.__wasAddedToManager=!0)},__init:function(){var b=this,c=this.settings,d={},e;jukebox.Manager&&void 0!==jukebox.Manager.features&&(d=jukebox.Manager.features);if(!0===d.html5audio){this.context=new Audio;this.context.src=this.resource;if(null===this.origin){var g=function(c){b.__addToManager(c)};
this.context.addEventListener("canplaythrough",g,!0);window.setTimeout(function(){b.context.removeEventListener("canplaythrough",g,!0);g("timeout")},c.timeout)}this.context.autobuffer=!0;this.context.preload=!0;for(e in this.HTML5API)this[e]=this.HTML5API[e];1<d.channels?!0===c.autoplay?this.context.autoplay=!0:void 0!==c.spritemap[c.autoplay]&&this.play(c.autoplay):1===d.channels&&void 0!==c.spritemap[c.autoplay]&&(this.backgroundMusic=c.spritemap[c.autoplay],this.backgroundMusic.started=Date.now?
Date.now():+new Date,this.play(c.autoplay));1==d.channels&&!0!==c.canPlayBackground&&(window.addEventListener("pagehide",function(){null!==b.isPlaying&&(b.pause(),b.__wasAutoPaused=!0)}),window.addEventListener("pageshow",function(){b.__wasAutoPaused&&(b.resume(),delete b._wasAutoPaused)}))}else if(!0===d.flashaudio){for(e in this.FLASHAPI)this[e]=this.FLASHAPI[e];d=["id=jukebox-flashstream-"+this.id,"autoplay="+c.autoplay,"file="+window.encodeURIComponent(this.resource)];this.__initFlashContext(d);
!0===c.autoplay?this.play(0):c.spritemap[c.autoplay]&&this.play(c.autoplay)}else throw"Your Browser does not support Flash Audio or HTML5 Audio.";},__initFlashContext:function(b){var c,d=this.settings.flashMediaElement,e,g={flashvars:b.join("&"),quality:"high",bgcolor:"#000000",wmode:"transparent",allowscriptaccess:"always",allowfullscreen:"true"};if(navigator.userAgent.match(/MSIE/)){c=document.createElement("div");document.getElementsByTagName("body")[0].appendChild(c);var j=document.createElement("object");
j.id="jukebox-flashstream-"+this.id;j.setAttribute("type","application/x-shockwave-flash");j.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");j.setAttribute("width","0");j.setAttribute("height","0");g.movie=d+"?x="+(Date.now?Date.now():+new Date);g.flashvars=b.join("&amp;");for(e in g)b=document.createElement("param"),b.setAttribute("name",e),b.setAttribute("value",g[e]),j.appendChild(b);c.outerHTML=j.outerHTML;this.context=document.getElementById("jukebox-flashstream-"+this.id)}else{c=
document.createElement("embed");c.id="jukebox-flashstream-"+this.id;c.setAttribute("type","application/x-shockwave-flash");c.setAttribute("width","100");c.setAttribute("height","100");g.play=!1;g.loop=!1;g.src=d+"?x="+(Date.now?Date.now():+new Date);for(e in g)c.setAttribute(e,g[e]);document.getElementsByTagName("body")[0].appendChild(c);this.context=c}},backgroundHackForiOS:function(){if(void 0!==this.backgroundMusic){var b=Date.now?Date.now():+new Date;void 0===this.backgroundMusic.started?(this.backgroundMusic.started=
b,this.setCurrentTime(this.backgroundMusic.start)):(this.backgroundMusic.lastPointer=(b-this.backgroundMusic.started)/1E3%(this.backgroundMusic.end-this.backgroundMusic.start)+this.backgroundMusic.start,this.play(this.backgroundMusic.lastPointer))}},play:function(b,c){if(null!==this.isPlaying&&!0!==c)void 0!==jukebox.Manager&&jukebox.Manager.addToQueue(b,this.id);else{var d=this.settings.spritemap,e;if(void 0!==d[b])e=d[b].start;else if("number"===typeof b){e=b;for(var g in d)if(e>=d[g].start&&e<=
d[g].end){b=g;break}}void 0!==e&&"[object Object]"===Object.prototype.toString.call(d[b])&&(this.isPlaying=this.settings.spritemap[b],this.context.play&&this.context.play(),this.wasReady=this.setCurrentTime(e))}},stop:function(){this.__lastPosition=0;this.isPlaying=null;this.backgroundMusic?this.backgroundHackForiOS():this.context.pause();return!0},pause:function(){this.isPlaying=null;this.__lastPosition=this.getCurrentTime();this.context.pause();return this.__lastPosition},resume:function(b){b="number"===
typeof b?b:this.__lastPosition;if(null!==b)return this.play(b),this.__lastPosition=null,!0;this.context.play();return!1},HTML5API:{getVolume:function(){return this.context.volume||1},setVolume:function(b){this.context.volume=b;return 1E-4>Math.abs(this.context.volume-b)?!0:!1},getCurrentTime:function(){return this.context.currentTime||0},setCurrentTime:function(b){try{return this.context.currentTime=b,!0}catch(c){return!1}}},FLASHAPI:{getVolume:function(){return this.context&&"function"===typeof this.context.getVolume?
this.context.getVolume():1},setVolume:function(b){return this.context&&"function"===typeof this.context.setVolume?(this.context.setVolume(b),!0):!1},getCurrentTime:function(){return this.context&&"function"===typeof this.context.getCurrentTime?this.context.getCurrentTime():0},setCurrentTime:function(b){return this.context&&"function"===typeof this.context.setCurrentTime?this.context.setCurrentTime(b):!1}}};if(void 0===this.jukebox)throw"jukebox.Manager requires jukebox.Player (Player.js) to run properly.";
jukebox.Manager=function(b){this.features={};this.codecs={};this.__players={};this.__playersLength=0;this.__clones={};this.__queue=[];this.settings={};for(var c in this.defaults)this.settings[c]=this.defaults[c];if("[object Object]"===Object.prototype.toString.call(b))for(var d in b)this.settings[d]=b[d];this.__detectFeatures();jukebox.Manager.__initialized=!1===this.settings.useGameLoop?window.setInterval(function(){jukebox.Manager.loop()},20):!0};
jukebox.Manager.prototype={defaults:{useFlash:!1,useGameLoop:!1},__detectFeatures:function(){var b=window.Audio&&new Audio;if(b&&b.canPlayType&&!1===this.settings.useFlash){for(var c=[{e:"3gp",m:["audio/3gpp","audio/amr"]},{e:"aac",m:["audio/aac","audio/aacp"]},{e:"amr",m:["audio/amr","audio/3gpp"]},{e:"caf",m:["audio/IMA-ADPCM","audio/x-adpcm",'audio/x-aiff; codecs="IMA-ADPCM, ADPCM"']},{e:"m4a",m:'audio/mp4{audio/mp4; codecs="mp4a.40.2,avc1.42E01E"{audio/mpeg4{audio/mpeg4-generic{audio/mp4a-latm{audio/MP4A-LATM{audio/x-m4a'.split("{")},
{e:"mp3",m:["audio/mp3","audio/mpeg",'audio/mpeg; codecs="mp3"',"audio/MPA","audio/mpa-robust"]},{e:"mpga",m:["audio/MPA","audio/mpa-robust","audio/mpeg","video/mpeg"]},{e:"mp4",m:["audio/mp4","video/mp4"]},{e:"ogg",m:["application/ogg","audio/ogg",'audio/ogg; codecs="theora, vorbis"',"video/ogg",'video/ogg; codecs="theora, vorbis"']},{e:"wav",m:["audio/wave","audio/wav",'audio/wav; codecs="1"',"audio/x-wav","audio/x-pn-wav"]},{e:"webm",m:["audio/webm",'audio/webm; codecs="vorbis"',"video/webm"]}],
d,e,g=0,j=c.length;g<j;g++)if(e=c[g].e,c[g].m.length&&"object"===typeof c[g].m)for(var n=0,p=c[g].m.length;n<p;n++)if(d=c[g].m[n],""!==b.canPlayType(d)){this.codecs[e]=d;break}else this.codecs[e]||(this.codecs[e]=!1);this.features.html5audio=!(!this.codecs.mp3&&!this.codecs.ogg&&!this.codecs.webm&&!this.codecs.wav);this.features.channels=8;b.volume=0.1337;this.features.volume=!!(1E-4>Math.abs(b.volume-0.1337));navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(this.features.channels=1)}this.features.flashaudio=
!!navigator.mimeTypes["application/x-shockwave-flash"]||!!navigator.plugins["Shockwave Flash"]||!1;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.10"),this.features.flashaudio=!0}catch(m){}!0===this.settings.useFlash&&(this.features.flashaudio=!0);!0===this.features.flashaudio&&!this.features.html5audio&&(this.codecs.mp3="audio/mp3",this.codecs.mpga="audio/mpeg",this.codecs.mp4="audio/mp4",this.codecs.m4a="audio/mp4",this.codecs["3gp"]="audio/3gpp",this.codecs.amr="audio/amr",
this.features.volume=!0,this.features.channels=1)},__getPlayerById:function(b){return this.__players&&void 0!==this.__players[b]?this.__players[b]:null},__getClone:function(b,c){for(var d in this.__clones){var e=this.__clones[d];if(null===e.isPlaying&&e.origin===b)return e}if("[object Object]"===Object.prototype.toString.call(c)){d={};for(var g in c)d[g]=c[g];d.autoplay=!1;g=new jukebox.Player(d,b);g.isClone=!0;g.wasReady=!1;return this.__clones[g.id]=g}return null},loop:function(){if(0!==this.__playersLength)if(this.__queue.length&&
this.__playersLength<this.features.channels){var b=this.__queue[0],c=this.__getPlayerById(b.origin);if(null!==c){var d=this.__getClone(b.origin,c.settings);null!==d&&(!0===this.features.volume&&(c=this.__players[b.origin])&&d.setVolume(c.getVolume()),this.add(d),d.play(b.pointer,!0))}this.__queue.splice(0,1)}else for(d in this.__queue.length&&1===this.features.channels&&(b=this.__queue[0],c=this.__getPlayerById(b.origin),null!==c&&c.play(b.pointer,!0),this.__queue.splice(0,1)),this.__players)b=this.__players[d],
c=b.getCurrentTime()||0,b.isPlaying&&!1===b.wasReady?b.wasReady=b.setCurrentTime(b.isPlaying.start):b.isPlaying&&!0===b.wasReady?c>b.isPlaying.end&&(!0===b.isPlaying.loop?b.play(b.isPlaying.start,!0):b.stop()):b.isClone&&null===b.isPlaying?this.remove(b):void 0!==b.backgroundMusic&&null===b.isPlaying&&c>b.backgroundMusic.end&&b.backgroundHackForiOS()},getPlayableResource:function(b){"[object Array]"!==Object.prototype.toString.call(b)&&(b=[b]);for(var c=0,d=b.length;c<d;c++){var e=b[c],g=e.match(/\.([^\.]*)$/)[1];
if(g&&this.codecs[g])return e}return null},add:function(b){return b instanceof jukebox.Player&&void 0===this.__players[b.id]?(this.__playersLength++,this.__players[b.id]=b,!0):!1},remove:function(b){return b instanceof jukebox.Player&&void 0!==this.__players[b.id]?(this.__playersLength--,delete this.__players[b.id],!0):!1},addToQueue:function(b,c){return("string"===typeof b||"number"===typeof b)&&void 0!==this.__players[c]?(this.__queue.push({pointer:b,origin:c}),!0):!1}};(function(){var b={},c=null,d=!0,e=!1;if("undefined"!==typeof AudioContext)c=new AudioContext;else if("undefined"!==typeof webkitAudioContext)c=new webkitAudioContext;else if("undefined"!==typeof Audio){d=!1;try{new Audio}catch(g){e=!0}}else d=!1,e=!0;if(d){var j="undefined"===typeof c.createGain?c.createGainNode():c.createGain();j.gain.value=1;j.connect(c.destination)}var n=function(){this._volume=1;this._muted=!1;this.usingWebAudio=d;this.noAudio=e;this._howls=[]};n.prototype={volume:function(b){b=
parseFloat(b);if(0<=b&&1>=b){this._volume=b;d&&(j.gain.value=b);for(var c in this._howls)if(this._howls.hasOwnProperty(c)&&!1===this._howls[c]._webAudio)for(b=0;b<this._howls[c]._audioNode.length;b++)this._howls[c]._audioNode[b].volume=this._howls[c]._volume*this._volume;return this}return d?j.gain.value:this._volume},mute:function(){this._setMuted(!0);return this},unmute:function(){this._setMuted(!1);return this},_setMuted:function(b){this._muted=b;d&&(j.gain.value=b?0:this._volume);for(var c in this._howls)if(this._howls.hasOwnProperty(c)&&
!1===this._howls[c]._webAudio)for(var e=0;e<this._howls[c]._audioNode.length;e++)this._howls[c]._audioNode[e].muted=b}};var p=new n,n=null;if(!e)var n=new Audio,m={mp3:!!n.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!n.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,
""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")};var s=function(b){this._autoplay=b.autoplay||!1;this._buffer=b.buffer||!1;this._duration=b.duration||0;this._format=b.format||null;this._loop=b.loop||!1;this._loaded=!1;this._sprite=b.sprite||{};this._src=b.src||"";this._pos3d=b.pos3d||[0,0,-0.5];this._volume=void 0!==b.volume?b.volume:1;this._urls=b.urls||[];this._rate=b.rate||1;this._onload=
[b.onload||function(){}];this._onloaderror=[b.onloaderror||function(){}];this._onend=[b.onend||function(){}];this._onpause=[b.onpause||function(){}];this._onplay=[b.onplay||function(){}];this._onendTimer=[];this._webAudio=d&&!this._buffer;this._audioNode=[];this._webAudio&&this._setupAudioNode();p._howls.push(this);this.load()};s.prototype={load:function(){var d=this,g=null;if(!e){for(var j=0;j<d._urls.length;j++){var n,s;if(d._format)n=d._format;else if(s=d._urls[j].toLowerCase().split("?")[0],n=
(n=s.match(/.+\.([^?]+)(\?|$)/))&&2<=n.length?n:s.match(/data\:audio\/([^?]+);/))n=n[1];else{d.on("loaderror");return}if(m[n]){g=d._urls[j];break}}if(g){d._src=g;if(d._webAudio){var H=g;if(H in b)d._duration=b[H].duration,u(d);else{var L=new XMLHttpRequest;L.open("GET",H,!0);L.responseType="arraybuffer";L.onload=function(){c.decodeAudioData(L.response,function(c){c&&(b[H]=c,u(d,c))},function(){d.on("loaderror")})};L.onerror=function(){d._webAudio&&(d._buffer=!0,d._webAudio=!1,d._audioNode=[],delete d._gainNode,
d.load())};try{L.send()}catch(Ya){L.onerror()}}}else{var E=new Audio;d._audioNode.push(E);E.src=g;E._pos=0;E.preload="auto";E.volume=p._muted?0:d._volume*p.volume();b[g]=d;var P=function(){d._duration=Math.ceil(10*E.duration)/10;0===Object.getOwnPropertyNames(d._sprite).length&&(d._sprite={_default:[0,1E3*d._duration]});d._loaded||(d._loaded=!0,d.on("load"));d._autoplay&&d.play();E.removeEventListener("canplaythrough",P,!1)};E.addEventListener("canplaythrough",P,!1);E.load()}return d}}d.on("loaderror")},
urls:function(b){return b?(this.stop(),this._urls="string"===typeof b?[b]:b,this._loaded=!1,this.load(),this):this._urls},play:function(d,e){var g=this;"function"===typeof d&&(e=d);if(!d||"function"===typeof d)d="_default";if(!g._loaded)return g.on("load",function(){g.play(d,e)}),g;if(!g._sprite[d])return"function"===typeof e&&e(),g;g._inactiveNode(function(j){j._sprite=d;var m=0<j._pos?j._pos:g._sprite[d][0]/1E3,n=g._sprite[d][1]/1E3-j._pos,s=!(!g._loop&&!g._sprite[d][2]),u="string"===typeof e?e:
Math.round(Date.now()*Math.random())+"",E,P={id:u,sprite:d,loop:s};E=setTimeout(function(){!g._webAudio&&s&&g.stop(P.id,P.timer).play(d,P.id);g._webAudio&&!s&&(g._nodeById(P.id).paused=!0,g._nodeById(P.id)._pos=0);!g._webAudio&&!s&&g.stop(P.id,P.timer);g.on("end",u)},1E3*n);g._onendTimer.push(E);P.timer=g._onendTimer[g._onendTimer.length-1];if(g._webAudio){E=g._sprite[d][0]/1E3;var M=g._sprite[d][1]/1E3;j.id=u;j.paused=!1;E=[s,E,M];M=g._nodeById(u);M.bufferSource=c.createBufferSource();M.bufferSource.buffer=
b[g._src];M.bufferSource.connect(M.panner);M.bufferSource.loop=E[0];E[0]&&(M.bufferSource.loopStart=E[1],M.bufferSource.loopEnd=E[1]+E[2]);M.bufferSource.playbackRate.value=g._rate;g._playStart=c.currentTime;j.gain.value=g._volume;"undefined"===typeof j.bufferSource.start?j.bufferSource.noteGrainOn(0,m,n):j.bufferSource.start(0,m,n)}else if(4===j.readyState)j.id=u,j.currentTime=m,j.muted=p._muted,j.volume=g._volume*p.volume(),setTimeout(function(){j.play()},0);else{g._clearEndTimer(E);var Aa=d,oa=
e,ta=function(){g.play(Aa,oa);j.removeEventListener("canplaythrough",ta,!1)};j.addEventListener("canplaythrough",ta,!1);return g}g.on("play");"function"===typeof e&&e(u);return g});return g},pause:function(b,c){var d=this;if(!d._loaded)return d.on("play",function(){d.pause(b)}),d;d._clearEndTimer(c||0);var e=b?d._nodeById(b):d._activeNode();if(e)if(e._pos=d.pos(null,b),d._webAudio){if(!e.bufferSource||e.paused)return d;e.paused=!0;"undefined"===typeof e.bufferSource.stop?e.bufferSource.noteOff(0):
e.bufferSource.stop(0)}else e.pause();d.on("pause");return d},stop:function(b,c){var d=this;if(!d._loaded)return d.on("play",function(){d.stop(b)}),d;d._clearEndTimer(c||0);var e=b?d._nodeById(b):d._activeNode();if(e)if(e._pos=0,d._webAudio){if(!e.bufferSource||e.paused)return d;e.paused=!0;"undefined"===typeof e.bufferSource.stop?e.bufferSource.noteOff(0):e.bufferSource.stop(0)}else e.pause(),e.currentTime=0;return d},mute:function(b){var c=this;if(!c._loaded)return c.on("play",function(){c.mute(b)}),
c;var d=b?c._nodeById(b):c._activeNode();d&&(c._webAudio?d.gain.value=0:d.volume=0);return c},unmute:function(b){var c=this;if(!c._loaded)return c.on("play",function(){c.unmute(b)}),c;var d=b?c._nodeById(b):c._activeNode();d&&(c._webAudio?d.gain.value=c._volume:d.volume=c._volume);return c},volume:function(b,c){var d=this;b=parseFloat(b);if(0<=b&&1>=b){d._volume=b;if(!d._loaded)return d.on("play",function(){d.volume(b,c)}),d;var e=c?d._nodeById(c):d._activeNode();e&&(d._webAudio?e.gain.value=b:e.volume=
b*p.volume());return d}return d._volume},loop:function(b){return"boolean"===typeof b?(this._loop=b,this):this._loop},sprite:function(b){return"object"===typeof b?(this._sprite=b,this):this._sprite},pos:function(b,d){var e=this;if(!e._loaded)return e.on("load",function(){e.pos(b)}),"number"===typeof b?e:e._pos||0;b=parseFloat(b);var g=d?e._nodeById(d):e._activeNode();if(g)return 0<=b?(e.pause(d),g._pos=b,e.play(g._sprite,d),e):e._webAudio?g._pos+(c.currentTime-e._playStart):g.currentTime;if(0<=b)return e;
for(g=0;g<e._audioNode.length;g++)if(e._audioNode[g].paused&&4===e._audioNode[g].readyState)return e._webAudio?e._audioNode[g]._pos:e._audioNode[g].currentTime},pos3d:function(b,c,d,e){var g=this;c="undefined"===typeof c||!c?0:c;d="undefined"===typeof d||!d?-0.5:d;if(!g._loaded)return g.on("play",function(){g.pos3d(b,c,d,e)}),g;if(0<=b||0>b){if(g._webAudio){var j=e?g._nodeById(e):g._activeNode();j&&(g._pos3d=[b,c,d],j.panner.setPosition(b,c,d))}}else return g._pos3d;return g},fade:function(b,c,d,
e,g){var j=this,m=Math.abs(b-c),n=b>c?"down":"up",m=m/0.01,p=d/m;if(!j._loaded)return j.on("load",function(){j.fade(b,c,d,e,g)}),j;j.volume(b,g);for(var s=1;s<=m;s++)(function(){var b=Math.round(1E3*(j._volume+("up"===n?0.01:-0.01)*s))/1E3;setTimeout(function(){j.volume(b,g);b===c&&e&&e()},p*s)})()},fadeIn:function(b,c,d){return this.volume(0).play().fade(0,b,c,d)},fadeOut:function(b,c,d,e){var g=this;return g.fade(g._volume,b,c,function(){d&&d();g.pause(e);g.on("end")},e)},_nodeById:function(b){for(var c=
this._audioNode[0],d=0;d<this._audioNode.length;d++)if(this._audioNode[d].id===b){c=this._audioNode[d];break}return c},_activeNode:function(){for(var b=null,c=0;c<this._audioNode.length;c++)if(!this._audioNode[c].paused){b=this._audioNode[c];break}this._drainPool();return b},_inactiveNode:function(b){for(var c=null,d=0;d<this._audioNode.length;d++)if(this._audioNode[d].paused&&4===this._audioNode[d].readyState){b(this._audioNode[d]);c=!0;break}this._drainPool();if(!c){var e;this._webAudio?(e=this._setupAudioNode(),
b(e)):(this.load(),e=this._audioNode[this._audioNode.length-1],e.addEventListener("loadedmetadata",function(){b(e)}))}},_drainPool:function(){var b=0,c;for(c=0;c<this._audioNode.length;c++)this._audioNode[c].paused&&b++;for(c=this._audioNode.length-1;0<=c&&!(5>=b);c--)this._audioNode[c].paused&&(this._webAudio&&this._audioNode[c].disconnect(0),b--,this._audioNode.splice(c,1))},_clearEndTimer:function(b){b=this._onendTimer.indexOf(b);b=0<=b?b:0;this._onendTimer[b]&&(clearTimeout(this._onendTimer[b]),
this._onendTimer.splice(b,1))},_setupAudioNode:function(){var b=this._audioNode,d=this._audioNode.length;b[d]="undefined"===typeof c.createGain?c.createGainNode():c.createGain();b[d].gain.value=this._volume;b[d].paused=!0;b[d]._pos=0;b[d].readyState=4;b[d].connect(j);b[d].panner=c.createPanner();b[d].panner.setPosition(this._pos3d[0],this._pos3d[1],this._pos3d[2]);b[d].panner.connect(b[d]);return b[d]},on:function(b,c){var d=this["_on"+b];if("function"===typeof c)d.push(c);else for(var e=0;e<d.length;e++)c?
d[e].call(this,c):d[e].call(this);return this},off:function(b,c){for(var d=this["_on"+b],e=c.toString(),g=0;g<d.length;g++)if(e===d[g].toString()){d.splice(g,1);break}return this},unload:function(){for(var c=this._audioNode,d=0;d<this._audioNode.length;d++)c[d].paused||this.stop(c[d].id),this._webAudio?c[d].disconnect(0):c[d].src="";c=p._howls.indexOf(this);null!==c&&0<=c&&p._howls.splice(c,1);delete b[this._src]}};if(d)var u=function(b,c){b._duration=c?c.duration:b._duration;0===Object.getOwnPropertyNames(b._sprite).length&&
(b._sprite={_default:[0,1E3*b._duration]});b._loaded||(b._loaded=!0,b.on("load"));b._autoplay&&b.play()};"function"===typeof define&&define.amd&&define(function(){return{Howler:p,Howl:s}});"undefined"!==typeof exports&&(exports.Howler=p,exports.Howl=s);window.Howler=p;window.Howl=s})();(function(b,c,d,e,g,j,n){b.GoogleAnalyticsObject=g;b[g]=b[g]||function(){(b[g].q=b[g].q||[]).push(arguments)};b[g].l=1*new Date;j=c.createElement(d);n=c.getElementsByTagName(d)[0];j.async=1;j.src=e;n.parentNode.insertBefore(j,n)})(window,document,"script","","ga");ga("create","UA-73655456-25",{name:"marketjs"});ga("marketjs.send","pageview");(function(b){Number.prototype.map=function(b,c,d,e){return d+(e-d)*((this-b)/(c-b))};Number.prototype.limit=function(b,c){return Math.min(c,Math.max(b,this))};Number.prototype.round=function(b){b=Math.pow(10,b||0);return Math.round(this*b)/b};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return 180*
this/Math.PI};Array.prototype.erase=function(b){for(var c=this.length;c--;)this[c]===b&&this.splice(c,1);return this};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Function.prototype.bind=Function.prototype.bind||function(b){var c=this;return function(){var d=Array.prototype.slice.call(arguments);return c.apply(b||null,d)}};b.ig={game:null,debug:null,version:"1.20",global:b,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:b.ImpactPrefix||"",
lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(b){return"#"==b.charAt(0)?document.getElementById(b.substr(1)):document.getElementsByTagName(b)},$new:function(b){return document.createElement(b)},copy:function(b){if(!b||"object"!=typeof b||b instanceof HTMLElement||b instanceof ig.Class)return b;if(b instanceof Array)for(var c=[],d=0,e=b.length;d<e;d++)c[d]=ig.copy(b[d]);else for(d in c={},b)c[d]=ig.copy(b[d]);return c},merge:function(b,c){for(var d in c){var e=c[d];if("object"!=
typeof e||e instanceof HTMLElement||e instanceof ig.Class)b[d]=e;else{if(!b[d]||"object"!=typeof b[d])b[d]=e instanceof Array?[]:{};ig.merge(b[d],e)}}return b},ksort:function(b){if(!b||"object"!=typeof b)return[];var c=[],d=[],e;for(e in b)c.push(e);c.sort();for(e=0;e<c.length;e++)d.push(b[c[e]]);return d},module:function(b){if(ig._current)throw"Module '"+ig._current.name+"' defines nothing";if(ig.modules[b]&&ig.modules[b].body)throw"Module '"+b+"' is already defined";ig._current={name:b,requires:[],
loaded:!1,body:null};ig.modules[b]=ig._current;ig._loadQueue.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(b){ig._current.body=b;ig._current=null;ig._initDOMReady()},addResource:function(b){ig.resources.push(b)},setNocache:function(b){ig.nocache=b?"?"+Date.now():""},log:function(){},assert:function(){},show:function(){},mark:function(){},_loadScript:function(b,c){ig.modules[b]={name:b,requires:[],loaded:!1,body:null};
ig._waitForOnload++;var d=ig.prefix+ig.lib+b.replace(/\./g,"/")+".js"+ig.nocache,e=ig.$new("script");e.type="text/javascript";e.src=d;e.onload=function(){ig._waitForOnload--;ig._execModules()};e.onerror=function(){throw"Failed to load module "+b+" at "+d+" required from "+c;};ig.$("head")[0].appendChild(e)},_execModules:function(){for(var b=!1,c=0;c<ig._loadQueue.length;c++){for(var d=ig._loadQueue[c],e=!0,g=0;g<d.requires.length;g++){var j=d.requires[g];ig.modules[j]?ig.modules[j].loaded||(e=!1):
(e=!1,ig._loadScript(j,d.name))}e&&d.body&&(ig._loadQueue.splice(c,1),d.loaded=!0,d.body(),b=!0,c--)}if(b)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){b=[];for(c=0;c<ig._loadQueue.length;c++){e=[];j=ig._loadQueue[c].requires;for(g=0;g<j.length;g++)d=ig.modules[j[g]],(!d||!d.loaded)&&e.push(j[g]);b.push(ig._loadQueue[c].name+" (requires: "+e.join(", ")+")")}throw"Unresolved (circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules:\n"+
b.join("\n");}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0;ig._waitForOnload--;ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0);ig.ua.pixelRatio=b.devicePixelRatio||1;ig.ua.viewport={width:b.innerWidth,height:b.innerHeight};ig.ua.screen={width:b.screen.availWidth*ig.ua.pixelRatio,height:b.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);
ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio;ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.is_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);ig.ua.is_safari_or_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.iOS6_tag=/OS 6_/i.test(navigator.userAgent);ig.ua.iOS6=(ig.ua.iPhone||ig.ua.iPad)&&ig.ua.iOS6_tag;ig.ua.iOSgt5=ig.ua.iOS&&5<parseInt(navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]);
ig.ua.HTCONE=/HTC_One/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.touchDevice="ontouchstart"in b||b.navigator.msMaxTouchPoints;ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.iOS6||ig.ua.winPhone||/mobile/i.test(navigator.userAgent)},_initDOMReady:function(){ig.modules["dom.ready"]?ig._execModules():(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig._waitForOnload++,"complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",
ig._DOMReady,!1),b.addEventListener("load",ig._DOMReady,!1)))}};for(var c=["ms","moz","webkit","o"],d=0;d<c.length&&!b.requestAnimationFrame;d++)b.requestAnimationFrame=b[c[d]+"RequestAnimationFrame"];if(b.requestAnimationFrame){var e=1,g={};b.ig.setAnimation=function(c,d){var j=e++;g[j]=!0;var l=function(){g[j]&&(b.requestAnimationFrame(l,d),c())};b.requestAnimationFrame(l,d);return j};b.ig.clearAnimation=function(b){delete g[b]}}else b.ig.setAnimation=function(c){return b.setInterval(c,1E3/60)},
b.ig.clearAnimation=function(c){b.clearInterval(c)};var j=!1,n=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/;b.ig.Class=function(){};var p=function(b){var c=this.prototype,d={},e;for(e in b)"function"==typeof b[e]&&"function"==typeof c[e]&&n.test(b[e])?(d[e]=c[e],c[e]=function(b,c){return function(){var e=this.parent;this.parent=d[b];var g=c.apply(this,arguments);this.parent=e;return g}}(e,b[e])):c[e]=b[e]};b.ig.Class.extend=function(c){function d(){if(!j){if(this.staticInstantiate){var b=this.staticInstantiate.apply(this,
arguments);if(b)return b}for(var c in this)"object"==typeof this[c]&&(this[c]=ig.copy(this[c]));this.init&&this.init.apply(this,arguments)}return this}var e=this.prototype;j=!0;var g=new this;j=!1;for(var r in c)g[r]="function"==typeof c[r]&&"function"==typeof e[r]&&n.test(c[r])?function(b,c){return function(){var d=this.parent;this.parent=e[b];var g=c.apply(this,arguments);this.parent=d;return g}}(r,c[r]):c[r];d.prototype=g;d.constructor=d;d.extend=b.ig.Class.extend;d.inject=p;return d}})(window);
ig.baked=!0;
ig.module("impact.image").defines(function(){ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(b){return ig.Image.cache[b]||null},init:function(b){this.path=b;this.load()},load:function(b){this.loaded?b&&b(this.path,!0):(!this.loaded&&ig.ready?(this.loadCallback=b||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),
ig.Image.cache[this.path]=this)},reload:function(){this.loaded=!1;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width;this.height=this.data.height;this.loaded=!0;1!=ig.system.scale&&this.resize(ig.system.scale);this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0;this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(b){var c=this.width*b,d=this.height*b,e=ig.$new("canvas");
e.width=this.width;e.height=this.height;e=e.getContext("2d");e.drawImage(this.data,0,0,this.width,this.height,0,0,this.width,this.height);var e=e.getImageData(0,0,this.width,this.height),g=ig.$new("canvas");g.width=c;g.height=d;for(var j=g.getContext("2d"),n=j.getImageData(0,0,c,d),p=0;p<d;p++)for(var m=0;m<c;m++){var s=4*(Math.floor(p/b)*this.width+Math.floor(m/b)),u=4*(p*c+m);n.data[u]=e.data[s];n.data[u+1]=e.data[s+1];n.data[u+2]=e.data[s+2];n.data[u+3]=e.data[s+3]}j.putImageData(n,0,0);this.data=
g},draw:function(b,c,d,e,g,j){if(this.loaded){var n=ig.system.scale;g=(g?g:this.width)*n;j=(j?j:this.height)*n;ig.system.context.drawImage(this.data,d?d*n:0,e?e*n:0,g,j,ig.system.getDrawPos(b),ig.system.getDrawPos(c),g,j);ig.Image.drawCount++}},drawTile:function(b,c,d,e,g,j,n){g=g?g:e;if(this.loaded&&!(e>this.width||g>this.height)){var p=ig.system.scale,m=Math.floor(e*p),s=Math.floor(g*p),u=j?-1:1,l=n?-1:1;if(j||n)ig.system.context.save(),ig.system.context.scale(u,l);ig.system.context.drawImage(this.data,
Math.floor(d*e)%this.width*p,Math.floor(d*e/this.width)*g*p,m,s,ig.system.getDrawPos(b)*u-(j?m:0),ig.system.getDrawPos(c)*l-(n?s:0),m,s);(j||n)&&ig.system.context.restore();ig.Image.drawCount++}}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.reloadCache=function(){for(var b in ig.Image.cache)ig.Image.cache[b].reload()}});ig.baked=!0;
ig.module("impact.font").requires("impact.image").defines(function(){ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(b){this._loadMetrics(this.data);this.parent(b)},widthForString:function(b){if(-1!==b.indexOf("\n")){b=b.split("\n");for(var c=0,d=0;d<b.length;d++)c=Math.max(c,this._widthForLine(b[d]));return c}return this._widthForLine(b)},_widthForLine:function(b){for(var c=0,d=0;d<b.length;d++)c+=this.widthMap[b.charCodeAt(d)-this.firstChar]+
this.letterSpacing;return c},heightForString:function(b){return b.split("\n").length*(this.height+this.lineSpacing)},draw:function(b,c,d,e){"string"!=typeof b&&(b=b.toString());if(-1!==b.indexOf("\n")){b=b.split("\n");for(var g=this.height+this.lineSpacing,j=0;j<b.length;j++)this.draw(b[j],c,d+j*g,e)}else{if(e==ig.Font.ALIGN.RIGHT||e==ig.Font.ALIGN.CENTER)j=this._widthForLine(b),c-=e==ig.Font.ALIGN.CENTER?j/2:j;1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(j=0;j<b.length;j++)e=b.charCodeAt(j),
c+=this._drawChar(e-this.firstChar,c,d);1!==this.alpha&&(ig.system.context.globalAlpha=1);ig.Image.drawCount+=b.length}},_drawChar:function(b,c,d){if(!this.loaded||0>b||b>=this.indices.length)return 0;var e=ig.system.scale,g=this.widthMap[b]*e,j=(this.height-2)*e;ig.system.context.drawImage(this.data,this.indices[b]*e,0,g,j,ig.system.getDrawPos(c),ig.system.getDrawPos(d),g,j);return this.widthMap[b]+this.letterSpacing},_loadMetrics:function(b){this.height=b.height-1;this.widthMap=[];this.indices=
[];var c=ig.$new("canvas");c.width=b.width;c.height=b.height;c=c.getContext("2d");c.drawImage(b,0,0);for(var c=c.getImageData(0,b.height-1,b.width,1),d=0,e=0,g=0;g<b.width;g++){var j=4*g+3;0!=c.data[j]?e++:0==c.data[j]&&e&&(this.widthMap.push(e),this.indices.push(g-e),d++,e=0)}this.widthMap.push(e);this.indices.push(g-e)}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}});ig.baked=!0;
ig.module("impact.sound").defines(function(){ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){for(var b=new Audio,c=0;c<ig.Sound.use.length;c++){var d=ig.Sound.use[c];if(b.canPlayType(d.mime)){this.format=d;break}}this.format||(ig.Sound.enabled=!1)},load:function(b,c,d){var e=ig.prefix+b.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[b]){if(c&&this.clips[b].length<ig.Sound.channels)for(c=this.clips[b].length;c<ig.Sound.channels;c++){var g=new Audio(e);g.load();
this.clips[b].push(g)}return this.clips[b][0]}var j=new Audio(e);d&&(j.addEventListener("canplaythrough",function p(c){j.removeEventListener("canplaythrough",p,!1);d(b,!0,c)},!1),j.addEventListener("error",function(c){d(b,!0,c)},!1));j.preload="auto";j.load();this.clips[b]=[j];if(c)for(c=1;c<ig.Sound.channels;c++)g=new Audio(e),g.load(),this.clips[b].push(g);return j},get:function(b){b=this.clips[b];for(var c=0,d;d=b[c++];)if(d.paused||d.ended)return d.ended&&(d.currentTime=0),d;b[0].pause();b[0].currentTime=
0;return b[0]}});ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this);Object.defineProperty?(Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})):this.__defineGetter__&&
(this.__defineGetter__("volume",this.getVolume.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.getLooping.bind(this)),this.__defineSetter__("loop",this.setLooping.bind(this)))},add:function(b,c){if(ig.Sound.enabled){var d=ig.soundManager.load(b instanceof ig.Sound?b.path:b,!1);d.loop=this._loop;d.volume=this._volume;d.addEventListener("ended",this._endedCallbackBound,!1);this.tracks.push(d);c&&(this.namedTracks[c]=d);this.currentTrack||(this.currentTrack=
d)}},next:function(){this.tracks.length&&(this.stop(),this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length,this.currentTrack=this.tracks[this.currentIndex],this.play())},pause:function(){this.currentTrack&&this.currentTrack.pause()},stop:function(){if(this.currentTrack){this.currentTrack.pause();try{this.currentTrack.currentTime=0}catch(b){console.log(b)}}},play:function(b){if(b&&this.namedTracks[b])b=this.namedTracks[b],b!=this.currentTrack&&
(this.stop(),this.currentTrack=b);else if(!this.currentTrack)return;this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(b){this._loop=b;for(var c in this.tracks)this.tracks[c].loop=b},getVolume:function(){return this._volume},setVolume:function(b){this._volume=b.limit(0,1);for(var c in this.tracks)this.tracks[c].volume=this._volume},fadeOut:function(b){this.currentTrack&&(clearInterval(this._fadeInterval),this.fadeTimer=new ig.Timer(b),this._fadeInterval=setInterval(this._fadeStep.bind(this),
50))},_fadeStep:function(){var b=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;0.01>=b?(this.stop(),this.currentTrack.volume=this._volume,clearInterval(this._fadeInterval)):this.currentTrack.volume=b},_endedCallback:function(){this._loop?this.play():this.next()}});ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:!0,init:function(b,c){this.path=b;this.multiChannel=!1!==c;this.load()},load:function(b){ig.Sound.enabled?ig.ready?ig.soundManager.load(this.path,
this.multiChannel,b):ig.addResource(this):b&&b(this.path,!0)},play:function(){ig.Sound.enabled&&(this.currentClip=ig.soundManager.get(this.path),this.currentClip.volume=ig.soundManager.volume*this.volume,this.currentClip.play())},stop:function(){this.currentClip&&(this.currentClip.pause(),this.currentClip.currentTime=0)}});ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},
CAF:{ext:"caf",mime:"audio/x-caf"}};ig.Sound.use=[ig.Sound.FORMAT.MP3,ig.Sound.FORMAT.OGG];ig.Sound.channels=4;ig.Sound.enabled=!0});ig.baked=!0;
ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(b,c){this.gameClass=b;this.resources=c;this._loadCallbackBound=this._loadCallback.bind(this);for(var d=0;d<this.resources.length;d++)this._unloaded.push(this.resources[d].path)},load:function(){ig.system.clear("#000");if(this.resources.length){for(var b=
0;b<this.resources.length;b++)this.loadResource(this.resources[b]);this._intervalId=setInterval(this.draw.bind(this),16)}else this.end()},loadResource:function(b){b.load(this._loadCallbackBound)},end:function(){this.done||(this.done=!0,clearInterval(this._intervalId))},draw:function(){},_loadCallback:function(b,c){if(c)this._unloaded.erase(b);else throw"Failed to load resource: "+b;this.status=1-this._unloaded.length/this.resources.length;0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})});
ig.baked=!0;
ig.module("impact.timer").defines(function(){ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(b){this.last=this.base=ig.Timer.time;this.target=b||0},set:function(b){this.target=b||0;this.base=ig.Timer.time;this.pausedAt=0},reset:function(){this.base=ig.Timer.time;this.pausedAt=0},tick:function(){var b=ig.Timer.time-this.last;this.last=ig.Timer.time;return this.pausedAt?0:b},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||(this.pausedAt=
ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}});ig.Timer._last=0;ig.Timer.time=0;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var b=Date.now();ig.Timer.time+=Math.min((b-ig.Timer._last)/1E3,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=b}});ig.baked=!0;
ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(b,c,d,e,g){this.fps=c;this.clock=new ig.Timer;this.canvas=ig.$(b);this.resize(d,e,g);this.context=this.canvas.getContext("2d");this.getDrawPos=ig.System.drawMode},resize:function(b,c,d){this.width=b;this.height=
c;this.scale=d||this.scale;this.realWidth=this.width*this.scale;this.realHeight=this.height*this.scale;this.canvas.width=this.realWidth;this.canvas.height=this.realHeight},setGame:function(b){this.running?this.newGameClass=b:this.setGameNow(b)},setGameNow:function(b){ig.game=new b;ig.system.setDelegate(ig.game)},setDelegate:function(b){if("function"==typeof b.run)this.delegate=b,this.startRunLoop();else throw"System.setDelegate: No run() function in object";},stopRunLoop:function(){ig.clearAnimation(this.animationId);
this.running=!1},startRunLoop:function(){this.stopRunLoop();this.animationId=ig.setAnimation(this.run.bind(this),this.canvas);this.running=!0},clear:function(b){this.context.fillStyle=b;this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();this.newGameClass&&(this.setGameNow(this.newGameClass),this.newGameClass=null)},getDrawPos:null});ig.System.DRAW={AUTHENTIC:function(b){return Math.round(b)*
this.scale},SMOOTH:function(b){return Math.round(b*this.scale)},SUBPIXEL:function(b){return b*this.scale}};ig.System.drawMode=ig.System.DRAW.SMOOTH});ig.baked=!0;
ig.module("impact.input").defines(function(){ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,
NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:!1,isUsingKeyboard:!1,isUsingAccelerometer:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(!this.isUsingMouse){this.isUsingMouse=
!0;var b=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",b,!1);ig.system.canvas.addEventListener("DOMMouseScroll",b,!1);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1);ig.ua.touchDevice&&(ig.system.canvas.addEventListener("touchstart",
this.keydown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1),ig.system.canvas.addEventListener("MSPointerDown",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",this.mousemove.bind(this),!1),ig.system.canvas.style.msTouchAction="none")}},initKeyboard:function(){this.isUsingKeyboard||(this.isUsingKeyboard=
!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},initAccelerometer:function(){this.isUsingAccelerometer||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(b){var c=this.bindings[0<(b.wheelDelta?b.wheelDelta:-1*b.detail)?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN];c&&(this.actions[c]=!0,this.presses[c]=!0,this.delayedKeyup[c]=!0,b.stopPropagation(),b.preventDefault())},mousemove:function(b){for(var c=
ig.system.canvas,d=0,e=0;null!=c;)d+=c.offsetLeft,e+=c.offsetTop,c=c.offsetParent;var c=b.pageX,g=b.pageY;b.touches&&(c=b.touches[0].clientX,g=b.touches[0].clientY);this.mouse.x=(c-d)/ig.system.scale;this.mouse.y=(g-e)/ig.system.scale},contextmenu:function(b){this.bindings[ig.KEY.MOUSE2]&&(b.stopPropagation(),b.preventDefault())},keydown:function(b){if("text"!=b.target.type){var c="keydown"==b.type?b.keyCode:2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1;("touchstart"==b.type||"mousedown"==b.type)&&this.mousemove(b);
if(c=this.bindings[c])this.actions[c]=!0,this.locks[c]||(this.presses[c]=!0,this.locks[c]=!0),b.stopPropagation(),b.preventDefault()}},keyup:function(b){if("text"!=b.target.type){var c=this.bindings["keyup"==b.type?b.keyCode:2==b.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1];c&&(this.delayedKeyup[c]=!0,b.stopPropagation(),b.preventDefault())}},devicemotion:function(b){this.accel=b.accelerationIncludingGravity},bind:function(b,c){0>b?this.initMouse():0<b&&this.initKeyboard();this.bindings[b]=c},bindTouch:function(b,
c){var d=ig.$(b),e=this;d.addEventListener("touchstart",function(b){e.touchStart(b,c)},!1);d.addEventListener("touchend",function(b){e.touchEnd(b,c)},!1)},unbind:function(b){this.delayedKeyup[this.bindings[b]]=!0;this.bindings[b]=null},unbindAll:function(){this.bindings={};this.actions={};this.presses={};this.locks={};this.delayedKeyup={}},state:function(b){return this.actions[b]},pressed:function(b){return this.presses[b]},released:function(b){return this.delayedKeyup[b]},clearPressed:function(){for(var b in this.delayedKeyup)this.actions[b]=
!1,this.locks[b]=!1;this.delayedKeyup={};this.presses={}},touchStart:function(b,c){this.actions[c]=!0;this.presses[c]=!0;b.stopPropagation();b.preventDefault();return!1},touchEnd:function(b,c){this.delayedKeyup[c]=!0;b.stopPropagation();b.preventDefault();return!1}})});ig.baked=!0;
ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){ig.main=function(b,c,d,e,g,j,n){ig.system=new ig.System(b,d,e,g,j||1);ig.input=new ig.Input;ig.soundManager=new ig.SoundManager;ig.music=new ig.Music;ig.ready=!0;(new (n||ig.Loader)(c,ig.resources)).load()}});ig.baked=!0;
ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(b,c,d){this.width=c;this.height=d;this.image=new ig.Image(b)}});ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:!1,y:!1},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(b,c,d,e){this.sheet=b;this.pivot={x:b.width/2,y:b.height/2};this.timer=new ig.Timer;this.frameTime=c;this.sequence=d;
this.stop=!!e;this.tile=this.sequence[0]},rewind:function(){this.timer.reset();this.loopCount=0;this.tile=this.sequence[0];return this},gotoFrame:function(b){this.timer.set(this.frameTime*-b);this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var b=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(b/this.sequence.length);this.frame=this.stop&&0<this.loopCount?this.sequence.length-1:b%this.sequence.length;
this.tile=this.sequence[this.frame]},draw:function(b,c){var d=Math.max(this.sheet.width,this.sheet.height);b>ig.system.width||(c>ig.system.height||0>b+d||0>c+d)||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTile(b,c,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(b+this.pivot.x),ig.system.getDrawPos(c+this.pivot.y)),ig.system.context.rotate(this.angle),
this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}})});ig.baked=!0;
ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},posMP:{x:0,y:0},posML:{x:0,y:0},enableReposition:!1,pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:!1,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:!1,slopeStanding:{min:(44).toRad(),
max:(136).toRad()},init:function(b,c,d){this.id=++ig.Entity._lastId;this.pos.x=b;this.pos.y=c;ig.merge(this,d)},addAnim:function(b,c,d,e){if(!this.animSheet)throw"No animSheet to add the animation "+b+" to.";c=new ig.Animation(this.animSheet,c,d,e);this.anims[b]=c;this.currentAnim||(this.currentAnim=c);return c},update:function(){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor;this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,
this.maxVel.x);this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var b=ig.game.collisionMap.trace(this.pos.x,this.pos.y,this.vel.x*ig.system.tick,this.vel.y*ig.system.tick,this.size.x,this.size.y);this.handleMovementTrace(b);this.currentAnim&&this.currentAnim.update()},getNewVelocity:function(b,c,d,e){return c?(b+c*ig.system.tick).limit(-e,e):d?(c=d*ig.system.tick,0<b-c?b-c:0>b+c?b+c:0):b.limit(-e,e)},handleMovementTrace:function(b){this.standing=!1;b.collision.y&&
(0<this.bounciness&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));b.collision.x&&(this.vel.x=0<this.bounciness&&Math.abs(this.vel.x)>this.minBounceVelocity?this.vel.x*-this.bounciness:0);if(b.collision.slope){var c=b.collision.slope;if(0<this.bounciness){var d=this.vel.x*c.nx+this.vel.y*c.ny;this.vel.x=(this.vel.x-2*c.nx*d)*this.bounciness;this.vel.y=(this.vel.y-2*c.ny*d)*this.bounciness}else d=(this.vel.x*c.x+this.vel.y*
c.y)/(c.x*c.x+c.y*c.y),this.vel.x=c.x*d,this.vel.y=c.y*d,c=Math.atan2(c.x,c.y),c>this.slopeStanding.min&&c<this.slopeStanding.max&&(this.standing=!0)}this.pos=b.pos},reposition:function(){ig.ua.mobile&&this.enableReposition&&(portraitMode?(this.pos.x=this.posMP.x,this.pos.y=this.posMP.y):(this.pos.x=this.posML.x,this.pos.y=this.posML.y))},draw:function(){this.currentAnim&&this.currentAnim.draw(this.pos.x-this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)},kill:function(){ig.game.removeEntity(this)},
receiveDamage:function(b){this.health-=b;0>=this.health&&this.kill()},touches:function(b){return!(this.pos.x>=b.pos.x+b.size.x||this.pos.x+this.size.x<=b.pos.x||this.pos.y>=b.pos.y+b.size.y||this.pos.y+this.size.y<=b.pos.y)},distanceTo:function(b){var c=this.pos.x+this.size.x/2-(b.pos.x+b.size.x/2);b=this.pos.y+this.size.y/2-(b.pos.y+b.size.y/2);return Math.sqrt(c*c+b*b)},angleTo:function(b){return Math.atan2(b.pos.y+b.size.y/2-(this.pos.y+this.size.y/2),b.pos.x+b.size.x/2-(this.pos.x+this.size.x/
2))},check:function(){},collideWith:function(){},ready:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.checkPair=function(b,c){b.checkAgainst&c.type&&b.check(c);c.checkAgainst&b.type&&c.check(b);b.collides&&(c.collides&&b.collides+c.collides>ig.Entity.COLLIDES.ACTIVE)&&ig.Entity.solveCollision(b,c)};ig.Entity.solveCollision=function(b,c){var d=null;if(b.collides==ig.Entity.COLLIDES.LITE||c.collides==
ig.Entity.COLLIDES.FIXED)d=b;else if(c.collides==ig.Entity.COLLIDES.LITE||b.collides==ig.Entity.COLLIDES.FIXED)d=c;b.last.x+b.size.x>c.last.x&&b.last.x<c.last.x+c.size.x?(b.last.y<c.last.y?ig.Entity.seperateOnYAxis(b,c,d):ig.Entity.seperateOnYAxis(c,b,d),b.collideWith(c,"y"),c.collideWith(b,"y")):b.last.y+b.size.y>c.last.y&&b.last.y<c.last.y+c.size.y&&(b.last.x<c.last.x?ig.Entity.seperateOnXAxis(b,c,d):ig.Entity.seperateOnXAxis(c,b,d),b.collideWith(c,"x"),c.collideWith(b,"x"))};ig.Entity.seperateOnXAxis=
function(b,c,d){var e=b.pos.x+b.size.x-c.pos.x;d?(d.vel.x=-d.vel.x*d.bounciness+(b===d?c:b).vel.x,c=ig.game.collisionMap.trace(d.pos.x,d.pos.y,d==b?-e:e,0,d.size.x,d.size.y),d.pos.x=c.pos.x):(d=(b.vel.x-c.vel.x)/2,b.vel.x=-d,c.vel.x=d,d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,-e/2,0,b.size.x,b.size.y),b.pos.x=Math.floor(d.pos.x),b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,e/2,0,c.size.x,c.size.y),c.pos.x=Math.ceil(b.pos.x))};ig.Entity.seperateOnYAxis=function(b,c,d){var e=b.pos.y+b.size.y-c.pos.y;
if(d){c=b===d?c:b;d.vel.y=-d.vel.y*d.bounciness+c.vel.y;var g=0;d==b&&Math.abs(d.vel.y-c.vel.y)<d.minBounceVelocity&&(d.standing=!0,g=c.vel.x*ig.system.tick);b=ig.game.collisionMap.trace(d.pos.x,d.pos.y,g,d==b?-e:e,d.size.x,d.size.y);d.pos.y=b.pos.y;d.pos.x=b.pos.x}else ig.game.gravity&&(c.standing||0<b.vel.y)?(d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,0,-(b.pos.y+b.size.y-c.pos.y),b.size.x,b.size.y),b.pos.y=d.pos.y,0<b.bounciness&&b.vel.y>b.minBounceVelocity?b.vel.y*=-b.bounciness:(b.standing=
!0,b.vel.y=0)):(d=(b.vel.y-c.vel.y)/2,b.vel.y=-d,c.vel.y=d,g=c.vel.x*ig.system.tick,d=ig.game.collisionMap.trace(b.pos.x,b.pos.y,g,-e/2,b.size.x,b.size.y),b.pos.y=d.pos.y,b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,0,e/2,c.size.x,c.size.y),c.pos.y=b.pos.y)}});ig.baked=!0;
ig.module("impact.map").defines(function(){ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(b,c){this.tilesize=b;this.data=c;this.height=c.length;this.width=c[0].length},getTile:function(b,c){var d=Math.floor(b/this.tilesize),e=Math.floor(c/this.tilesize);return 0<=d&&d<this.width&&0<=e&&e<this.height?this.data[e][d]:0},setTile:function(b,c,d){b=Math.floor(b/this.tilesize);c=Math.floor(c/this.tilesize);0<=b&&b<this.width&&(0<=c&&c<this.height)&&(this.data[c][b]=
d)}})});ig.baked=!0;
ig.module("impact.collision-map").requires("impact.map").defines(function(){ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(b,c,g){this.parent(b,c);this.tiledef=g||ig.CollisionMap.defaultTileDef;for(var j in this.tiledef)j|0>this.lastSlope&&(this.lastSlope=j|0)},trace:function(b,c,g,j,n,p){var m={collision:{x:!1,y:!1,slope:!1},pos:{x:b,y:c},tile:{x:0,y:0}},s=Math.ceil(Math.max(Math.abs(g),Math.abs(j))/this.tilesize);if(1<s)for(var u=g/s,l=j/s,r=0;r<s&&(u||l)&&!(this._traceStep(m,
b,c,u,l,n,p,g,j,r),b=m.pos.x,c=m.pos.y,m.collision.x&&(g=u=0),m.collision.y&&(j=l=0),m.collision.slope);r++);else this._traceStep(m,b,c,g,j,n,p,g,j,0);return m},_traceStep:function(b,c,g,j,n,p,m,s,u,l){b.pos.x+=j;b.pos.y+=n;var r=0;if(j){var x=0<j?p:0,D=0>j?this.tilesize:0,r=Math.max(Math.floor(g/this.tilesize),0),K=Math.min(Math.ceil((g+m)/this.tilesize),this.height);j=Math.floor((b.pos.x+x)/this.tilesize);var H=Math.floor((c+x)/this.tilesize);if(0<l||j==H||0>H||H>=this.width)H=-1;if(0<=j&&j<this.width)for(var L=
r;L<K&&!(-1!=H&&(r=this.data[L][H],1<r&&r<=this.lastSlope&&this._checkTileDef(b,r,c,g,s,u,p,m,H,L)));L++)if(r=this.data[L][j],1==r||r>this.lastSlope||1<r&&this._checkTileDef(b,r,c,g,s,u,p,m,j,L)){if(1<r&&r<=this.lastSlope&&b.collision.slope)break;b.collision.x=!0;b.tile.x=r;c=b.pos.x=j*this.tilesize-x+D;s=0;break}}if(n){x=0<n?m:0;n=0>n?this.tilesize:0;r=Math.max(Math.floor(b.pos.x/this.tilesize),0);D=Math.min(Math.ceil((b.pos.x+p)/this.tilesize),this.width);L=Math.floor((b.pos.y+x)/this.tilesize);
K=Math.floor((g+x)/this.tilesize);if(0<l||L==K||0>K||K>=this.height)K=-1;if(0<=L&&L<this.height)for(j=r;j<D&&!(-1!=K&&(r=this.data[K][j],1<r&&r<=this.lastSlope&&this._checkTileDef(b,r,c,g,s,u,p,m,j,K)));j++)if(r=this.data[L][j],1==r||r>this.lastSlope||1<r&&this._checkTileDef(b,r,c,g,s,u,p,m,j,L)){if(1<r&&r<=this.lastSlope&&b.collision.slope)break;b.collision.y=!0;b.tile.y=r;b.pos.y=L*this.tilesize-x+n;break}}},_checkTileDef:function(b,c,g,j,n,p,m,s,u,l){var r=this.tiledef[c];if(!r)return!1;c=(r[2]-
r[0])*this.tilesize;var x=(r[3]-r[1])*this.tilesize,D=r[4];m=g+n+(0>x?m:0)-(u+r[0])*this.tilesize;s=j+p+(0<c?s:0)-(l+r[1])*this.tilesize;if(0<c*s-x*m){if(0>n*-x+p*c)return D;u=Math.sqrt(c*c+x*x);l=x/u;u=-c/u;var K=m*l+s*u,r=l*K,K=u*K;if(r*r+K*K>=n*n+p*p)return D||0.5>c*(s-p)-x*(m-n);b.pos.x=g+n-r;b.pos.y=j+p-K;b.collision.slope={x:c,y:x,nx:l,ny:u};return!0}return!1}});var b=1/3,c=2/3;ig.CollisionMap.defaultTileDef={5:[0,1,1,c,!0],6:[0,c,1,b,!0],7:[0,b,1,0,!0],3:[0,1,1,0.5,!0],4:[0,0.5,1,0,!0],2:[0,
1,1,0,!0],10:[0.5,1,1,0,!0],21:[0,1,0.5,0,!0],32:[c,1,1,0,!0],43:[b,1,c,0,!0],54:[0,1,b,0,!0],27:[0,0,1,b,!0],28:[0,b,1,c,!0],29:[0,c,1,1,!0],25:[0,0,1,0.5,!0],26:[0,0.5,1,1,!0],24:[0,0,1,1,!0],11:[0,0,0.5,1,!0],22:[0.5,0,1,1,!0],33:[0,0,b,1,!0],44:[b,0,c,1,!0],55:[c,0,1,1,!0],16:[1,b,0,0,!0],17:[1,c,0,b,!0],18:[1,1,0,c,!0],14:[1,0.5,0,0,!0],15:[1,1,0,0.5,!0],13:[1,1,0,0,!0],8:[0.5,1,0,0,!0],19:[1,1,0.5,0,!0],30:[b,1,0,0,!0],41:[c,1,b,0,!0],52:[1,1,c,0,!0],38:[1,c,0,1,!0],39:[1,b,0,c,!0],40:[1,0,
0,b,!0],36:[1,0.5,0,1,!0],37:[1,0,0,0.5,!0],35:[1,0,0,1,!0],9:[1,0,0.5,1,!0],20:[0.5,0,0,1,!0],31:[1,0,c,1,!0],42:[c,0,b,1,!0],53:[b,0,0,1,!0],12:[0,0,1,0,!1],23:[1,1,0,1,!1],34:[1,0,1,1,!1],45:[0,1,0,0,!1]};ig.CollisionMap.staticNoCollision={trace:function(b,c,g,j){return{collision:{x:!1,y:!1,slope:!1},pos:{x:b+g,y:c+j},tile:{x:0,y:0}}}}});ig.baked=!0;
ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:!1,tilesetName:"",foreground:!1,enabled:!0,preRender:!1,preRenderedChunks:null,chunkSize:512,debugChunks:!1,anims:{},init:function(b,c,d){this.parent(b,c);this.setTileset(d)},setTileset:function(b){this.tilesetName=b instanceof ig.Image?b.path:b;this.tiles=new ig.Image(this.tilesetName);this.preRenderedChunks=null},setScreenPos:function(b,
c){this.scroll.x=b/this.distance;this.scroll.y=c/this.distance},preRenderMapToChunks:function(){var b=this.width*this.tilesize*ig.system.scale,c=this.height*this.tilesize*ig.system.scale,d=Math.ceil(b/this.chunkSize),e=Math.ceil(c/this.chunkSize);this.preRenderedChunks=[];for(var g=0;g<e;g++){this.preRenderedChunks[g]=[];for(var j=0;j<d;j++)this.preRenderedChunks[g][j]=this.preRenderChunk(j,g,j==d-1?b-j*this.chunkSize:this.chunkSize,g==e-1?c-g*this.chunkSize:this.chunkSize)}},preRenderChunk:function(b,
c,d,e){var g=d/this.tilesize/ig.system.scale+1,j=e/this.tilesize/ig.system.scale+1,n=b*this.chunkSize/ig.system.scale%this.tilesize,p=c*this.chunkSize/ig.system.scale%this.tilesize;b=Math.floor(b*this.chunkSize/this.tilesize/ig.system.scale);c=Math.floor(c*this.chunkSize/this.tilesize/ig.system.scale);var m=ig.$new("canvas");m.width=d;m.height=e;d=ig.system.context;ig.system.context=m.getContext("2d");for(e=0;e<g;e++)for(var s=0;s<j;s++)if(e+b<this.width&&s+c<this.height){var u=this.data[s+c][e+b];
u&&this.tiles.drawTile(e*this.tilesize-n,s*this.tilesize-p,u-1,this.tilesize)}ig.system.context=d;return m},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.drawPreRendered():this.drawTiled())},drawPreRendered:function(){this.preRenderedChunks||this.preRenderMapToChunks();var b=ig.system.getDrawPos(this.scroll.x),c=ig.system.getDrawPos(this.scroll.y);this.repeat&&(b%=this.width*this.tilesize*ig.system.scale,c%=this.height*this.tilesize*ig.system.scale);var d=Math.max(Math.floor(b/
this.chunkSize),0),e=Math.max(Math.floor(c/this.chunkSize),0),g=Math.ceil((b+ig.system.realWidth)/this.chunkSize),j=Math.ceil((c+ig.system.realHeight)/this.chunkSize),n=this.preRenderedChunks[0].length,p=this.preRenderedChunks.length;this.repeat||(g=Math.min(g,n),j=Math.min(j,p));for(var m=0;e<j;e++){for(var s=0,u=d;u<g;u++){var l=this.preRenderedChunks[e%p][u%n],r=-b+u*this.chunkSize-s,x=-c+e*this.chunkSize-m;ig.system.context.drawImage(l,r,x);ig.Image.drawCount++;this.debugChunks&&(ig.system.context.strokeStyle=
"#f0f",ig.system.context.strokeRect(r,x,this.chunkSize,this.chunkSize));this.repeat&&(l.width<this.chunkSize&&r+l.width<ig.system.realWidth)&&(s=this.chunkSize-l.width,g++)}this.repeat&&(l.height<this.chunkSize&&x+l.height<ig.system.realHeight)&&(m=this.chunkSize-l.height,j++)}},drawTiled:function(){for(var b=0,c=null,d=(this.scroll.x/this.tilesize).toInt(),e=(this.scroll.y/this.tilesize).toInt(),g=this.scroll.x%this.tilesize,j=this.scroll.y%this.tilesize,n=-g-this.tilesize,g=ig.system.width+this.tilesize-
g,p=ig.system.height+this.tilesize-j,m=-1,j=-j-this.tilesize;j<p;m++,j+=this.tilesize){var s=m+e;if(s>=this.height||0>s){if(!this.repeat)continue;s=0<s?s%this.height:(s+1)%this.height+this.height-1}for(var u=-1,l=n;l<g;u++,l+=this.tilesize){b=u+d;if(b>=this.width||0>b){if(!this.repeat)continue;b=0<b?b%this.width:(b+1)%this.width+this.width-1}if(b=this.data[s][b])(c=this.anims[b-1])?c.draw(l,j):this.tiles.drawTile(l,j,b-1,this.tilesize)}}}})});ig.baked=!0;
ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:!1,staticInstantiate:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;
ig.game=this;return null},loadLevelWithoutEntities:function(b){this.screen={x:0,y:0};this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(var c=0;c<b.layer.length;c++){var d=b.layer[c];if("collision"==d.name)this.collisionMap=new ig.CollisionMap(d.tilesize,d.data);else{var e=new ig.BackgroundMap(d.tilesize,d.data,d.tilesetName);e.anims=this.backgroundAnims[d.tilesetName]||{};e.repeat=d.repeat;e.distance=d.distance;e.foreground=!!d.foreground;e.preRender=!!d.preRender;e.name=
d.name;this.backgroundMaps.push(e)}}},loadLevel:function(b){this.screen={x:0,y:0};this.entities=[];this.namedEntities={};for(var c=0;c<b.entities.length;c++){var d=b.entities[c];this.spawnEntity(d.type,d.x,d.y,d.settings)}this.sortEntities();this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(c=0;c<b.layer.length;c++)if(d=b.layer[c],"collision"==d.name)this.collisionMap=new ig.CollisionMap(d.tilesize,d.data);else{var e=new ig.BackgroundMap(d.tilesize,d.data,d.tilesetName);
e.anims=this.backgroundAnims[d.tilesetName]||{};e.repeat=d.repeat;e.distance=d.distance;e.foreground=!!d.foreground;e.preRender=!!d.preRender;e.name=d.name;this.backgroundMaps.push(e)}for(c=0;c<this.entities.length;c++)this.entities[c].ready()},loadLevelDeferred:function(b){this._levelToLoad=b},getMapByName:function(b){if("collision"==b)return this.collisionMap;for(var c=0;c<this.backgroundMaps.length;c++)if(this.backgroundMaps[c].name==b)return this.backgroundMaps[c];return null},getEntityByName:function(b){return this.namedEntities[b]},
getEntitiesByType:function(b){b="string"===typeof b?ig.global[b]:b;for(var c=[],d=0;d<this.entities.length;d++){var e=this.entities[d];e instanceof b&&!e._killed&&c.push(e)}return c},spawnEntity:function(b,c,d,e){var g="string"===typeof b?ig.global[b]:b;if(!g)throw"Can't spawn entity of type "+b;b=new g(c,d,e||{});this.entities.push(b);b.name&&(this.namedEntities[b.name]=b);return b},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=!0},
removeEntity:function(b){b.name&&delete this.namedEntities[b.name];b._killed=!0;b.type=ig.Entity.TYPE.NONE;b.checkAgainst=ig.Entity.TYPE.NONE;b.collides=ig.Entity.COLLIDES.NEVER;this._deferredKill.push(b)},run:function(){this.update();this.draw()},update:function(){this._levelToLoad&&(this.loadLevel(this._levelToLoad),this._levelToLoad=null);if(this._doSortEntities||this.autoSort)this.sortEntities(),this._doSortEntities=!1;this.updateEntities();this.checkEntities();for(var b=0;b<this._deferredKill.length;b++)this.entities.erase(this._deferredKill[b]);
this._deferredKill=[];for(var c in this.backgroundAnims){var b=this.backgroundAnims[c],d;for(d in b)b[d].update()}},updateEntities:function(){for(var b=0;b<this.entities.length;b++){var c=this.entities[b];c._killed||c.update()}},draw:function(){this.clearColor&&ig.system.clear(this.clearColor);this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale;this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var b;for(b=0;b<this.backgroundMaps.length;b++){var c=this.backgroundMaps[b];
if(c.foreground)break;c.setScreenPos(this.screen.x,this.screen.y);c.draw()}this.drawEntities();for(b;b<this.backgroundMaps.length;b++)c=this.backgroundMaps[b],c.setScreenPos(this.screen.x,this.screen.y),c.draw()},drawEntities:function(){for(var b=0;b<this.entities.length;b++)this.entities[b].draw()},checkEntities:function(){for(var b={},c=0;c<this.entities.length;c++){var d=this.entities[c];if(!(d.type==ig.Entity.TYPE.NONE&&d.checkAgainst==ig.Entity.TYPE.NONE&&d.collides==ig.Entity.COLLIDES.NEVER))for(var e=
{},g=Math.floor(d.pos.y/this.cellSize),j=Math.floor((d.pos.x+d.size.x)/this.cellSize)+1,n=Math.floor((d.pos.y+d.size.y)/this.cellSize)+1,p=Math.floor(d.pos.x/this.cellSize);p<j;p++)for(var m=g;m<n;m++)if(b[p])if(b[p][m]){for(var s=b[p][m],u=0;u<s.length;u++)d.touches(s[u])&&!e[s[u].id]&&(e[s[u].id]=!0,ig.Entity.checkPair(d,s[u]));s.push(d)}else b[p][m]=[d];else b[p]={},b[p][m]=[d]}}});ig.Game.SORT={Z_INDEX:function(b,c){return b.zIndex-c.zIndex},POS_X:function(b,c){return b.pos.x+b.size.x-(c.pos.x+
c.size.x)},POS_Y:function(b,c){return b.pos.y+b.size.y-(c.pos.y+c.size.y)}}});ig.baked=!0;
ig.module("impact.debug.menu").requires("dom.ready","impact.system").defines(function(){ig.System.inject({run:function(){ig.debug.beforeRun();this.parent();ig.debug.afterRun()},setGameNow:function(b){this.parent(b);ig.debug.ready()}});ig.Debug=ig.Class.extend({options:{},panels:{},numbers:{},container:null,panelMenu:null,activePanel:null,debugTime:0,debugTickAvg:0.016,debugRealTime:Date.now(),init:function(){this.container=ig.$new("div");this.container.className="ig_debug";ig.$("body")[0].appendChild(this.container);
this.panelMenu=ig.$new("div");this.panelMenu.innerHTML='<div class="ig_debug_head">Impact.Debug:</div>';this.panelMenu.className="ig_debug_panel_menu";this.container.appendChild(this.panelMenu);this.numberContainer=ig.$new("div");this.numberContainer.className="ig_debug_stats";this.panelMenu.appendChild(this.numberContainer);window.console&&(window.console.log&&window.console.assert)&&(ig.log=console.log.bind?console.log.bind(console):console.log,ig.assert=console.assert.bind?console.assert.bind(console):
console.assert);ig.show=this.showNumber.bind(this)},addNumber:function(b){var c=ig.$new("span");this.numberContainer.appendChild(c);this.numberContainer.appendChild(document.createTextNode(b));this.numbers[b]=c},showNumber:function(b,c,d){this.numbers[b]||this.addNumber(b,d);this.numbers[b].textContent=c},addPanel:function(b){var c=new b.type(b.name,b.label);if(b.options)for(var d=0;d<b.options.length;d++){var e=b.options[d];c.addOption(new ig.DebugOption(e.name,e.object,e.property))}this.panels[c.name]=
c;c.container.style.display="none";this.container.appendChild(c.container);b=ig.$new("div");b.className="ig_debug_menu_item";b.textContent=c.label;b.addEventListener("click",function(){this.togglePanel(c)}.bind(this),!1);c.menuItem=b;e=!1;for(d=1;d<this.panelMenu.childNodes.length;d++){var g=this.panelMenu.childNodes[d];if(g.textContent>c.label){this.panelMenu.insertBefore(b,g);e=!0;break}}e||this.panelMenu.appendChild(b)},showPanel:function(b){this.togglePanel(this.panels[b])},togglePanel:function(b){b!=
this.activePanel&&this.activePanel&&(this.activePanel.toggle(!1),this.activePanel.menuItem.className="ig_debug_menu_item",this.activePanel=null);var c="block"!=b.container.style.display;b.toggle(c);b.menuItem.className="ig_debug_menu_item"+(c?" active":"");c&&(this.activePanel=b)},ready:function(){for(var b in this.panels)this.panels[b].ready()},beforeRun:function(){var b=Date.now();this.debugTickAvg=0.8*this.debugTickAvg+0.2*(b-this.debugRealTime);this.debugRealTime=b;this.activePanel&&this.activePanel.beforeRun()},
afterRun:function(){var b=Date.now()-this.debugRealTime;this.debugTime=0.8*this.debugTime+0.2*b;this.activePanel&&this.activePanel.afterRun();this.showNumber("ms",this.debugTime.toFixed(2));this.showNumber("fps",Math.round(1E3/this.debugTickAvg));this.showNumber("draws",ig.Image.drawCount);ig.game&&ig.game.entities&&this.showNumber("entities",ig.game.entities.length);ig.Image.drawCount=0}});ig.DebugPanel=ig.Class.extend({active:!1,container:null,options:[],panels:[],label:"",name:"",init:function(b,
c){this.name=b;this.label=c;this.container=ig.$new("div");this.container.className="ig_debug_panel "+this.name},toggle:function(b){this.active=b;this.container.style.display=b?"block":"none"},addPanel:function(b){this.panels.push(b);this.container.appendChild(b.container)},addOption:function(b){this.options.push(b);this.container.appendChild(b.container)},ready:function(){},beforeRun:function(){},afterRun:function(){}});ig.DebugOption=ig.Class.extend({name:"",labelName:"",className:"ig_debug_option",
label:null,mark:null,container:null,active:!1,colors:{enabled:"#fff",disabled:"#444"},init:function(b,c,d){this.name=b;this.object=c;this.property=d;this.active=this.object[this.property];this.container=ig.$new("div");this.container.className="ig_debug_option";this.label=ig.$new("span");this.label.className="ig_debug_label";this.label.textContent=this.name;this.mark=ig.$new("span");this.mark.className="ig_debug_label_mark";this.container.appendChild(this.mark);this.container.appendChild(this.label);
this.container.addEventListener("click",this.click.bind(this),!1);this.setLabel()},setLabel:function(){this.mark.style.backgroundColor=this.active?this.colors.enabled:this.colors.disabled},click:function(b){this.active=!this.active;this.object[this.property]=this.active;this.setLabel();b.stopPropagation();b.preventDefault();return!1}});ig.debug=new ig.Debug});ig.baked=!0;
ig.module("impact.debug.entities-panel").requires("impact.debug.menu","impact.entity").defines(function(){ig.Entity.inject({colors:{names:"#fff",velocities:"#0f0",boxes:"#f00"},draw:function(){this.parent();ig.Entity._debugShowBoxes&&(ig.system.context.strokeStyle=this.colors.boxes,ig.system.context.lineWidth=1,ig.system.context.strokeRect(ig.system.getDrawPos(this.pos.x.round()-ig.game.screen.x)-0.5,ig.system.getDrawPos(this.pos.y.round()-ig.game.screen.y)-0.5,this.size.x*ig.system.scale,this.size.y*
ig.system.scale));if(ig.Entity._debugShowVelocities){var b=this.pos.x+this.size.x/2,c=this.pos.y+this.size.y/2;this._debugDrawLine(this.colors.velocities,b,c,b+this.vel.x,c+this.vel.y)}if(ig.Entity._debugShowNames&&(this.name&&(ig.system.context.fillStyle=this.colors.names,ig.system.context.fillText(this.name,ig.system.getDrawPos(this.pos.x-ig.game.screen.x),ig.system.getDrawPos(this.pos.y-ig.game.screen.y))),"object"==typeof this.target))for(var d in this.target)(b=ig.game.getEntityByName(this.target[d]))&&
this._debugDrawLine(this.colors.names,this.pos.x+this.size.x/2,this.pos.y+this.size.y/2,b.pos.x+b.size.x/2,b.pos.y+b.size.y/2)},_debugDrawLine:function(b,c,d,e,g){ig.system.context.strokeStyle=b;ig.system.context.lineWidth=1;ig.system.context.beginPath();ig.system.context.moveTo(ig.system.getDrawPos(c-ig.game.screen.x),ig.system.getDrawPos(d-ig.game.screen.y));ig.system.context.lineTo(ig.system.getDrawPos(e-ig.game.screen.x),ig.system.getDrawPos(g-ig.game.screen.y));ig.system.context.stroke();ig.system.context.closePath()}});
ig.Entity._debugEnableChecks=!0;ig.Entity._debugShowBoxes=!1;ig.Entity._debugShowVelocities=!1;ig.Entity._debugShowNames=!1;ig.Entity.oldCheckPair=ig.Entity.checkPair;ig.Entity.checkPair=function(b,c){ig.Entity._debugEnableChecks&&ig.Entity.oldCheckPair(b,c)};ig.debug.addPanel({type:ig.DebugPanel,name:"entities",label:"Entities",options:[{name:"Checks & Collisions",object:ig.Entity,property:"_debugEnableChecks"},{name:"Show Collision Boxes",object:ig.Entity,property:"_debugShowBoxes"},{name:"Show Velocities",
object:ig.Entity,property:"_debugShowVelocities"},{name:"Show Names & Targets",object:ig.Entity,property:"_debugShowNames"}]})});ig.baked=!0;
ig.module("impact.debug.maps-panel").requires("impact.debug.menu","impact.game","impact.background-map").defines(function(){ig.Game.inject({loadLevel:function(b){this.parent(b);ig.debug.panels.maps.load(this)}});ig.DebugMapsPanel=ig.DebugPanel.extend({maps:[],mapScreens:[],init:function(b,c){this.parent(b,c);this.load()},load:function(b){this.options=[];this.panels=[];if(!b||!b.backgroundMaps.length)this.container.innerHTML="<em>No Maps Loaded</em>";else{this.maps=b.backgroundMaps;this.mapScreens=
[];this.container.innerHTML="";for(b=0;b<this.maps.length;b++){var c=this.maps[b],d=new ig.DebugPanel(b,"Layer "+b),e=new ig.$new("strong");e.textContent=b+": "+c.tiles.path;d.container.appendChild(e);d.addOption(new ig.DebugOption("Enabled",c,"enabled"));d.addOption(new ig.DebugOption("Pre Rendered",c,"preRender"));d.addOption(new ig.DebugOption("Show Chunks",c,"debugChunks"));this.generateMiniMap(d,c,b);this.addPanel(d)}}},generateMiniMap:function(b,c,d){var e=ig.system.scale,g=ig.$new("canvas"),
j=g.getContext("2d"),n=c.tiles.width*e,p=c.tiles.height*e,m=n/c.tilesize;j.drawImage(c.tiles.data,0,0,n,p,0,0,m,p/c.tilesize);j=ig.$new("canvas");j.width=c.width*e;j.height=c.height*e;var s=j.getContext("2d");ig.game.clearColor&&(s.fillStyle=ig.game.clearColor,s.fillRect(0,0,n,p));for(p=n=0;p<c.width;p++)for(var u=0;u<c.height;u++)(n=c.data[u][p])&&s.drawImage(g,Math.floor((n-1)*e%m),Math.floor((n-1)*e/m)*e,e,e,p*e,u*e,e,e);g=ig.$new("div");g.className="ig_debug_map_container";g.style.width=c.width*
e+"px";g.style.height=c.height*e+"px";m=ig.$new("div");m.className="ig_debug_map_screen";m.style.width=ig.system.width/c.tilesize*e-2+"px";m.style.height=ig.system.height/c.tilesize*e-2+"px";this.mapScreens[d]=m;g.appendChild(j);g.appendChild(m);b.container.appendChild(g)},afterRun:function(){for(var b=ig.system.scale,c=0;c<this.maps.length;c++){var d=this.maps[c],e=this.mapScreens[c];if(d&&e){var g=d.scroll.x/d.tilesize,j=d.scroll.y/d.tilesize;d.repeat&&(g%=d.width,j%=d.height);e.style.left=g*b+
"px";e.style.top=j*b+"px"}}}});ig.debug.addPanel({type:ig.DebugMapsPanel,name:"maps",label:"Background Maps"})});ig.baked=!0;
ig.module("impact.debug.graph-panel").requires("impact.debug.menu","impact.system","impact.game","impact.image").defines(function(){ig.Game.inject({draw:function(){ig.graph.beginClock("draw");this.parent();ig.graph.endClock("draw")},update:function(){ig.graph.beginClock("update");this.parent();ig.graph.endClock("update")},checkEntities:function(){ig.graph.beginClock("checks");this.parent();ig.graph.endClock("checks")}});ig.DebugGraphPanel=ig.DebugPanel.extend({clocks:{},marks:[],textY:0,height:128,
ms:64,timeBeforeRun:0,init:function(b,c){this.parent(b,c);this.mark16ms=(this.height-16*(this.height/this.ms)).round();this.mark33ms=(this.height-33*(this.height/this.ms)).round();this.msHeight=this.height/this.ms;this.graph=ig.$new("canvas");this.graph.width=window.innerWidth;this.graph.height=this.height;this.container.appendChild(this.graph);this.ctx=this.graph.getContext("2d");this.ctx.fillStyle="#444";this.ctx.fillRect(0,this.mark16ms,this.graph.width,1);this.ctx.fillRect(0,this.mark33ms,this.graph.width,
1);this.addGraphMark("16ms",this.mark16ms);this.addGraphMark("33ms",this.mark33ms);this.addClock("draw","Draw","#13baff");this.addClock("update","Entity Update","#bb0fff");this.addClock("checks","Entity Checks & Collisions","#a2e908");this.addClock("lag","System Lag","#f26900");ig.mark=this.mark.bind(this);ig.graph=this},addGraphMark:function(b,c){var d=ig.$new("span");d.className="ig_debug_graph_mark";d.textContent=b;d.style.top=c.round()+"px";this.container.appendChild(d)},addClock:function(b,c,
d){var e=ig.$new("span");e.className="ig_debug_legend_color";e.style.backgroundColor=d;var g=ig.$new("span");g.className="ig_debug_legend_number";g.appendChild(document.createTextNode("0"));var j=ig.$new("span");j.className="ig_debug_legend";j.appendChild(e);j.appendChild(document.createTextNode(c+" ("));j.appendChild(g);j.appendChild(document.createTextNode("ms)"));this.container.appendChild(j);this.clocks[b]={description:c,color:d,current:0,start:Date.now(),avg:0,html:g}},beginClock:function(b,
c){this.clocks[b].start=Date.now()+(c||0)},endClock:function(b){b=this.clocks[b];b.current=Math.round(Date.now()-b.start);b.avg=0.8*b.avg+0.2*b.current},mark:function(b,c){this.active&&this.marks.push({msg:b,color:c||"#fff"})},beforeRun:function(){this.endClock("lag");this.timeBeforeRun=Date.now()},afterRun:function(){var b=Date.now()-this.timeBeforeRun;this.beginClock("lag",Math.max(1E3/ig.system.fps-b,0));var b=this.graph.width-1,c=this.height;this.ctx.drawImage(this.graph,-1,0);this.ctx.fillStyle=
"#000";this.ctx.fillRect(b,0,1,this.height);this.ctx.fillStyle="#444";this.ctx.fillRect(b,this.mark16ms,1,1);this.ctx.fillStyle="#444";this.ctx.fillRect(b,this.mark33ms,1,1);for(var d in this.clocks){var e=this.clocks[d];e.html.textContent=e.avg.toFixed(2);if(e.color&&0<e.current){this.ctx.fillStyle=e.color;var g=e.current*this.msHeight,c=c-g;this.ctx.fillRect(b,c,1,g);e.current=0}}this.ctx.textAlign="right";this.ctx.textBaseline="top";this.ctx.globalAlpha=0.5;for(d=0;d<this.marks.length;d++)c=this.marks[d],
this.ctx.fillStyle=c.color,this.ctx.fillRect(b,0,1,this.height),c.msg&&(this.ctx.fillText(c.msg,b-1,this.textY),this.textY=(this.textY+8)%32);this.ctx.globalAlpha=1;this.marks=[]}});ig.debug.addPanel({type:ig.DebugGraphPanel,name:"graph",label:"Performance"})});ig.baked=!0;ig.module("impact.debug.debug").requires("impact.debug.entities-panel","impact.debug.maps-panel","impact.debug.graph-panel").defines(function(){});ig.baked=!0;
ig.module("plugins.splash-loader").requires("impact.loader","impact.animation").defines(function(){ig.SplashLoader=ig.Loader.extend({splashDesktop:new ig.Image("media/graphics/splash/desktop/cover.jpg"),splashMobile:new ig.Image("media/graphics/splash/mobile/cover.jpg"),loadingBar:new ig.Image("media/graphics/splash/shared/loading.png"),loadingBg:new ig.Image("media/graphics/splash/shared/loading_bg.png"),init:function(b,c){this.parent(b,c);ig.ua.mobile&&_SETTINGS.Ad.Mobile.Preroll.Enabled&&MobileAdInGamePreroll.Initialize()},
end:function(){this.parent();var b=0<=document.URL.indexOf("localhost")?500:3E3;window.setTimeout("ig.system.setGame(MyGame)",b)},setupCustomAnimation:function(){this.customAnim=new ig.Animation(this.customAnim,0.05,[0,1,2,3,4,5]);this.customAnim.currentFrame=0;ig.loadingScreen=this;ig.loadingScreen.animationTimer=window.setInterval("ig.loadingScreen.animate()",100)},animate:function(){this.customAnim.currentFrame<this.customAnim.sequence.length?this.customAnim.currentFrame++:this.customAnim.currentFrame=
0;this.customAnim.gotoFrame(this.customAnim.currentFrame)},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;ig.system.context.fillStyle="#000";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);var b=ig.system.scale,c,d,e,g;ig.ua.mobile?(c=452,d=63,e=0.5*ig.system.width-c/2,g=ig.system.height-d-21,this.splashMobile.draw(0,0)):(c=452,d=63,e=0.5*ig.system.width-c/2,g=ig.system.height-d-19,this.splashDesktop.draw(0,0));this.loadingBg.draw(e*b,g*b,0,0,c,d);this.loadingBar.draw(e*
b,g*b,0,0,c*b*this._drawStatus,d*b)}})});ig.baked=!0;
ig.module("plugins.tween").requires("impact.entity").defines(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(b){for(var c=0;c<this.length;++c)if(this[c]===b)return c;return-1});ig.Entity.prototype.tweens=[];ig.Entity.prototype._preTweenUpdate=ig.Entity.prototype.update;ig.Entity.prototype.update=function(){this._preTweenUpdate();if(0<this.tweens.length){for(var b=[],c=0;c<this.tweens.length;c++)this.tweens[c].update(),this.tweens[c].complete||b.push(this.tweens[c]);this.tweens=
b}};ig.Entity.prototype.tween=function(b,c,d){b=new ig.Tween(this,b,c,d);this.tweens.push(b);return b};ig.Entity.prototype.pauseTweens=function(){for(var b=0;b<this.tweens.length;b++)this.tweens[b].pause()};ig.Entity.prototype.resumeTweens=function(){for(var b=0;b<this.tweens.length;b++)this.tweens[b].resume()};ig.Entity.prototype.stopTweens=function(b){for(var c=0;c<this.tweens.length;c++)this.tweens[c].stop(b)};ig.Tween=function(b,c,d,e){var g={},j={},n={},p=0,m=!1,s=!1,u=!1;this.duration=d;this.paused=
this.complete=!1;this.easing=ig.Tween.Easing.Linear.EaseNone;this.onComplete=!1;this.loop=this.delay=0;this.loopCount=-1;ig.merge(this,e);this.loopNum=this.loopCount;this.chain=function(b){u=b};this.initEnd=function(b,c,d){if("object"!==typeof c[b])d[b]=c[b];else for(subprop in c[b])d[b]||(d[b]={}),this.initEnd(subprop,c[b],d[b])};this.initStart=function(b,c,d,e){if("object"!==typeof d[b])"undefined"!==typeof c[b]&&(e[b]=d[b]);else for(subprop in d[b])e[b]||(e[b]={}),"undefined"!==typeof c[b]&&this.initStart(subprop,
c[b],d[b],e[b])};this.start=function(){this.paused=this.complete=!1;this.loopNum=this.loopCount;p=0;-1==b.tweens.indexOf(this)&&b.tweens.push(this);s=!0;m=new ig.Timer;for(var d in c)this.initEnd(d,c,j);for(d in j)this.initStart(d,j,b,g),this.initDelta(d,n,b,j)};this.initDelta=function(b,c,d,e){if("object"!==typeof e[b])c[b]=e[b]-d[b];else for(subprop in e[b])c[b]||(c[b]={}),this.initDelta(subprop,c[b],d[b],e[b])};this.propUpdate=function(b,c,d,e,g){if("object"!==typeof d[b])c[b]="undefined"!=typeof d[b]?
d[b]+e[b]*g:c[b];else for(subprop in d[b])this.propUpdate(subprop,c[b],d[b],e[b],g)};this.propSet=function(b,c,d){if("object"!==typeof c[b])d[b]=c[b];else for(subprop in c[b])d[b]||(d[b]={}),this.propSet(subprop,c[b],d[b])};this.update=function(){if(!s)return!1;if(this.delay){if(m.delta()<this.delay)return;this.delay=0;m.reset()}if(this.paused||this.complete)return!1;var c=(m.delta()+p)/this.duration,c=1<c?1:c,d=this.easing(c);for(property in n)this.propUpdate(property,b,g,n,d);if(1<=c){if(0==this.loopNum||
!this.loop){this.complete=!0;if(this.onComplete)this.onComplete();u&&u.start();return!1}if(this.loop==ig.Tween.Loop.Revert){for(property in g)this.propSet(property,g,b);p=0;m.reset();-1!=this.loopNum&&this.loopNum--}else if(this.loop==ig.Tween.Loop.Reverse){c={};d={};ig.merge(c,j);ig.merge(d,g);ig.merge(g,c);ig.merge(j,d);for(property in j)this.initDelta(property,n,b,j);p=0;m.reset();-1!=this.loopNum&&this.loopNum--}}};this.pause=function(){this.paused=!0;p+=m.delta()};this.resume=function(){this.paused=
!1;m.reset()};this.stop=function(b){b&&(this.loop=this.complete=this.paused=!1,p+=d,this.update());this.complete=!0}};ig.Tween.Loop={Revert:1,Reverse:2};ig.Tween.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};ig.Tween.Easing.Linear.EaseNone=function(b){return b};ig.Tween.Easing.Quadratic.EaseIn=function(b){return b*b};ig.Tween.Easing.Quadratic.EaseOut=function(b){return-b*(b-2)};ig.Tween.Easing.Quadratic.EaseInOut=
function(b){return 1>(b*=2)?0.5*b*b:-0.5*(--b*(b-2)-1)};ig.Tween.Easing.Cubic.EaseIn=function(b){return b*b*b};ig.Tween.Easing.Cubic.EaseOut=function(b){return--b*b*b+1};ig.Tween.Easing.Cubic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b:0.5*((b-=2)*b*b+2)};ig.Tween.Easing.Quartic.EaseIn=function(b){return b*b*b*b};ig.Tween.Easing.Quartic.EaseOut=function(b){return-(--b*b*b*b-1)};ig.Tween.Easing.Quartic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b*b:-0.5*((b-=2)*b*b*b-2)};ig.Tween.Easing.Quintic.EaseIn=
function(b){return b*b*b*b*b};ig.Tween.Easing.Quintic.EaseOut=function(b){return(b-=1)*b*b*b*b+1};ig.Tween.Easing.Quintic.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*b*b*b:0.5*((b-=2)*b*b*b*b+2)};ig.Tween.Easing.Sinusoidal.EaseIn=function(b){return-Math.cos(b*Math.PI/2)+1};ig.Tween.Easing.Sinusoidal.EaseOut=function(b){return Math.sin(b*Math.PI/2)};ig.Tween.Easing.Sinusoidal.EaseInOut=function(b){return-0.5*(Math.cos(Math.PI*b)-1)};ig.Tween.Easing.Exponential.EaseIn=function(b){return 0==b?0:Math.pow(2,
10*(b-1))};ig.Tween.Easing.Exponential.EaseOut=function(b){return 1==b?1:-Math.pow(2,-10*b)+1};ig.Tween.Easing.Exponential.EaseInOut=function(b){return 0==b?0:1==b?1:1>(b*=2)?0.5*Math.pow(2,10*(b-1)):0.5*(-Math.pow(2,-10*(b-1))+2)};ig.Tween.Easing.Circular.EaseIn=function(b){return-(Math.sqrt(1-b*b)-1)};ig.Tween.Easing.Circular.EaseOut=function(b){return Math.sqrt(1- --b*b)};ig.Tween.Easing.Circular.EaseInOut=function(b){return 1>(b/=0.5)?-0.5*(Math.sqrt(1-b*b)-1):0.5*(Math.sqrt(1-(b-=2)*b)+1)};ig.Tween.Easing.Elastic.EaseIn=
function(b){var c,d=0.1,e=0.4;if(0==b)return 0;if(1==b)return 1;e||(e=0.3);!d||1>d?(d=1,c=e/4):c=e/(2*Math.PI)*Math.asin(1/d);return-(d*Math.pow(2,10*(b-=1))*Math.sin((b-c)*2*Math.PI/e))};ig.Tween.Easing.Elastic.EaseOut=function(b){var c,d=0.1,e=0.4;if(0==b)return 0;if(1==b)return 1;e||(e=0.3);!d||1>d?(d=1,c=e/4):c=e/(2*Math.PI)*Math.asin(1/d);return d*Math.pow(2,-10*b)*Math.sin((b-c)*2*Math.PI/e)+1};ig.Tween.Easing.Elastic.EaseInOut=function(b){var c,d=0.1,e=0.4;if(0==b)return 0;if(1==b)return 1;
e||(e=0.3);!d||1>d?(d=1,c=e/4):c=e/(2*Math.PI)*Math.asin(1/d);return 1>(b*=2)?-0.5*d*Math.pow(2,10*(b-=1))*Math.sin((b-c)*2*Math.PI/e):0.5*d*Math.pow(2,-10*(b-=1))*Math.sin((b-c)*2*Math.PI/e)+1};ig.Tween.Easing.Back.EaseIn=function(b){return b*b*(2.70158*b-1.70158)};ig.Tween.Easing.Back.EaseOut=function(b){return(b-=1)*b*(2.70158*b+1.70158)+1};ig.Tween.Easing.Back.EaseInOut=function(b){return 1>(b*=2)?0.5*b*b*(3.5949095*b-2.5949095):0.5*((b-=2)*b*(3.5949095*b+2.5949095)+2)};ig.Tween.Easing.Bounce.EaseIn=
function(b){return 1-ig.Tween.Easing.Bounce.EaseOut(1-b)};ig.Tween.Easing.Bounce.EaseOut=function(b){return(b/=1)<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375};ig.Tween.Easing.Bounce.EaseInOut=function(b){return 0.5>b?0.5*ig.Tween.Easing.Bounce.EaseIn(2*b):0.5*ig.Tween.Easing.Bounce.EaseOut(2*b-1)+0.5}});ig.baked=!0;
ig.module("plugins.url-parameters").defines(function(){ig.UrlParameters=ig.Class.extend({init:function(){switch(getQueryVariable("iphone")){case "true":ig.ua.iPhone=!0,console.log("iPhone mode")}var b=getQueryVariable("webview");if(b)switch(b){case "true":ig.ua.is_uiwebview=!0,console.log("webview mode")}if(b=getQueryVariable("debug"))switch(b){case "true":ig.game.showDebugMenu(),console.log("debug mode")}switch(getQueryVariable("view")){case "stats":ig.game.resetPlayerStats(),ig.game.endGame()}getQueryVariable("ad")}})});
ig.baked=!0;ig.module("plugins.jukebox").defines(function(){ig.Jukebox=ig.Class.extend({init:function(){this.player=new jukebox.Player({resources:["media/audio/game/bgm-m.mp3","media/audio/game/bgm-m.ogg"],autoplay:"music",spritemap:{music:{start:0,end:30.541,loop:!0}}})}})});ig.baked=!0;
ig.module("plugins.director").requires("impact.impact").defines(function(){ig.Director=ig.Class.extend({init:function(b,c){this.game=b;this.levels=[];this.currentLevel=0;this.append(c)},loadLevel:function(b){for(key in dynamicClickableEntityDivs)ig.game.hideOverlay([key]);this.currentLevel=b;this.game.loadLevel(this.levels[b]);return!0},loadLevelWithoutEntities:function(b){this.currentLevel=b;this.game.loadLevelWithoutEntities(this.levels[b]);return!0},append:function(b){newLevels=[];return"object"===
typeof b?(b.constructor===[].constructor?newLevels=b:newLevels[0]=b,this.levels=this.levels.concat(newLevels),!0):!1},nextLevel:function(){return this.currentLevel+1<this.levels.length?this.loadLevel(this.currentLevel+1):!1},previousLevel:function(){return 0<=this.currentLevel-1?this.loadLevel(this.currentLevel-1):!1},jumpTo:function(b){var c=null;for(i=0;i<this.levels.length;i++)this.levels[i]==b&&(c=i);return 0<=c?this.loadLevel(c):!1},firstLevel:function(){return this.loadLevel(0)},lastLevel:function(){return this.loadLevel(this.levels.length-
1)},reloadLevel:function(){return this.loadLevel(this.currentLevel)}})});ig.baked=!0;
ig.module("plugins.impact-storage").requires("impact.game").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(b){return null!==this.get(b)},initUnset:function(b,c){null===this.get(b)&&this.set(b,c)},get:function(b){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(b))}catch(c){return window.localStorage.getItem(b)}},
getInt:function(b){return~~this.get(b)},getFloat:function(b){return parseFloat(this.get(b))},getBool:function(b){return!!this.get(b)},key:function(b){return this.isCapable()?window.localStorage.key(b):null},set:function(b,c){if(!this.isCapable())return null;try{window.localStorage.setItem(b,JSON.stringify(c))}catch(d){d==QUOTA_EXCEEDED_ERR&&console.log("localStorage quota exceeded")}},setHighest:function(b,c){c>this.getFloat(b)&&this.set(b,c)},remove:function(b){if(!this.isCapable())return null;window.localStorage.removeItem(b)},
clear:function(){if(!this.isCapable())return null;window.localStorage.clear()}})});this.START_BRANDING_SPLASH;ig.baked=!0;
ig.module("plugins.branding.splash").requires("impact.impact","impact.entity").defines(function(){ig.BrandingSplash=ig.Class.extend({init:function(){ig.game.spawnEntity(EntityBranding,0,0)}});EntityBranding=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},splashlogo:new ig.Image("branding/logo.png"),init:function(b,c,d){this.parent(b,c,d);this.pos.x=ig.system.width/2;this.pos.y=ig.system.height/2-ig.system.height;b=this.tween({pos:{y:ig.system.height/2}},0.5,{easing:ig.Tween.Easing.Linear.EaseNone});
c=this.tween({},2.5,{onComplete:function(){ig.game.director.loadLevel(ig.game.director.currentLevel)}});b.chain(c);b.start()},createClickableLayer:function(){console.log("Build clickable layer");this.checkClickableLayer("branding-splash",_SETTINGS.Branding.Logo.Link,!0)},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==b)return!0;return!1},checkClickableLayer:function(b,c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",
c)):this.createClickableOutboundLayer(b,c,"media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,e){var g=ig.$new("div");g.id=b;document.body.appendChild(g);$("#"+g.id).css("float","left");$("#"+g.id).css("position","absolute");if(ig.ua.mobile){var j=window.innerHeight/mobileHeight,n=window.innerWidth/mobileWidth;$("#"+g.id).css("left",this.pos.x*n);$("#"+g.id).css("top",this.pos.y*j);$("#"+g.id).css("width",this.size.x*n);$("#"+g.id).css("height",this.size.y*j)}else j=
w/2-destW/2,n=h/2-destH/2,console.log(j,n),$("#"+g.id).css("left",j+this.pos.x*multiplier),$("#"+g.id).css("top",n+this.pos.y*multiplier),$("#"+g.id).css("width",this.size.x*multiplier),$("#"+g.id).css("height",this.size.y*multiplier);e?$("#"+g.id).html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):$("#"+g.id).html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=this.size.x*
multiplier;dynamicClickableEntityDivs[b].height=this.size.y*multiplier;dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y},draw:function(){ig.system.context.fillStyle="#e1ebf1";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);this.splashlogo.draw(this.pos.x-this.splashlogo.width/2,this.pos.y-this.splashlogo.height/2);this.parent()}})});this.END_BRANDING_SPLASH;ig.baked=!0;
ig.module("game.entities.branding-logo-placeholder").requires("impact.entity").defines(function(){EntityBrandingLogoPlaceholder=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",init:function(b,c,d){this.parent(b,c,d);if(d)switch(console.log("settings found ... using that div layer name"),b=d.div_layer_name,console.log("settings.centralize:",d.centralize),d.centralize){case "true":console.log("centralize true");centralize=!0;break;case "false":console.log("centralize false");
centralize=!1;break;default:console.log("default ... centralize false"),centralize=!1}else b="branding-logo",centralize=!1;if("undefined"==typeof wm){if(_SETTINGS.Branding.Logo.Enabled)try{ig.game.spawnEntity(EntityBrandingLogo,this.pos.x,this.pos.y,{div_layer_name:b,centralize:centralize})}catch(e){console.log(e)}this.kill()}}})});this.START_BRANDING_LOGO;ig.baked=!0;
ig.module("game.entities.branding-logo").requires("impact.entity").defines(function(){EntityBrandingLogo=ig.Entity.extend({gravityFactor:0,logo:new ig.AnimationSheet("branding/logo.png",_SETTINGS.Branding.Logo.Width,_SETTINGS.Branding.Logo.Height),size:{x:141,y:20},zIndex:10001,init:function(b,c,d){this.parent(b,c,d);"undefined"==typeof wm&&(_SETTINGS.Branding.Logo.Enabled?(this.size.x=_SETTINGS.Branding.Logo.Width,this.size.y=_SETTINGS.Branding.Logo.Height,d&&d.centralize&&(this.pos.x=ig.system.width/
2-this.size.x/2,console.log("centralize true ... centering branded logo ..."))):this.kill());this.anims.idle=new ig.Animation(this.logo,0,[0],!0);this.currentAnim=this.anims.idle;d?(console.log("branding settings found ... using that div layer name"),b=d.div_layer_name):b="branding-logo";_SETTINGS.Branding.Logo.LinkEnabled&&(console.log("logo link enabled"),this.checkClickableLayer(b,_SETTINGS.Branding.Logo.Link,_SETTINGS.Branding.Logo.NewWindow));console.log("branding logo spawed ...")},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==
b)return!0;return!1},checkClickableLayer:function(b,c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,e){var g=ig.$new("div");g.id=b;document.body.appendChild(g);$("#"+g.id).css("float","left");$("#"+g.id).css("position","absolute");if(ig.ua.mobile){var j=window.innerHeight/mobileHeight,n=window.innerWidth/
mobileWidth;$("#"+g.id).css("left",this.pos.x*n);$("#"+g.id).css("top",this.pos.y*j);$("#"+g.id).css("width",this.size.x*n);$("#"+g.id).css("height",this.size.y*j)}else j=w/2-destW/2,n=h/2-destH/2,console.log(j,n),$("#"+g.id).css("left",j+this.pos.x*multiplier),$("#"+g.id).css("top",n+this.pos.y*multiplier),$("#"+g.id).css("width",this.size.x*multiplier),$("#"+g.id).css("height",this.size.y*multiplier);e?$("#"+g.id).html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+
d+"'></a>"):$("#"+g.id).html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=this.size.x*multiplier;dynamicClickableEntityDivs[b].height=this.size.y*multiplier;dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y}})});this.END_BRANDING_LOGO;ig.baked=!0;
ig.module("game.entities.button-more-games").requires("impact.entity").defines(function(){EntityButtonMoreGames=ig.Entity.extend({gravityFactor:0,animSheet:new ig.AnimationSheet("media/graphics/game/shared/home/button-moregames.png",148,68),size:{x:148,y:68},zIndex:900,shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},divLayerName:"more-games",init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.anims.idle=new ig.Animation(this.animSheet,1,[0]);this.currentAnim=this.anims.idle;this.shownPos.x=
b;this.shownPos.y=c;this.hiddenPos.x=-(this.size.x+2*this.offset.x);this.hiddenPos.y=c},ready:function(){setTimeout(this.spawnDiv(),5)},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut,entity:this,onComplete:this.showEnd}).start())},showEnd:function(){this.entity.spawnDiv()},hide:function(b){null!=b&&0>=b?(this.pos.x=
this.hiddenPos.x,this.pos.y=this.hiddenPos.y):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start(),ig.game.hideOverlay([this.divLayerName]),this.canSpawnDiv=!1)},spawnDiv:function(){if(!this.canSpawnDiv)if(this.canSpawnDiv=!0,_SETTINGS.MoreGames.Enabled){var b;this.divLayerName?b=this.divLayerName:this.divLayerName=b="more-games";this.checkClickableLayer(b,_SETTINGS.MoreGames.Link,_SETTINGS.MoreGames.NewWindow)}else this.kill()},
doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==b)return!0;return!1},checkClickableLayer:function(b,c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"media/graphics/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,e){var g=ig.$new("div");g.id=b;document.body.appendChild(g);$("#"+g.id).css("float","left");$("#"+g.id).css("position","absolute");
if(ig.ua.mobile){var j=window.innerHeight/mobileHeight,n=window.innerWidth/mobileWidth;$("#"+g.id).css("left",this.pos.x*n);$("#"+g.id).css("top",this.pos.y*j);$("#"+g.id).css("width",this.size.x*n);$("#"+g.id).css("height",this.size.y*j)}else j=document.getElementById("game").offsetLeft,n=document.getElementById("game").offsetTop,$("#"+g.id).css("left",j+this.pos.x*multiplier),$("#"+g.id).css("top",n+this.pos.y*multiplier),$("#"+g.id).css("width",this.size.x*multiplier),$("#"+g.id).css("height",
this.size.y*multiplier);e?$("#"+g.id).html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):$("#"+g.id).html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=this.size.x*multiplier;dynamicClickableEntityDivs[b].height=this.size.y*multiplier;dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y}})});ig.baked=!0;
ig.module("game.entities.opening-kitty").requires("impact.entity").defines(function(){EntityOpeningKitty=ig.Entity.extend({size:{x:48,y:48},kittyAnim:-1,kittyImage:new ig.Image("media/graphics/opening/kitty.png"),kittyTitleImage:new ig.Image("media/graphics/opening/kittytitle.png"),init:function(b,c,d){this.parent(b,c,d)},ready:function(){if(!ig.wm)if(_SETTINGS.DeveloperBranding.Splash.Enabled){this.initTimer=new ig.Timer(0.1);try{ig.game.kittyopeningSound.play()}catch(b){console.log(b)}}else ig.game.director.nextLevel(),
ig.system.context.globalAlpha=1,ig.game.playBackgroundMusic(),this.kill()},update:function(){this.parent();this.updateKittyOpening()},draw:function(){this.parent();ig.global.wm||(this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=-this.nextLevelTimer.delta()),this.drawKittyOpening())},updateKittyOpening:function(){this.initTimer&&0<this.initTimer.delta()&&(this.initTimer=null,this.kittyTimer=new ig.Timer(0.15));this.kittyTimer&&0<this.kittyTimer.delta()&&(7>this.kittyAnim?
(this.kittyAnim++,this.kittyTimer.reset()):(this.kittyTimer=null,this.nextLevelTimer=new ig.Timer(2)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.system.context.globalAlpha=1,ig.game.playBackgroundMusic())},drawKittyOpening:function(){var b=ig.system.context.createLinearGradient(0,0,0,ig.system.height);b.addColorStop(0,"#ffed94");b.addColorStop(1,"#ffcd85");ig.system.context.fillStyle=b;ig.system.context.fillRect(0,0,ig.system.width,
ig.system.height);this.kittyImage.drawTile(ig.system.width/2-this.kittyImage.width/8,ig.system.height/2-this.kittyImage.height/4,this.kittyAnim,218,325);this.kittyTitleImage.drawTile(ig.system.width/2-this.kittyTitleImage.width/2,ig.system.height/2+this.kittyImage.height/4+10,this.kittyAnim,380,37);ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.pointer").requires("impact.entity").defines(function(){EntityPointer=ig.Entity.extend({type:ig.Entity.TYPE.A,checkAgainst:ig.Entity.TYPE.B,isClicking:!1,selectedItem:null,firstClick:!1,isReleased:!1,hoveringItem:null,objectArray:[],ignorePause:!0,zIndex:2E4,firstClickObject:null,check:function(b){this.objectArray.push(b)},clickObject:function(b){this.firstClick&&!this.isReleased&&(b==this.firstClickObject?"function"==typeof b.clicking&&b.clicking():this.touches(this.firstClickObject)?
"function"==typeof this.firstClickObject.clicking&&this.firstClickObject.clicking():("function"==typeof this.firstClickObject.lostPointer&&this.firstClickObject.lostPointer(),this.firstClickObject=null,this.firstClick=!1));this.isClicking&&!this.firstClick&&("function"==typeof b.clicked&&b.clicked(),this.firstClick=!0,this.firstClickObject=b);this.isReleased&&("function"==typeof b.released&&b.released(),this.firstClickObject=null,this.firstClick=!1)},reset:function(){this.firstClickObject=null;this.firstClick=
!1},refreshPos:function(){if(ig.ua.mobile){var b=window.innerHeight/mobileHeight;this.pos.x=ig.input.mouse.x/(window.innerWidth/mobileWidth)-this.size.x/2+ig.game.screen.x;this.pos.y=ig.input.mouse.y/b-this.size.y/2}else this.pos.x=ig.input.mouse.x/multiplier-this.size.x/2+ig.game.screen.x,this.pos.y=ig.input.mouse.y/multiplier-this.size.y/2},update:function(){this.refreshPos();var b=null,c=-1;for(a=this.objectArray.length-1;-1<a;a--)this.objectArray[a].zIndex>c&&(c=this.objectArray[a].zIndex,b=this.objectArray[a]);
null!=b?(null!=this.hoveringItem&&"function"==typeof this.hoveringItem.idle&&this.hoveringItem!=b&&this.hoveringItem.idle(),this.hoveringItem=b,this.clickObject(b),this.objectArray=[]):(null!=this.hoveringItem&&"function"==typeof this.hoveringItem.idle&&(this.hoveringItem.idle(),this.hoveringItem=null),this.firstClick&&!this.isReleased&&null!=this.firstClickObject&&("function"==typeof this.firstClickObject.lostPointer&&this.firstClickObject.lostPointer(),this.firstClickObject=null,this.firstClick=
!1));this.isClicking=ig.input.pressed("click");this.isReleased=ig.input.released("click")}})});ig.baked=!0;ig.module("game.entities.pointer-selector").requires("game.entities.pointer").defines(function(){EntityPointerSelector=EntityPointer.extend({zIndex:2E4,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},init:function(b,c,d){this.parent(b,c,d)}})});ig.baked=!0;
ig.module("game.entities.select").requires("impact.entity").defines(function(){EntitySelect=ig.Entity.extend({type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,canSelect:!1,canSelectTimerDuration:0.35,zIndex:99999,isHovering:!1,isSelected:!1,init:function(b,c,d){this.parent(b,c,d);this.canSelectTimer=new ig.Timer(this.canSelectTimerDuration)},doesClickableLayerExist:function(b){for(k in dynamicClickableEntityDivs)if(k==b)return!0;return!1},checkClickableLayer:function(b,
c,d){"undefined"==typeof wm&&(this.doesClickableLayerExist(b)?(ig.game.showOverlay([b]),$("#"+b).find("[href]").attr("href",c)):this.createClickableOutboundLayer(b,c,"media/misc/invisible.png",d))},createClickableOutboundLayer:function(b,c,d,e){var g=ig.$new("div");g.id=b;document.body.appendChild(g);$("#"+g.id).css("float","left");$("#"+g.id).css("width",this.size.x*multiplier);$("#"+g.id).css("height",this.size.y*multiplier);$("#"+g.id).css("position","absolute");var j=w/2-destW/2,n=h/2-destH/2;
w==mobileWidth?($("#"+g.id).css("left",this.pos.x),$("#"+g.id).css("top",this.pos.y)):($("#"+g.id).css("left",j+this.pos.x*multiplier),$("#"+g.id).css("top",n+this.pos.y*multiplier));e?$("#"+g.id).html("<a target='_blank' href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>"):$("#"+g.id).html("<a href='"+c+"'><img style='width:100%;height:100%' src='"+d+"'></a>");dynamicClickableEntityDivs[b]={};dynamicClickableEntityDivs[b].width=$("#"+g.id).width();dynamicClickableEntityDivs[b].height=
$("#"+g.id).height();dynamicClickableEntityDivs[b].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[b].entity_pos_y=this.pos.y},hovered:function(){this.isHovering=!0;this.dehoverOthers()},dehoverOthers:function(){var b=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<b.length;i++)b[i]!=this&&(b[i].isHovering=!1)},deselectOthers:function(){var b=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<b.length;i++)b[i]!=this&&(b[i].isSelected=!1)},update:function(){this.parent();this.canSelectTimer&&0<
this.canSelectTimer.delta()&&(this.canSelect=!0,this.canSelectTimer=null)}})});ig.baked=!0;ig.module("game.levels.opening").requires("impact.image","game.entities.opening-kitty").defines(function(){LevelOpening={entities:[{type:"EntityOpeningKitty",x:448,y:168}],layer:[]}});ig.baked=!0;
ig.module("game.entities.charselect-selectbox").requires("impact.entity").defines(function(){EntityCharselectSelectbox=ig.Entity.extend({zIndex:850,type:ig.Entity.TYPE.B,animSheets:[new ig.AnimationSheet("media/graphics/game/shared/charselect/char0.png",209,209),new ig.AnimationSheet("media/graphics/game/shared/charselect/char1.png",209,209),new ig.AnimationSheet("media/graphics/game/shared/charselect/char2.png",209,209),new ig.AnimationSheet("media/graphics/game/shared/charselect/char3.png",209,
209),new ig.AnimationSheet("media/graphics/game/shared/charselect/char4.png",209,209)],size:{x:189,y:189},offset:{x:10,y:10},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,gridPlaceholder:null,chartype:-1,order:-1,gridPos:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=b;this.hiddenPos.y=ig.system.width+c},ready:function(){this.control=ig.game.getEntitiesByType(EntityHomeControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,
this.pos.y=this.shownPos.y):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){this.shownPos.x=this.pos.x;this.shownPos.y=this.pos.y;this.hiddenPos.x=this.pos.x;this.hiddenPos.y=ig.system.height+this.pos.y;null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},
b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())},clicked:function(){this.gridPlaceholder.clicked()},released:function(){if(this.gridPlaceholder&&this.gridPlaceholder.dragTimer&&1>this.gridPlaceholder.dragTimer.delta()&&-10<this.gridPlaceholder.draggedAmount&&10>this.gridPlaceholder.draggedAmount){this.control&&this.control.selectCharacterType(this.chartype);try{ig.game.clickSound.play()}catch(b){console.log(b)}}this.gridPlaceholder.released()},setChartype:function(b){0>b?(this.chartype=-1,this.currentAnim=
null):b<this.animSheets.length&&(this.chartype=b,this.currentAnim=new ig.Animation(this.animSheets[b],1,[0]))},setGridPlaceholder:function(b){this.gridPlaceholder=b},slideX:function(b,c){null==c&&(c=0.5);var d={x:0,y:0};d.x=this.shownPos.x+b;d.y=this.shownPos.y;0==c?this.pos=d:this.tween({pos:d},c,{easing:ig.Tween.Easing.Linear.EaseNone}).start()},slideY:function(b,c){null==c&&(c=0.5);var d={x:0,y:0};d.x=this.shownPos.x;d.y=this.shownPos.y+b;0==c?this.pos=d:this.tween({pos:d},c,{easing:ig.Tween.Easing.Linear.EaseNone}).start()}})});
ig.baked=!0;
ig.module("game.entities.charselect-selection-placeholder").requires("impact.entity","game.entities.charselect-selectbox").defines(function(){EntityCharselectSelectionPlaceholder=ig.Entity.extend({zIndex:500,_wmDrawBox:!0,_wmScalable:!0,size:{x:200,y:200},type:ig.Entity.TYPE.B,shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,pointer:null,innerOffset:{x:0,y:0},entityGrid:null,padding:{x:10,y:10},maxRows:0,maxCols:0,scrollX:!1,scrollY:!0,itemSize:{x:1,y:1},itemOrder:[0,1,2,3,4],scrollAmount:0,maxScrollAmount:0,
dragTimer:null,dragFrom:{x:0,y:0},draggedAmount:0,init:function(b,c,d){this.parent(b,c,d);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=b;this.hiddenPos.y=ig.system.height+this.offset.y;this.itemSize.x=209;this.itemSize.y=209;ig.global.wm||this.spawnSelectboxes()},ready:function(){this.control=ig.game.getEntitiesByType(EntityHomeControl)[0];this.pointer=ig.game.getEntitiesByType(EntityPointer)[0]},update:function(){this.parent();this.dragged()},show:function(b){if(this.entityGrid)for(var c=
0;c<this.entityGrid.length;c++)for(var d=0;d<this.entityGrid[c].length;d++)this.entityGrid[c][d].show(b);null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){if(this.entityGrid)for(var c=0;c<this.entityGrid.length;c++)for(var d=0;d<this.entityGrid[c].length;d++)this.entityGrid[c][d].hide(b);
null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())},spawnSelectboxes:function(){if(this.itemOrder&&(this.itemOrder.length&&this.itemSize&&this.itemSize.x&&this.itemSize.y)&&(this.maxCols=Math.floor((this.size.x+this.padding.x)/(this.itemSize.x+this.padding.x)),this.maxRows=Math.floor((this.size.y+this.padding.y)/
(this.itemSize.y+this.padding.y)),!(0==this.maxCols||0==this.maxRows))){var b=this.maxRows*this.itemSize.y+(this.maxRows-1)*this.padding.y;this.innerOffset.x=(this.size.x-(this.maxCols*this.itemSize.x+(this.maxCols-1)*this.padding.x))/2;this.innerOffset.y=(this.size.y-b)/2;this.entityGrid=[];b=0;this.scrollX&&this.scrollY&&(this.scrollX=!1);if(this.scrollY||!this.scrollX&&!this.scrollY)for(var c=0;c<this.maxRows;c++){for(var d=this.pos.y+this.innerOffset.y+c*(this.itemSize.y+this.padding.y),e=[],
g=0;g<this.maxCols;g++){var j=this.pos.x+this.innerOffset.x+g*(this.itemSize.x+this.padding.x),n=ig.game.spawnEntity(EntityCharselectSelectbox,j,d);n.setChartype(this.itemOrder[b]);n.setGridPlaceholder(this);b+=1;e.push(n);if(b>=this.itemOrder.length)break}this.entityGrid.push(e);if(b>=this.itemOrder.length)break}else if(this.scrollX)for(g=0;g<this.maxCols;g++){j=this.pos.x+this.innerOffset.x+g*(this.itemSize.x+this.padding.x);e=[];for(c=0;c<this.maxRows&&!(d=this.pos.y+this.innerOffset.y+c*(this.itemSize.y+
this.padding.y),n=ig.game.spawnEntity(EntityCharselectSelectbox,j,d),n.setChartype(this.itemOrder[b]),n.setGridPlaceholder(this),b+=1,e.push(n),b>=this.itemOrder.length);c++);this.entityGrid.push(e);if(b>=this.itemOrder.length)break}if(b<this.itemOrder.length)if(this.scrollY){for(var p=Math.ceil(this.itemOrder.length/this.maxCols),c=Math.floor(b/this.maxCols);c<p;c++){d=this.pos.y+this.innerOffset.y+c*(this.itemSize.y+this.padding.y);e=[];for(g=0;g<this.maxCols&&!(j=this.pos.x+this.innerOffset.x+
g*(this.itemSize.x+this.padding.x),n=ig.game.spawnEntity(EntityCharselectSelectbox,j,d),n.setChartype(this.itemOrder[b]),n.setGridPlaceholder(this),b+=1,e.push(n),b>=this.itemOrder.length);g++);this.entityGrid.push(e);if(b>=this.itemOrder.length)break}this.maxScrollAmount=(this.itemSize.y+this.padding.y)*(p-this.maxRows)}else if(this.scrollX){p=Math.ceil(this.itemOrder.length/this.maxRows);for(g=Math.floor(b/this.maxRows);g<p;g++){j=this.pos.x+this.innerOffset.x+g*(this.itemSize.x+this.padding.x);
e=[];for(c=0;c<this.maxRows&&!(d=this.pos.y+this.innerOffset.y+c*(this.itemSize.y+this.padding.y),n=ig.game.spawnEntity(EntityCharselectSelectbox,j,d),n.setChartype(this.itemOrder[b]),n.setGridPlaceholder(this),b+=1,e.push(n),b>=this.itemOrder.length);c++);this.entityGrid.push(e);if(b>=this.itemOrder.length)break}this.maxScrollAmount=(this.itemSize.x+this.padding.x)*(p-this.maxCols)}}},pageDown:function(b,c){b||(this.scrollY?b=this.itemSize.y+this.padding.y:this.scrollX&&(b=this.itemSize.x+this.padding.x));
this.scrollAmount+=b;0>this.scrollAmount&&(this.scrollAmount=0);this.scrollAmount>this.maxScrollAmount&&(this.scrollAmount=this.maxScrollAmount);if(this.entityGrid)for(var d=0;d<this.entityGrid.length;d++)for(var e=0;e<this.entityGrid[d].length;e++)this.scrollY?this.entityGrid[d][e].slideY(-this.scrollAmount,c):this.scrollX&&this.entityGrid[d][e].slideX(-this.scrollAmount,c)},pageUp:function(b,c){b||(this.scrollY?b=this.itemSize.y+this.padding.y:this.scrollX&&(b=this.itemSize.x+this.padding.x));this.scrollAmount-=
b;0>this.scrollAmount&&(this.scrollAmount=0);this.scrollAmount>this.maxScrollAmount&&(this.scrollAmount=this.maxScrollAmount);if(this.entityGrid)for(var d=0;d<this.entityGrid.length;d++)for(var e=0;e<this.entityGrid[d].length;e++)this.scrollY?this.entityGrid[d][e].slideY(-this.scrollAmount,c):this.scrollX&&this.entityGrid[d][e].slideX(-this.scrollAmount,c)},clicked:function(){this.pointer&&(this.dragTimer=new ig.Timer,this.dragTimer.set(0),this.draggedAmount=0,this.dragFrom.x=this.pointer.pos.x,this.dragFrom.y=
this.pointer.pos.y)},dragged:function(){if(this.dragTimer){var b=0;this.scrollY?b=this.pointer.pos.y-this.dragFrom.y-this.draggedAmount:this.scrollX&&(b=this.pointer.pos.x-this.dragFrom.x-this.draggedAmount);0>b?this.pageUp(b,0):0<b&&this.pageDown(-b,0);this.draggedAmount+=b}},released:function(){this.pointer&&(this.dragTimer=null)},lostPointer:function(){this.pointer&&(this.dragTimer=null)}})});ig.baked=!0;
ig.module("game.entities.home-character").requires("impact.entity").defines(function(){EntityHomeCharacter=ig.Entity.extend({zIndex:800,_wmIgnore:!0,shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=c},ready:function(){},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,
this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())}})});ig.baked=!0;
ig.module("game.entities.home-character-desktop").requires("impact.entity","game.entities.home-character").defines(function(){EntityHomeCharacterDesktop=EntityHomeCharacter.extend({_wmIgnore:!1,zIndex:800,animSheet:new ig.AnimationSheet("media/graphics/game/desktop/home/character.png",285,458),size:{x:285,y:458},init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0])}})});ig.baked=!0;
ig.module("game.entities.charselect-button-up").requires("impact.entity").defines(function(){EntityCharselectButtonUp=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-up.png",68,68),size:{x:58,y:58},offset:{x:5,y:5},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=
c},ready:function(){this.control=ig.game.getEntitiesByType(EntityHomeControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,
this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())},released:function(){this.control&&this.control.pageUp();try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.home-button-gallery").requires("impact.entity").defines(function(){EntityHomeButtonGallery=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/home/button-gallery.png",148,68),size:{x:128,y:48},offset:{x:10,y:10},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=-(this.size.x+2*this.offset.x);this.hiddenPos.y=
c},ready:function(){this.control=ig.game.getEntitiesByType(EntityHomeControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,
this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())},released:function(){this.control&&this.control.hideMainMenu();this.control&&this.control.showGallery(0.5);try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.home-button-home").requires("impact.entity").defines(function(){EntityHomeButtonHome=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-home.png",68,68),size:{x:58,y:58},offset:{x:5,y:5},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=c},
ready:function(){this.control=ig.game.getEntitiesByType(EntityHomeControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,this.pos.y=
this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())},released:function(){this.control&&this.control.hideCharselect();this.control&&this.control.hideGallery();this.control&&this.control.showMainMenu(0.5);try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.charselect-button-down").requires("impact.entity").defines(function(){EntityCharselectButtonDown=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-down.png",68,68),size:{x:58,y:58},offset:{x:5,y:5},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=
c},ready:function(){this.control=ig.game.getEntitiesByType(EntityHomeControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,
this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())},released:function(){this.control&&this.control.pageDown();try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.home-button-view").requires("impact.entity").defines(function(){EntityHomeButtonView=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-right.png",68,68),size:{x:58,y:58},offset:{x:5,y:5},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,hidden:!1,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=
c},ready:function(){this.control=ig.game.getEntitiesByType(EntityHomeControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1),this.hidden=!1):(null==b&&(b=0.5),this.hidden&&(this.hidden=!1,this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()))},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1),
this.hidden=!0):(null==b&&(b=0.5),this.hidden||(this.hidden=!0,this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start()))},released:function(){this.control.viewSelectedSnapshot();try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.home-button-play").requires("impact.entity").defines(function(){EntityHomeButtonPlay=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/home/button-play.png",148,68),size:{x:128,y:48},offset:{x:10,y:10},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=-(this.size.x+2*this.offset.x);this.hiddenPos.y=
c},ready:function(){this.control=ig.game.getEntitiesByType(EntityHomeControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,
this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())},released:function(){this.control&&this.control.hideMainMenu();this.control&&this.control.showCharselect(0.5);try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.home-button-delete").requires("impact.entity").defines(function(){EntityHomeButtonDelete=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-delete.png",68,68),size:{x:58,y:58},offset:{x:5,y:5},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=
c},ready:function(){this.control=ig.game.getEntitiesByType(EntityHomeControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,
this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())},released:function(){null!=this.control.galleryThumbs.selectedThumb&&(this.control.galleryThumbs.deleteSelectedThumb(),this.control.galleryThumbs.unselectAllThumbs(),this.control.galleryThumbs.refreshThumbs());try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.home-button-mute").requires("impact.entity").defines(function(){EntityHomeButtonMute=ig.Entity.extend({zIndex:950,size:{x:58,y:58},offset:{x:5,y:5},type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-music-on.png",68,68),offSheet:new ig.AnimationSheet("media/graphics/game/shared/button-music-off.png",68,68),shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);"undefined"==typeof wm&&
(Howler._muted&&(this.currentAnim=new ig.Animation(this.offSheet,1,[0])),this.shownPos.x=b,this.shownPos.y=c,this.hiddenPos.x=b,this.hiddenPos.y=-(this.size.y+2*this.offset.y))},ready:function(){},show:function(b){if(null!=b&&0>=b)this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1);else{null==b&&(b=0.5);this.pos.x=this.hiddenPos.x;this.pos.y=this.hiddenPos.y;this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start();try{ig.game.clickSound.play()}catch(c){console.log(c)}}},
hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())},clicked:function(){ig.game.playerMuted?(ig.game.playerMuted=!1,ig.game.unmute(),console.log("ig.game.unmute"),ig.Sound.enabled=!0,this.currentAnim=new ig.Animation(this.animSheet,1,[0])):(ig.game.playerMuted=!0,ig.game.mute(),console.log("ig.game.mute"),
ig.Sound.enabled=!1,this.currentAnim=new ig.Animation(this.offSheet,1,[0]))}})});ig.baked=!0;
ig.module("game.entities.home-title").requires("impact.entity").defines(function(){EntityHomeTitle=ig.Entity.extend({zIndex:1E3,animSheet:new ig.AnimationSheet("media/graphics/game/shared/home/title.png",237,131),size:{x:237,y:131},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)},ready:function(){},show:function(b){null!=b&&0>=b?(this.pos.x=
this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())}})});
ig.baked=!0;
ig.module("game.entities.gallery-thumb").requires("impact.entity").defines(function(){EntityGalleryThumb=ig.Entity.extend({zIndex:1E3,_wmIgnore:!0,type:ig.Entity.TYPE.B,bgImage:new ig.Image("media/graphics/game/shared/home/gallery-thumb.png"),imageData:null,size:{x:120,y:120},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},isMoving:!1,hidden:!1,selected:!1,gridPlaceholder:null,gridPos:{x:0,y:0},snapshotId:0,snapshotSize:{x:100,y:100},snapshotScale:0.28,charPos:{x:80,y:-80},mouthOffset:{x:155,y:308},teethBounds:[{x:13,
y:19,w:14,h:12,z:11},{x:27,y:12,w:15,h:17,z:12},{x:43,y:7,w:19,h:20,z:13},{x:63,y:4,w:21,h:23,z:14},{x:84,y:4,w:21,h:23,z:14},{x:105,y:7,w:19,h:20,z:13},{x:125,y:12,w:15,h:17,z:12},{x:141,y:19,w:14,h:12,z:11},{x:13,y:58,w:14,h:12,z:11},{x:27,y:62,w:15,h:17,z:12},{x:43,y:64,w:19,h:20,z:13},{x:63,y:64,w:21,h:23,z:14},{x:84,y:64,w:21,h:23,z:14},{x:105,y:64,w:19,h:20,z:13},{x:125,y:62,w:15,h:17,z:12},{x:141,y:58,w:14,h:12,z:11}],bgImages:[new ig.Image("media/graphics/game/desktop/background/bg01_640x480.jpg"),
new ig.Image("media/graphics/game/desktop/background/bg02_640x480.jpg"),new ig.Image("media/graphics/game/desktop/background/bg03_640x480.jpg"),new ig.Image("media/graphics/game/desktop/background/bg04_640x480.jpg")],charImages:[new ig.Image("media/graphics/game/shared/game/character/00/character00-normal.png"),new ig.Image("media/graphics/game/shared/game/character/01/character01-normal.png"),new ig.Image("media/graphics/game/shared/game/character/02/character02-normal.png"),new ig.Image("media/graphics/game/shared/game/character/03/character03-normal.png"),
new ig.Image("media/graphics/game/shared/game/character/04/character04-normal.png")],eyeImages:[new ig.Image("media/graphics/game/shared/game/character/00/character00-eyes.png"),new ig.Image("media/graphics/game/shared/game/character/01/character01-eyes.png"),new ig.Image("media/graphics/game/shared/game/character/02/character02-eyes.png"),new ig.Image("media/graphics/game/shared/game/character/03/character03-eyes.png"),new ig.Image("media/graphics/game/shared/game/character/04/character04-eyes.png")],
bruiseImages:[new ig.Image("media/graphics/game/shared/game/character/00/character00-bruise.png"),new ig.Image("media/graphics/game/shared/game/character/01/character01-bruise.png"),new ig.Image("media/graphics/game/shared/game/character/02/character02-bruise.png"),new ig.Image("media/graphics/game/shared/game/character/03/character03-bruise.png"),new ig.Image("media/graphics/game/shared/game/character/04/character04-bruise.png")],kissImages:[new ig.Image("media/graphics/game/shared/game/kissmark1.png"),
new ig.Image("media/graphics/game/shared/game/kissmark2.png"),new ig.Image("media/graphics/game/shared/game/kissmark3.png")],teethImages:[[new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_00.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_01.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_02.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_03.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_04.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_06.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_07.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_08.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_09.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_10.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_11.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_13.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_14.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_15.png")],[new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_00.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_01.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_02.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_03.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_04.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_06.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_07.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_08.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_09.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_10.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_11.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_13.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_14.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_15.png")],[new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_00.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_01.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_02.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_03.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_04.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_06.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_07.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_08.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_09.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_10.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_11.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_13.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_14.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_15.png")]],blackImages:[new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_00.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_01.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_02.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_03.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_04.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_06.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_07.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_08.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_09.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_10.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_11.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_13.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_14.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_15.png")],yellowImages:[new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_00.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_01.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_02.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_03.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_04.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_06.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_07.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_08.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_09.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_10.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_11.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_12.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_13.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_14.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_15.png")],plaqueImages:[new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_00.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_01.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_02.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_03.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_04.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_06.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_07.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_08.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_09.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_10.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_11.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_13.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_14.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_15.png")],holeImages:[new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_03/00.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_03/01.png")],greenImages:[new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_04/00.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_04/01.png")],stickerData:[{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_00.png"),
aabb:{x:-5,y:-4,w:10,h:9}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_01.png"),aabb:{x:-10,y:-10,w:20,h:20}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_02.png"),aabb:{x:-7,y:-7,w:15,h:15}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_03.png"),aabb:{x:-7,y:-7,w:14,h:14}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_04.png"),aabb:{x:-6,y:-9,w:13,h:18}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_05.png"),
aabb:{x:-6,y:-6,w:13,h:13}}],decorData:[{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_bow.png"),aabb:{x:-72,y:-65,w:145,h:130}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_glitter.png"),aabb:{x:-20,y:-25,w:40,h:51}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_flower.png"),aabb:{x:-56,y:-56,w:112,h:112}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_angel_wing_r.png"),aabb:{x:-80,
y:-36,w:160,h:73}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_angel_wing_l.png"),aabb:{x:-80,y:-36,w:160,h:73}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_devil_wing_r.png"),aabb:{x:-72,y:-37,w:145,h:74}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_devil_wing_l.png"),aabb:{x:-72,y:-37,w:145,h:74}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_horn.png"),aabb:{x:-124,y:-36,w:249,
h:73}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_sunglass.png"),aabb:{x:-101,y:-28,w:203,h:56}}],init:function(b,c,d){this.parent(b,c,d);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=-(this.size.x+2*this.offset.x);this.hiddenPos.y=c;this.charPos.x=0.5*(ig.system.width-480)},ready:function(){},update:function(){this.parent()},draw:function(){this.parent();var b=this.pos.x,c=this.pos.y;ig.global.wm&&(b=this.pos.x-ig.game._rscreen.x,c=this.pos.y-ig.game._rscreen.y);
this.bgImage.draw(b,c);this.imageData&&(b=ig.system.getDrawPos(b+10),c=ig.system.getDrawPos(c+10),w=100*ig.system.scale,h=100*ig.system.scale,ig.system.context.putImageData(this.imageData,b,c,0,0,w,h),this.selected&&(ig.system.context.fillStyle="rgba(255, 255, 255, 0.5)",ig.system.context.fillRect(b,c,w,h)))},show:function(b){this.hidden=!1;null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.stopTweens(!1),this.pos.x=this.hiddenPos.x,this.pos.y=
this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Quadratic.EaseOut,entity:this,onComplete:function(){this.entity.isMoving=!1}}).start(),this.isMoving=!0)},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.stopTweens(!1),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Quadratic.EaseIn,entity:this,onComplete:function(){this.entity.isMoving=
!1;this.entity.hidden=!0}}).start(),this.isMoving=!0)},setGridPlaceholder:function(b){this.gridPlaceholder=b;this.control=b.control},setSnapshotId:function(b){this.imageData=null;this.snapshotId=b;0<=b&&b<ig.game.snapshots.length&&this.getImageData()},getImageData:function(){var b=ig.game.snapshots[this.snapshotId],c=document.createElement("canvas"),d=this.snapshotScale;c.width=ig.system.width*ig.system.scale*d;c.height=ig.system.height*ig.system.scale*d;var c=c.getContext("2d"),e=0,e=b.backgroundId;
this.drawImage(c,this.bgImages[e],0,0,d);e=b.chartype;this.drawImage(c,this.charImages[e],this.charPos.x,this.charPos.y,d);this.drawImage(c,this.eyeImages[e],this.charPos.x,this.charPos.y,d);b.hasBruise&&this.drawImage(c,this.bruiseImages[e],this.charPos.x,this.charPos.y,d);for(var g=0;g<b.hasKissmark;g++)this.drawImage(c,this.kissImages[g],this.charPos.x,this.charPos.y,d);for(g=0;g<b.teeth.length;g++)this.drawImage(c,this.teethImages[b.teeth[g].toothType][g],this.charPos.x+this.mouthOffset.x,this.charPos.y+
this.mouthOffset.y,d);for(g=0;g<b.teeth.length;g++)b.teeth[g].hasBlack&&this.drawImage(c,this.blackImages[g],this.charPos.x+this.mouthOffset.x,this.charPos.y+this.mouthOffset.y,d);for(g=0;g<b.teeth.length;g++)c.globalAlpha=b.teeth[g].hasYellow,0<c.globalAlpha&&this.drawImage(c,this.yellowImages[g],this.charPos.x+this.mouthOffset.x,this.charPos.y+this.mouthOffset.y,d);for(g=0;g<b.teeth.length;g++)c.globalAlpha=b.teeth[g].hasPlaque,0<c.globalAlpha&&this.drawImage(c,this.plaqueImages[g],this.charPos.x+
this.mouthOffset.x,this.charPos.y+this.mouthOffset.y,d);for(g=0;g<b.teeth.length;g++){c.globalAlpha=b.teeth[g].hasHole;var j=this.charPos.x+this.mouthOffset.x+this.teethBounds[g].x+b.teeth[g].holeRelPos.x,n=this.charPos.y+this.mouthOffset.y+this.teethBounds[g].y+b.teeth[g].holeRelPos.y;0<c.globalAlpha&&this.drawImage(c,this.holeImages[b.teeth[g].holeType],j,n,d)}for(g=0;g<b.teeth.length;g++)c.globalAlpha=b.teeth[g].hasGreen,j=this.charPos.x+this.mouthOffset.x+this.teethBounds[g].x+b.teeth[g].holeRelPos.x,
n=this.charPos.y+this.mouthOffset.y+this.teethBounds[g].y+b.teeth[g].holeRelPos.y,0<c.globalAlpha&&this.drawImage(c,this.greenImages[b.teeth[g].holeType],j,n,d);c.globalAlpha=1;for(g=0;g<b.stickers.length;g++)e=b.stickers[g].stickerId,j=b.stickers[g].pos.x+this.stickerData[e].aabb.x+this.charPos.x,n=b.stickers[g].pos.y+this.stickerData[e].aabb.y+this.charPos.y,this.drawImage(c,this.stickerData[e].image,j,n,d);for(g=0;g<b.decors.length;g++)e=b.decors[g].decorId,j=b.decors[g].pos.x+this.decorData[e].aabb.x+
this.charPos.x,n=b.decors[g].pos.y+this.decorData[e].aabb.y+this.charPos.y,this.drawImage(c,this.decorData[e].image,j,n,d);j=0.5*(ig.system.width*d-this.snapshotSize.x);n=(this.charPos.y+80)*d;this.imageData=c.getImageData(j,n,this.snapshotSize.x*ig.system.scale,this.snapshotSize.y*ig.system.scale)},drawImage:function(b,c,d,e,g){if(b&&c){isNaN(g)&&(g=1);var j=ig.system.scale,n=c.data.width*j,j=c.data.height*j;b.drawImage(c.data,0,0,n,j,ig.system.getDrawPos(d)*g,ig.system.getDrawPos(e)*g,n*g,j*g)}},
released:function(){!this.selected&&null!=this.imageData?(this.gridPlaceholder.unselectAllThumbs(),this.selected=!0,this.gridPlaceholder.selectedThumb=this,this.gridPlaceholder.control.viewButton.show()):this.gridPlaceholder.unselectAllThumbs();try{ig.game.clickSound.play()}catch(b){console.log(b)}},unselect:function(){this.selected=!1;this.gridPlaceholder.selectedThumb=null;this.gridPlaceholder.control.viewButton.hide()}})});ig.baked=!0;
ig.module("game.entities.gallery-thumb-placeholder").requires("impact.entity","game.entities.gallery-thumb").defines(function(){EntityGalleryThumbPlaceholder=ig.Entity.extend({zIndex:1E3,_wmDrawBox:!0,_wmScalable:!0,size:{x:120,y:120},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},isMoving:!1,hidden:!1,control:null,innerOffset:{x:0,y:0},entityGrid:null,padding:{x:10,y:10},maxRows:3,maxCols:4,itemOrder:[0,1,2,3,4,5,6,7,8,9,10,11],itemSize:{x:120,y:120},selectedThumb:null,init:function(b,c,d){this.parent(b,
c,d);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=-(this.size.x+2*this.offset.x);this.hiddenPos.y=c;ig.global.wm||this.spawnThumbs()},ready:function(){this.control=ig.game.getEntitiesByType(EntityHomeControl)[0]},update:function(){this.parent()},draw:function(){this.parent()},show:function(b){this.hidden=!1;if(this.entityGrid)for(var c=0;c<this.entityGrid.length;c++)for(var d=0;d<this.entityGrid[c].length;d++)this.entityGrid[c][d].show(b);null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=
this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.stopTweens(!1),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Quadratic.EaseOut,entity:this,onComplete:function(){this.entity.isMoving=!1}}).start(),this.isMoving=!0)},hide:function(b){if(this.entityGrid)for(var c=0;c<this.entityGrid.length;c++)for(var d=0;d<this.entityGrid[c].length;d++)this.entityGrid[c][d].hide(b);null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,
this.stopTweens(!1)):(null==b&&(b=0.5),this.stopTweens(!1),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Quadratic.EaseIn,entity:this,onComplete:function(){this.entity.isMoving=!1;this.entity.hidden=!0}}).start(),this.isMoving=!0)},spawnThumbs:function(){if(this.itemOrder&&(this.itemOrder.length&&this.itemSize&&this.itemSize.x&&this.itemSize.y)&&(this.maxCols=Math.floor((this.size.x+this.padding.x)/(this.itemSize.x+this.padding.x)),
this.maxRows=Math.floor((this.size.y+this.padding.y)/(this.itemSize.y+this.padding.y)),!(0==this.maxCols||0==this.maxRows))){var b=this.maxRows*this.itemSize.y+(this.maxRows-1)*this.padding.y;this.innerOffset.x=(this.size.x-(this.maxCols*this.itemSize.x+(this.maxCols-1)*this.padding.x))/2;this.innerOffset.y=(this.size.y-b)/2;this.entityGrid=[];for(var c=b=0;c<this.maxRows;c++){for(var d=this.pos.y+this.innerOffset.y+c*(this.itemSize.y+this.padding.y),e=[],g=0;g<this.maxCols;g++){var j=ig.game.spawnEntity(EntityGalleryThumb,
this.pos.x+this.innerOffset.x+g*(this.itemSize.x+this.padding.x),d);j.setGridPlaceholder(this);j.setSnapshotId(this.itemOrder[b]);b+=1;e.push(j);if(b>=this.itemOrder.length)break}this.entityGrid.push(e);if(b>=this.itemOrder.length)break}ig.game.sortEntitiesDeferred()}},refreshThumbs:function(){if(this.entityGrid)for(var b=0,c=0;c<this.entityGrid.length;c++)for(var d=0;d<this.entityGrid[c].length;d++)this.entityGrid[c][d].setSnapshotId(this.itemOrder[b]),b+=1},unselectAllThumbs:function(){if(this.entityGrid)for(var b=
0;b<this.entityGrid.length;b++)for(var c=0;c<this.entityGrid[b].length;c++)this.entityGrid[b][c].unselect()},deleteSelectedThumb:function(){this.selectedThumb&&ig.game.removeSnapshot(this.selectedThumb.snapshotId)}})});ig.baked=!0;
ig.module("game.entities.home-control").requires("impact.entity").defines(function(){EntityHomeControl=ig.Entity.extend({zIndex:1E4,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},title:null,character:null,playButton:null,galleryButton:null,moregamesButton:null,muteButton:null,homeButton:null,upButton:null,downButton:null,deleteButton:null,viewButton:null,charselection:null,charselectBoxes:{},mainMenuHidden:!0,charselectHidden:!0,galleryHidden:!0,paused:!1,transitionTimer:null,transitionFunction:null,
galleryThumbs:null,init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.title=ig.game.getEntitiesByType(EntityHomeTitle)[0];this.character=ig.game.getEntitiesByType(EntityHomeCharacter)[0];this.playButton=ig.game.getEntitiesByType(EntityHomeButtonPlay)[0];this.galleryButton=ig.game.getEntitiesByType(EntityHomeButtonGallery)[0];this.moregamesButton=ig.game.getEntitiesByType(EntityButtonMoreGames)[0];this.muteButton=ig.game.getEntitiesByType(EntityHomeButtonMute)[0];this.homeButton=ig.game.getEntitiesByType(EntityHomeButtonHome)[0];
this.upButton=ig.game.getEntitiesByType(EntityCharselectButtonUp)[0];this.downButton=ig.game.getEntitiesByType(EntityCharselectButtonDown)[0];this.charselection=ig.game.getEntitiesByType(EntityCharselectSelectionPlaceholder)[0];this.deleteButton=ig.game.getEntitiesByType(EntityHomeButtonDelete)[0];this.viewButton=ig.game.getEntitiesByType(EntityHomeButtonView)[0];this.galleryThumbs=ig.game.getEntitiesByType(EntityGalleryThumbPlaceholder)[0];this.hideCharselect(0,0);this.hideGallery(0,0);this.showMainMenu();
ig.game.currentSnapshot=null},update:function(){this.parent();this.transitionTimer&&0<=this.transitionTimer.delta()&&(this.transitionTimer=null,this.transitionFunction&&"function"==typeof this.transitionFunction&&(this.transitionFunction(),this.transitionFunction=null))},pause:function(){this.paused||(this.paused=!0,this.transitionTimer&&this.transitionTimer.pause())},unpause:function(){this.paused&&(this.paused=!1,this.transitionTimer&&this.transitionTimer.unpause())},hideMainMenu:function(b,c){b&&
0<b?(this.transitionTimer=new ig.Timer,this.transitionTimer.set(b),this.transitionFunction=this.hideMainMenu):(this.transtionFunction=this.transitionTimer=null,this.mainMenuHidden||(this.mainMenuHidden=!0,this.title.hide(c),this.character.hide(c),this.playButton.hide(c),this.galleryButton.hide(c),this.moregamesButton.hide(c)))},showMainMenu:function(b,c){b&&0<b?(this.transitionTimer=new ig.Timer,this.transitionTimer.set(b),this.transitionFunction=this.showMainMenu):(this.transtionFunction=this.transitionTimer=
null,this.mainMenuHidden&&(this.mainMenuHidden=!1,this.title.show(c),this.character.show(c),this.playButton.show(c),this.galleryButton.show(c),this.moregamesButton.show(c)))},showCharselect:function(b,c){b&&0<b?(this.transitionTimer=new ig.Timer,this.transitionTimer.set(b),this.transitionFunction=this.showCharselect):(this.transtionFunction=this.transitionTimer=null,this.charselectHidden||(this.charselectHidden=!0,this.homeButton.show(c),this.upButton.show(c),this.downButton.show(c),this.charselection.show(c)))},
hideCharselect:function(b,c){b&&0<b?(this.transitionTimer=new ig.Timer,this.transitionTimer.set(b),this.transitionFunction=this.hideCharselect):(this.transtionFunction=this.transitionTimer=null,this.charselectHidden&&(this.charselectHidden=!1,this.homeButton.hide(c),this.upButton.hide(c),this.downButton.hide(c),this.charselection.hide(c)))},selectCharacterType:function(b){ig.game.selectedCharacter=b;ig.game.selectedSnapshot=-1;this.hideCharselect();this.homeButton.show(0);this.transitionTimer=new ig.Timer;
this.transitionTimer.set(0.5);this.transitionFunction=this.gotoGameLevel},gotoGameLevel:function(){ig.game.director.loadLevel(2)},pageDown:function(b){this.charselection.pageDown(b)},pageUp:function(b){this.charselection.pageUp(b)},showGallery:function(b,c){b&&0<b?(this.transitionTimer=new ig.Timer,this.transitionTimer.set(b),this.transitionFunction=this.showGallery):(this.transtionFunction=this.transitionTimer=null,this.galleryHidden||(this.galleryHidden=!0,this.homeButton.show(c),this.deleteButton.show(c),
this.galleryThumbs.show(c)))},hideGallery:function(b,c){b&&0<b?(this.transitionTimer=new ig.Timer,this.transitionTimer.set(b),this.transitionFunction=this.hideGallery):(this.transtionFunction=this.transitionTimer=null,this.galleryHidden&&(this.galleryHidden=!1,this.homeButton.hide(c),this.deleteButton.hide(c),this.viewButton.hide(c),this.galleryThumbs.hide(c)))},viewSelectedSnapshot:function(){this.galleryThumbs.selectedThumb&&(ig.game.selectedSnapshot=this.galleryThumbs.selectedThumb.snapshotId,
ig.game.selectedCharacter=-1,this.hideGallery(),this.homeButton.show(0),this.transitionTimer=new ig.Timer,this.transitionTimer.set(0.5),this.transitionFunction=this.gotoGalleryViewLevel)},gotoGalleryViewLevel:function(){ig.game.director.loadLevel(3)}})});ig.baked=!0;
ig.module("game.levels.desktop-home").requires("impact.image","game.entities.charselect-selection-placeholder","game.entities.home-character-desktop","game.entities.charselect-button-up","game.entities.home-button-gallery","game.entities.home-button-home","game.entities.charselect-button-down","game.entities.button-more-games","game.entities.home-button-view","game.entities.home-button-play","game.entities.home-button-delete","game.entities.home-button-mute","game.entities.home-title","game.entities.gallery-thumb-placeholder",
"game.entities.home-control","game.entities.branding-logo","game.entities.pointer-selector").defines(function(){LevelDesktopHome={entities:[{type:"EntityCharselectSelectionPlaceholder",x:0,y:0,settings:{size:{x:552,y:480}}},{type:"EntityHomeCharacterDesktop",x:308,y:22},{type:"EntityCharselectButtonUp",x:569,y:333},{type:"EntityHomeButtonGallery",x:110,y:298},{type:"EntityHomeButtonHome",x:569,y:89},{type:"EntityCharselectButtonDown",x:569,y:409},{type:"EntityButtonMoreGames",x:100,y:366},{type:"EntityHomeButtonView",
x:569,y:165},{type:"EntityHomeButtonPlay",x:110,y:218},{type:"EntityHomeButtonDelete",x:569,y:409},{type:"EntityHomeButtonMute",x:569,y:13},{type:"EntityHomeTitle",x:60,y:48},{type:"EntityGalleryThumbPlaceholder",x:0,y:0,settings:{size:{x:552,y:480}}},{type:"EntityHomeControl",x:4,y:-28},{type:"EntityBrandingLogo",x:380,y:456},{type:"EntityPointerSelector",x:4,y:-52}],layer:[{name:"bg",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/game/desktop/home/background/menu_bg_640x480.jpg",
repeat:!1,preRender:!0,distance:"1",tilesize:160,foreground:!1,data:[[1,2,3,4],[5,6,7,8],[9,10,11,12]]}]};LevelDesktopHomeResources=[new ig.Image("media/graphics/game/desktop/home/background/menu_bg_640x480.jpg")]});ig.baked=!0;
ig.module("game.entities.charselect-selection-placeholder-mobile").requires("impact.entity","game.entities.charselect-selection-placeholder").defines(function(){EntityCharselectSelectionPlaceholderMobile=EntityCharselectSelectionPlaceholder.extend({scrollX:!0,scrollY:!1,init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=c}})});ig.baked=!0;
ig.module("game.entities.home-character-mobile").requires("impact.entity","game.entities.home-character").defines(function(){EntityHomeCharacterMobile=EntityHomeCharacter.extend({_wmIgnore:!1,zIndex:800,animSheet:new ig.AnimationSheet("media/graphics/game/mobile/home/character.png",265,538),size:{x:265,y:538},init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0])}})});ig.baked=!0;
ig.module("game.entities.charselect-button-up-mobile").requires("impact.entity","game.entities.charselect-button-up").defines(function(){EntityCharselectButtonUpMobile=EntityCharselectButtonUp.extend({animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-left.png",68,68),init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)}})});ig.baked=!0;
ig.module("game.entities.home-button-home-mobile").requires("impact.entity","game.entities.home-button-home").defines(function(){EntityHomeButtonHomeMobile=EntityHomeButtonHome.extend({init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)}})});ig.baked=!0;
ig.module("game.entities.home-button-view-mobile").requires("impact.entity","game.entities.home-button-view").defines(function(){EntityHomeButtonViewMobile=EntityHomeButtonView.extend({init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)}})});ig.baked=!0;
ig.module("game.entities.charselect-button-down-mobile").requires("impact.entity","game.entities.charselect-button-down").defines(function(){EntityCharselectButtonDownMobile=EntityCharselectButtonDown.extend({animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-right.png",68,68),init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)}})});ig.baked=!0;
ig.module("game.entities.home-button-delete-mobile").requires("impact.entity","game.entities.home-button-delete").defines(function(){EntityHomeButtonDeleteMobile=EntityHomeButtonDelete.extend({init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)}})});ig.baked=!0;
ig.module("game.levels.mobile-home").requires("impact.image","game.entities.charselect-selection-placeholder-mobile","game.entities.home-character-mobile","game.entities.charselect-button-up-mobile","game.entities.home-button-play","game.entities.home-button-gallery","game.entities.home-button-home-mobile","game.entities.button-more-games","game.entities.home-button-view-mobile","game.entities.charselect-button-down-mobile","game.entities.home-button-delete-mobile","game.entities.home-button-mute",
"game.entities.home-title","game.entities.gallery-thumb-placeholder","game.entities.home-control","game.entities.branding-logo","game.entities.pointer-selector").defines(function(){LevelMobileHome={entities:[{type:"EntityCharselectSelectionPlaceholderMobile",x:0,y:88,settings:{size:{x:480,y:552}}},{type:"EntityHomeCharacterMobile",x:214,y:102},{type:"EntityCharselectButtonUpMobile",x:333,y:13},{type:"EntityHomeButtonPlay",x:58,y:302},{type:"EntityHomeButtonGallery",x:58,y:382},{type:"EntityHomeButtonHomeMobile",
x:89,y:13},{type:"EntityButtonMoreGames",x:48,y:450},{type:"EntityHomeButtonViewMobile",x:165,y:13},{type:"EntityCharselectButtonDownMobile",x:409,y:13},{type:"EntityHomeButtonDeleteMobile",x:409,y:13},{type:"EntityHomeButtonMute",x:13,y:13},{type:"EntityHomeTitle",x:6,y:128},{type:"EntityGalleryThumbPlaceholder",x:0,y:88,settings:{size:{x:480,y:552}}},{type:"EntityHomeControl",x:4,y:-24},{type:"EntityBrandingLogo",x:284,y:616},{type:"EntityPointerSelector",x:4,y:-48}],layer:[{name:"bg",width:3,height:4,
linkWithCollision:!1,visible:1,tilesetName:"media/graphics/game/mobile/home/background/menu_bg_480x640.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:160,foreground:!1,data:[[1,2,3],[4,5,6],[7,8,9],[10,11,12]]}]};LevelMobileHomeResources=[new ig.Image("media/graphics/game/mobile/home/background/menu_bg_480x640.jpg")]});ig.baked=!0;
ig.module("game.entities.game-background").requires("impact.entity").defines(function(){EntityGameBackground=ig.Entity.extend({zIndex:0,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},images:[new ig.Image("media/graphics/game/desktop/background/bg01_640x480.jpg"),new ig.Image("media/graphics/game/desktop/background/bg02_640x480.jpg"),new ig.Image("media/graphics/game/desktop/background/bg03_640x480.jpg"),new ig.Image("media/graphics/game/desktop/background/bg04_640x480.jpg")],image:null,
backgroundId:0,previousBgId:0,alpha:1,draw:function(){this.parent();if(this.image){if(0<this.previousBgId&&1>this.alpha){var b=0.5*(ig.system.width-this.image.data.width),c=0.5*(ig.system.height-this.image.data.height);this.images[this.previousBgId].draw(b,c)}b=0.5*(ig.system.width-this.image.data.width);c=0.5*(ig.system.height-this.image.data.height);ig.system.context.globalAlpha=this.alpha;this.image.draw(b,c);ig.system.context.globalAlpha=1}},setBackgroundId:function(b){if(!isNaN(b)&&!(b>this.images.length||
0>b)&&b!=this.backgroundId)this.previousBgId=this.backgroundId,this.backgroundId=b,this.image=this.images[this.backgroundId],this.alpha=0,this.tween({alpha:1},0.25,{easing:ig.Tween.Easing.Quadratic.EaseIn}).start()}})});ig.baked=!0;
ig.module("game.entities.game-tooth").requires("impact.entity").defines(function(){EntityGameTooth=ig.Entity.extend({zIndex:2E3,_wmIgnore:!0,size:{x:1,y:1},alpha:1,shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},teethImages:[[new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_00.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_01.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_02.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_03.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_04.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_06.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_07.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_08.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_09.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_10.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_11.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_13.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_14.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_00/tooth_15.png")],[new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_00.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_01.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_02.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_03.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_04.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_06.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_07.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_08.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_09.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_10.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_11.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_13.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_14.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_01/tooth_15.png")],
[new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_00.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_01.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_02.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_03.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_04.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_06.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_07.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_08.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_09.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_10.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_11.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_13.png"),
new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_14.png"),new ig.Image("media/graphics/game/shared/game/mouth/tooth/set_02/tooth_15.png")]],blackImages:[new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_00.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_01.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_02.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_03.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_04.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_06.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_07.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_08.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_09.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_10.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_11.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_13.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_14.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_00/set/tooth_15.png")],
yellowImages:[new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_00.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_01.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_02.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_03.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_04.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_05.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_06.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_07.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_08.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_09.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_10.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_11.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_13.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_14.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_01/set/tooth_15.png")],plaqueImages:[new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_00.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_01.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_02.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_03.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_04.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_05.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_06.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_07.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_08.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_09.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_10.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_11.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_12.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_13.png"),
new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_14.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_02/set/tooth_15.png")],holeImages:[new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_03/00.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_03/01.png")],greenImages:[new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_04/00.png"),new ig.Image("media/graphics/game/shared/game/mouth/problem/problem_04/01.png")],
toothImage:null,toothOffset:{x:0,y:0},mouth:null,toothId:0,toothType:0,hideDistance:100,hasBlack:0,hasYellow:0,hasPlaque:0,hasGreen:0,hasHole:0,holeType:0,holeRelPos:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=b;this.hiddenPos.y=c},setBounds:function(b,c,d,e,g,j){this.mouth=b;this.pos.x=this.mouth.pos.x+c;this.pos.y=this.mouth.pos.y+d;this.size.x=e;this.size.y=g;this.shownPos.x=this.mouth.pos.x+c;this.shownPos.y=this.mouth.pos.y+d;this.hiddenPos.x=
c;this.hiddenPos.y=d;this.zIndex=this.mouth.zIndex+j},setToothId:function(b){this.toothId=b;this.toothType=0;this.hiddenPos.y=8>b?this.shownPos.y+this.hideDistance:this.shownPos.y-this.hideDistance;this.toothImage=this.teethImages[this.toothType][this.toothId]},setToothType:function(b){this.toothType=b;this.toothImage=this.teethImages[this.toothType][this.toothId]},setRandomHole:function(){var b=this.holeImages[this.holeType].width,c=this.holeImages[this.holeType].height;this.hasHole?this.holeType=
Math.floor(Math.random()*this.holeImages.length):this.hasGreen&&(this.holeType=Math.floor(Math.random()*this.greenImages.length),b=this.greenImages[this.holeType].width,c=this.greenImages[this.holeType].height);b=3+Math.floor(Math.random()*(this.size.x-6-b));c=3+Math.floor(Math.random()*(this.size.y-6-c));this.holeRelPos.x=b;this.holeRelPos.y=c},resetProblems:function(){this.hasHole=this.hasGreen=this.hasPlaque=this.hasYellow=this.hasBlack=0},ready:function(){},update:function(){this.parent()},draw:function(){var b=
ig.system.context.globalAlpha,c=b*this.mouth.alpha*this.alpha;ig.system.context.globalAlpha=c;this.parent();var d=this.mouth.pos.x+this.toothOffset.x,e=this.mouth.pos.y+this.toothOffset.y;this.mouth&&this.toothImage&&this.toothImage.draw(d,e);this.hasBlack?(ig.system.context.globalAlpha=c*this.hasBlack,this.blackImages[this.toothId].draw(d,e)):0<this.hasYellow&&(ig.system.context.globalAlpha=c*this.hasYellow,this.yellowImages[this.toothId].draw(d,e));0<this.hasPlaque&&(ig.system.context.globalAlpha=
c*this.hasPlaque,this.plaqueImages[this.toothId].draw(d,e));0<this.hasHole?(ig.system.context.globalAlpha=c*this.hasHole,d=this.pos.x+this.holeRelPos.x,e=this.pos.y+this.holeRelPos.y,this.holeImages[this.holeType].draw(d,e)):0<this.hasGreen&&(ig.system.context.globalAlpha=c*this.hasGreen,d=this.pos.x+this.holeRelPos.x,e=this.pos.y+this.holeRelPos.y,this.greenImages[this.holeType].draw(d,e));ig.system.context.globalAlpha=b},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,
this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Quadratic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Quadratic.EaseIn}).start())}})});ig.baked=!0;
ig.module("game.entities.game-mouth-water").requires("impact.entity").defines(function(){EntityGameMouthWater=ig.Entity.extend({zIndex:1950,_wmIgnore:!0,size:{x:1,y:1},alpha:1,waterImages:[new ig.Image("media/graphics/game/shared/game/mouth/water/water_0.png"),new ig.Image("media/graphics/game/shared/game/mouth/water/water_1.png"),new ig.Image("media/graphics/game/shared/game/mouth/water/water_2.png")],waterLevel:0,waterOffset:{x:0,y:0},mouth:null,fillRate:0.8,drainRate:0.8,init:function(b,c,d){this.parent(b,
c,d)},setBounds:function(b,c,d,e,g,j){this.mouth=b;this.pos.x=this.mouth.pos.x+c;this.pos.y=this.mouth.pos.y+d;this.size.x=e;this.size.y=g;this.zIndex=this.mouth.zIndex+j},ready:function(){},update:function(){this.parent()},draw:function(){var b=ig.system.context.globalAlpha;ig.system.context.globalAlpha=b*this.mouth.alpha*this.alpha;this.parent();if(this.mouth&&0<this.waterLevel){var c=this.mouth.pos.x+this.waterOffset.x,d=this.mouth.pos.y+this.waterOffset.y,e=Math.floor(this.waterImages.length*
this.waterLevel);0>e&&(e=0);e>=this.waterImages.length&&(e=this.waterImages.length-1);this.waterImages[e].draw(c,d)}ig.system.context.globalAlpha=b},fill:function(){1<=this.waterLevel?this.waterLevel=1:(this.waterLevel+=this.fillRate*ig.system.tick,1<=this.waterLevel&&(this.waterLevel=1))},drain:function(){0>=this.waterLevel?this.waterLevel=0:(this.waterLevel-=this.drainRate*ig.system.tick,0>=this.waterLevel&&(this.waterLevel=0))}})});ig.baked=!0;
ig.module("game.entities.game-mouth").requires("impact.entity","game.entities.game-tooth","game.entities.game-mouth-water").defines(function(){EntityGameMouth=ig.Entity.extend({zIndex:1900,_wmIgnore:!0,size:{x:170,y:93},alpha:1,character:null,teethBounds:[{x:13,y:19,w:14,h:12,z:11},{x:27,y:12,w:15,h:17,z:12},{x:43,y:7,w:19,h:20,z:13},{x:63,y:4,w:21,h:23,z:14},{x:84,y:4,w:21,h:23,z:14},{x:105,y:7,w:19,h:20,z:13},{x:125,y:12,w:15,h:17,z:12},{x:141,y:19,w:14,h:12,z:11},{x:13,y:58,w:14,h:12,z:11},{x:27,
y:62,w:15,h:17,z:12},{x:43,y:64,w:19,h:20,z:13},{x:63,y:64,w:21,h:23,z:14},{x:84,y:64,w:21,h:23,z:14},{x:105,y:64,w:19,h:20,z:13},{x:125,y:62,w:15,h:17,z:12},{x:141,y:58,w:14,h:12,z:11}],waterBounds:{x:25,y:46,w:117,h:15,z:5},teeth:[],water:null,init:function(b,c,d){this.parent(b,c,d);this.spawnWater();this.spawnTeeth()},ready:function(){},draw:function(){this.parent()},update:function(){this.parent()},spawnNewSet:function(){this.setRandomToothProblem()},spawnSnapshot:function(){for(var b=0;b<this.teeth.length;b++){var c=
this.teeth[b],d=ig.game.snapshots[ig.game.selectedSnapshot];c.hasBlack=d.teeth[b].hasBlack;c.hasYellow=d.teeth[b].hasYellow;c.hasPlaque=d.teeth[b].hasPlaque;c.hasHole=d.teeth[b].hasHole;c.hasGreen=d.teeth[b].hasGreen;c.holeType=d.teeth[b].holeType;c.holeRelPos={};c.holeRelPos.x=d.teeth[b].holeRelPos.x;c.holeRelPos.y=d.teeth[b].holeRelPos.y}},setPosition:function(b,c){this.pos.x=b;this.pos.y=c;for(var d=0;d<this.teeth.length;d++){var e=this.teeth[d];b=this.teethBounds[d].x;c=this.teethBounds[d].y;
var g=this.teethBounds[d].w,j=this.teethBounds[d].h,n=this.teethBounds[d].z;e.setBounds(this,b,c,g,j,n)}this.water&&(b=this.waterBounds.x,c=this.waterBounds.y,g=this.waterBounds.w,j=this.waterBounds.h,n=this.waterBounds.z,this.water.setBounds(this,b,c,g,j,n))},spawnWater:function(){var b=this.waterBounds.x,c=this.waterBounds.y,d=this.waterBounds.w,e=this.waterBounds.h,g=this.waterBounds.z,j=ig.game.spawnEntity(EntityGameMouthWater,this.pos.x+b,this.pos.y+c);j.setBounds(this,b,c,d,e,g);this.water=
j},spawnTeeth:function(){for(var b=0;b<this.teethBounds.length;b++){var c=this.teethBounds[b].x,d=this.teethBounds[b].y,e=this.teethBounds[b].w,g=this.teethBounds[b].h,j=this.teethBounds[b].z,n=ig.game.spawnEntity(EntityGameTooth,this.pos.x+c,this.pos.y+d);n.setBounds(this,c,d,e,g,j);n.setToothId(b);this.teeth.push(n)}ig.game.sortEntitiesDeferred()},setRandomToothProblem:function(){for(var b=0;b<this.teeth.length;b++){var c=this.teeth[b],d=Math.floor(3*Math.random());switch(d){case 1:c.hasBlack=1;
break;case 2:c.hasYellow=1}d=Math.floor(3*Math.random());switch(d){case 2:c.hasPlaque=1}d=Math.floor(4*Math.random());switch(d){case 1:c.hasHole=1;break;case 2:c.hasGreen=1}c.setRandomHole()}}})});ig.baked=!0;
ig.module("game.entities.game-character").requires("impact.entity","game.entities.game-mouth").defines(function(){EntityGameCharacter=ig.Entity.extend({zIndex:700,size:{x:480,y:640},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},normalSheets:[new ig.AnimationSheet("media/graphics/game/shared/game/character/00/character00-normal.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/01/character01-normal.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/02/character02-normal.png",
480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/03/character03-normal.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/04/character04-normal.png",480,640)],eyeSheets:[new ig.AnimationSheet("media/graphics/game/shared/game/character/00/character00-eyes.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/01/character01-eyes.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/02/character02-eyes.png",
480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/03/character03-eyes.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/04/character04-eyes.png",480,640)],painSheets:[new ig.AnimationSheet("media/graphics/game/shared/game/character/00/character00-pain.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/01/character01-pain.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/02/character02-pain.png",
480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/03/character03-pain.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/04/character04-pain.png",480,640)],bruiseSheets:[new ig.AnimationSheet("media/graphics/game/shared/game/character/00/character00-bruise.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/01/character01-bruise.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/02/character02-bruise.png",
480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/03/character03-bruise.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/character/04/character04-bruise.png",480,640)],kissSheets:[new ig.AnimationSheet("media/graphics/game/shared/game/kissmark1.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/kissmark2.png",480,640),new ig.AnimationSheet("media/graphics/game/shared/game/kissmark3.png",480,640)],isBlinking:!1,isPain:!1,hasBruise:!1,hasKissmark:0,
blinkAnim:null,eyeAnim:null,painAnim:null,bruiseAnim:null,kissAnim:null,chartype:-1,mouth:null,mouthOffset:{x:155,y:308},blinkTimer:null,painTimer:null,init:function(b,c,d){this.parent(b,c,d);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=c;this.kissAnim=[new ig.Animation(this.kissSheets[0],1,[0]),new ig.Animation(this.kissSheets[1],1,[0]),new ig.Animation(this.kissSheets[2],1,[0])];ig.global.wm?this.currentAnim=new ig.Animation(this.normalSheets[0],
1,[0]):this.spawnMouth()},ready:function(){this.isBlinking=!1;this.blinkTimer=new ig.Timer;this.blinkTimer.set(2+4*Math.random())},update:function(){this.parent();this.mouth&&this.mouth.setPosition(this.pos.x+this.mouthOffset.x,this.pos.y+this.mouthOffset.y);this.blinkTimer&&0<=this.blinkTimer.delta()&&(this.isBlinking?this.isBlinking&&(this.isBlinking=!1,this.blinkTimer.set(2+4*Math.random())):(this.isBlinking=!0,this.blinkTimer.set(0.2+0.2*Math.random())));this.painTimer&&0<=this.painTimer.delta()&&
this.isPain&&(this.isPain=!1,this.painTimer=null)},draw:function(){this.parent();this.isBlinking||this.blinkAnim&&this.blinkAnim.draw(this.pos.x,this.pos.y);this.hasBruise&&this.bruiseAnim&&this.bruiseAnim.draw(this.pos.x,this.pos.y);this.isPain&&this.painAnim&&this.painAnim.draw(this.pos.x,this.pos.y);if(0<this.hasKissmark){var b=3;b>this.hasKissmark&&(b=this.hasKissmark);for(var c=0;c<b;c++)this.kissAnim[c]&&this.kissAnim[c].draw(this.pos.x,this.pos.y)}},show:function(b){null!=b&&0>=b?(this.pos.x=
this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start())},hideLeft:function(){this.pos.x=
this.shownPos.x;this.pos.y=this.shownPos.y;this.tween({pos:{x:-(this.size.x+this.offset.x)}},0.5,{easing:ig.Tween.Easing.Elastic.EaseIn}).start()},setChartype:function(b){null!=b&&(0>b&&(b=0),b>=this.normalSheets.length&&(b=this.normalSheets.length-1),this.chartype=b,this.currentAnim=new ig.Animation(this.normalSheets[this.chartype],1,[0]),this.blinkAnim=new ig.Animation(this.eyeSheets[this.chartype],1,[0]),this.painAnim=new ig.Animation(this.painSheets[this.chartype],1,[0]),this.bruiseAnim=new ig.Animation(this.bruiseSheets[this.chartype],
1,[0]))},spawnMouth:function(){this.mouth=ig.game.spawnEntity(EntityGameMouth,this.pos.x+this.mouthOffset.x,this.pos.y+this.mouthOffset.y)},doPain:function(b){isNaN(b)||0==b||(this.painTimer?b>-this.painTimer.delta()&&this.painTimer.set(b):(this.painTimer=new ig.Timer,this.painTimer.set(b),this.isPain=!0))}})});ig.baked=!0;
ig.module("game.entities.game-table").requires("impact.entity").defines(function(){EntityGameTable=ig.Entity.extend({zIndex:800,animSheet:new ig.AnimationSheet("media/graphics/game/shared/game/table.png",640,111),size:{x:640,y:111},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},isMoving:!1,tools:[],toolsFrozen:!1,popup:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=b;this.hiddenPos.y=ig.system.height+this.offset.y+50},ready:function(){tools=
ig.game.getEntitiesByType(EntityGameToolBase);for(var b=0;b<this.tools.length;b++)this.tools[b].setTable(this)},update:function(){this.parent();if(this.isMoving)for(var b=0;b<this.tools.length;b++)this.tools[b].updatePosition()},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Quadratic.EaseOut,entity:this,onComplete:function(){this.entity.isMoving=
!1}}).start(),this.isMoving=!0)},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x==this.hiddenPos.x&&this.pos.y==this.hiddenPos.y||(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Quadratic.EaseIn,entity:this,onComplete:function(){this.entity.isMoving=!1}}).start(),this.isMoving=!0,this.popup&&!this.popup.hidden&&(this.popup.stopTweens(!1),this.popup.hide())))},
addTool:function(b){if(b){for(var c=0;c<this.tools.length;c++)if(this.tools[c]===b)return;this.tools.push(b)}},freezeTools:function(){this.toolsFrozen=!0;for(var b=0;b<this.tools.length;b++)this.tools[b].type=ig.Entity.TYPE.NONE},unfreezeTools:function(){this.toolsFrozen=!1;for(var b=0;b<this.tools.length;b++)this.tools[b].type=ig.Entity.TYPE.B},showPopupReplace:function(b,c){this.popup&&this.popup.kill();isNaN(b)&&(b=0);c&&(this.popup=ig.game.spawnEntity(EntityGamePopupReplace,0,0),this.popup.callingTool=
c,this.popup.toothOrientation=b,this.popup.shownPos.x=0.5*(ig.system.width-this.popup.size.x),this.popup.shownPos.y=ig.system.height-this.popup.size.y,this.popup.hiddenPos.x=this.popup.shownPos.x,this.popup.hiddenPos.y=ig.system.height+this.popup.offset.y,this.popup.show(),this.freezeTools())},hidePopupReplace:function(){this.unfreezeTools();this.popup.hide();this.hitTooth&&(this.hitTooth.alpha=1,this.hitTooth=null)},addContents:function(b){for(var c=null,d=0;d<this.tools.length;d++)if("undefined"!==
typeof this.tools[d].contents){c=this.tools[d];break}c.addContents(b)}})});ig.baked=!0;
ig.module("game.entities.game-light").requires("impact.entity").defines(function(){EntityGameLight=ig.Entity.extend({zIndex:850,type:ig.Entity.TYPE.B,size:{x:215,y:176},relDrawPos:{x:0,y:0},overlayImage:new ig.Image("media/graphics/game/desktop/game/light-overlay_640x480.png"),images:[new ig.Image("media/graphics/game/shared/game/light/light_off.png"),new ig.Image("media/graphics/game/shared/game/light/light_on.png")],image:null,isTurnedOn:!1,shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},init:function(b,
c,d){this.parent(b,c,d);this.image=this.images[0];this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)},ready:function(){this.parent()},draw:function(){this.parent();ig.global.wm?this.image.draw(this.pos.x-ig.game._rscreen.x,this.pos.y-ig.game._rscreen.y):this.image&&(this.isTurnedOn&&this.overlayImage.draw(0,0),this.image.draw(this.pos.x,this.pos.y))},update:function(){this.parent()},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=
this.shownPos.y,this.stopTweens(!1),this.type=ig.Entity.TYPE.B):(null==b&&(b=0.5),this.pos.x==this.shownPos.x&&this.pos.y==this.shownPos.y||(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start(),this.type=ig.Entity.TYPE.B))},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1),this.type=ig.Entity.TYPE.NONE,this.turnOff()):(null==b&&(b=0.5),this.pos.x==this.hiddenPos.x&&
this.pos.y==this.hiddenPos.y||(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start(),this.type=ig.Entity.TYPE.NONE,this.turnOff()))},clicked:function(){this.isTurnedOn?this.turnOff():this.turnOn()},turnOn:function(){this.isTurnedOn=!0;this.image=this.images[1]},turnOff:function(){this.isTurnedOn=!1;this.image=this.images[0]}})});ig.baked=!0;
ig.module("game.entities.game-button-decor").requires("impact.entity").defines(function(){EntityGameButtonDecor=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-right.png",68,68),size:{x:58,y:58},offset:{x:5,y:5},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=
c},ready:function(){this.control=ig.game.getEntitiesByType(EntityGameControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x==this.shownPos.x&&this.pos.y==this.shownPos.y||(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()))},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):
(null==b&&(b=0.5),this.pos.x==this.hiddenPos.x&&this.pos.y==this.hiddenPos.y||(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start()))},released:function(){if(!(0<this.tweens.length)){this.control.table.hide();this.control.light.hide();this.hide();this.tween({},0.5,{easing:ig.Tween.Easing.Elastic.EaseIn,entity:this,onComplete:function(){this.entity.control.showDecorUI()}}).start();try{ig.game.clickSound.play()}catch(b){console.log(b)}}}})});
ig.baked=!0;
ig.module("game.entities.game-button-save").requires("impact.entity").defines(function(){EntityGameButtonSave=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-save.png",68,68),size:{x:58,y:58},offset:{x:5,y:5},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=c},
ready:function(){this.control=ig.game.getEntitiesByType(EntityGameControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x==this.shownPos.x&&this.pos.y==this.shownPos.y||(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()))},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):
(null==b&&(b=0.5),this.pos.x==this.hiddenPos.x&&this.pos.y==this.hiddenPos.y||(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start()))},released:function(){this.control.saveSnapshot();try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.game-button-home").requires("impact.entity","game.entities.home-button-home").defines(function(){EntityGameButtonHome=EntityHomeButtonHome.extend({zIndex:900,control:null,init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.control=ig.game.getEntitiesByType(EntityGameControl)[0];null==this.control&&(this.control=ig.game.getEntitiesByType(EntityGalleryviewControl)[0])},released:function(){this.control&&this.control.goBackToHome();try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});
ig.baked=!0;
ig.module("game.entities.game-button-reset").requires("impact.entity").defines(function(){EntityGameButtonReset=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/button-reset.png",68,68),size:{x:58,y:58},offset:{x:5,y:5},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=ig.system.width+this.offset.x;this.hiddenPos.y=c},
ready:function(){this.control=ig.game.getEntitiesByType(EntityGameControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x==this.shownPos.x&&this.pos.y==this.shownPos.y||(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()))},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):
(null==b&&(b=0.5),this.pos.x==this.hiddenPos.x&&this.pos.y==this.hiddenPos.y||(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start()))},released:function(){this.control.resetCharacter();try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.game-button-kiss").requires("impact.entity").defines(function(){EntityGameButtonKiss=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/decor/button-kiss.png",105,64),size:{x:95,y:54},offset:{x:5,y:5},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=-(this.size.x+this.offset.x);this.hiddenPos.y=
c},ready:function(){this.control=ig.game.getEntitiesByType(EntityGameControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x==this.shownPos.x&&this.pos.y==this.shownPos.y||(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()))},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):
(null==b&&(b=0.5),this.pos.x==this.hiddenPos.x&&this.pos.y==this.hiddenPos.y||(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start()))},released:function(){this.control.kissCharacter();try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.game-tool-base").requires("impact.entity").defines(function(){EntityGameToolBase=ig.Entity.extend({zIndex:2500,_wmIgnore:!0,type:ig.Entity.TYPE.B,pos:{x:0,y:0},size:{x:1,y:1},relDrawPos:{x:0,y:0},alpha:1,relContactBounds:{x:0,y:0,w:0,h:0},toolType:0,table:null,tableRelPos:{x:0,y:0},mouth:null,control:null,image:null,pointer:null,dragLimitX:null,dragLimitY:null,dragRelPos:{x:0,y:0},isDragging:!1,init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.parent();this.pointer=
ig.game.getEntitiesByType(EntityPointer)[0];this.mouth=ig.game.getEntitiesByType(EntityGameMouth)[0];this.control=ig.game.getEntitiesByType(EntityGameControl)[0];if(this.table=ig.game.getEntitiesByType(EntityGameTable)[0])this.tableRelPos.x=this.pos.x-this.table.pos.x,this.tableRelPos.y=this.pos.y-this.table.pos.y;this.table.addTool(this)},draw:function(){this.parent();if(ig.global.wm){var b=this.pos.x+this.relDrawPos.x-ig.game._rscreen.x,c=this.pos.y+this.relDrawPos.y-ig.game._rscreen.y;this.image.draw(b,
c)}else this.image&&(b=this.pos.x+this.relDrawPos.x,c=this.pos.y+this.relDrawPos.y,this.dragLimitX&&(b<this.dragLimitX.floor?b=this.dragLimitX.floor:b+this.size.x>this.dragLimitX.ceil&&(b=this.dragLimitX.ceil-this.size.x)),this.dragLimitY&&(c<this.dragLimitY.floor?c=this.dragLimitY.floor:c+this.size.y>this.dragLimitY.ceil&&(c=this.dragLimitY.ceil-this.size.y)),this.image.draw(b,c))},update:function(){this.parent();this.isDragging&&(this.pos.x=this.pointer.pos.x+this.dragRelPos.x,this.pos.y=this.pointer.pos.y+
this.dragRelPos.y)},clicked:function(){this.isDragging=!0;this.dragRelPos.x=this.pos.x-this.pointer.pos.x;this.dragRelPos.y=this.pos.y-this.pointer.pos.y;this.zIndex+=1E3;ig.game.sortEntitiesDeferred()},lostPointer:function(){},released:function(){if(this.isDragging){this.isDragging=!1;var b={x:0,y:0};b.x=this.table.pos.x+this.tableRelPos.x;b.y=this.table.pos.y+this.tableRelPos.y;this.tween({pos:b},0.5,{easing:ig.Tween.Easing.Quadratic.EaseIn}).start();this.zIndex-=1E3;ig.game.sortEntitiesDeferred()}},
setTable:function(b){this.table=b;this.tableRelPos.x=this.pos.x-this.table.pos.x;this.tableRelPos.y=this.pos.y-this.table.pos.y},updatePosition:function(){this.isDragging||(this.pos.x=this.table.pos.x+this.tableRelPos.x,this.pos.y=this.table.pos.y+this.tableRelPos.y)}})});ig.baked=!0;
ig.module("game.entities.game-tool4").requires("impact.entity","game.entities.game-tool-base").defines(function(){EntityGameTool4=EntityGameToolBase.extend({_wmIgnore:!1,size:{x:20,y:116},relDrawPos:{x:-5,y:0},relContactBounds:{x:0,y:0,w:8,h:8},toolType:4,image:new ig.Image("media/graphics/game/shared/game/toolpics/tool04/tool_04.png"),init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.parent()},update:function(){this.parent();if(this.isDragging){var b=this.pos.y+this.relDrawPos.y,c,d,
e;c=this.pos.x+this.relDrawPos.x+this.relContactBounds.x;b+=this.relContactBounds.y;d=c+this.relContactBounds.w;e=b+this.relContactBounds.h;for(var g=0,j=0,n=0;n<this.mouth.teeth.length;n++){var p=this.mouth.teeth[n],m,s,u,l;m=p.pos.x;s=p.pos.y;u=p.pos.x+p.size.x;l=p.pos.y+p.size.y;m=Math.max(c,m);u=Math.min(d,u);s=Math.max(b,s);l=Math.min(e,l);m<u&&s<l&&(l=(u-m)*(l-s),l>g&&(g=l,this.hitTooth&&(this.hitTooth.alpha=1,this.hitTooth=null),0<p.hasGreen&&(this.hitTooth=p)),j+=1);if(2<=j)break}if(this.hitTooth)if(0==
j)this.hitTooth.alpha=1,this.hitTooth=null;else if(0<this.hitTooth.hasGreen){this.hitTooth.hasGreen-=0.5*ig.system.tick;this.table.addContents(0.125*ig.system.tick);this.control.character.doPain(0.2);try{null==ig.game.clickSound._activeNode()&&ig.game.clickSound.play()}catch(r){console.log(r)}}}},draw:function(){this.parent()},clicked:function(){this.parent();this.control.toolNote.showNoteType(4)},released:function(){this.parent();this.control.toolNote.hide();try{ig.game.clickSound.stop()}catch(b){console.log(b)}this.hitTooth&&
(this.hitTooth.alpha=1,this.hitTooth=null)}})});ig.baked=!0;
ig.module("game.entities.game-tool3").requires("impact.entity","game.entities.game-tool-base").defines(function(){EntityGameTool3=EntityGameToolBase.extend({_wmIgnore:!1,size:{x:20,y:114},relDrawPos:{x:-5,y:0},relContactBounds:{x:0,y:2,w:13,h:30},brushOffset:{x:0,y:0},toolType:3,image:new ig.Image("media/graphics/game/shared/game/toolpics/tool03/tool_03.png"),brushingTween:null,init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.parent()},update:function(){this.parent();if(this.isDragging){var b=
this.pos.y+this.relDrawPos.y,c,d,e;c=this.pos.x+this.relDrawPos.x+this.relContactBounds.x;b+=this.relContactBounds.y;d=c+this.relContactBounds.w;e=b+this.relContactBounds.h;for(var g=0,j=0,n=0;n<this.mouth.teeth.length;n++){var p=this.mouth.teeth[n],m,s,u,l;m=p.pos.x;s=p.pos.y;u=p.pos.x+p.size.x;l=p.pos.y+p.size.y;m=Math.max(c,m);u=Math.min(d,u);s=Math.max(b,s);l=Math.min(e,l);m<u&&s<l&&(l=(u-m)*(l-s),l>g&&(g=l,this.hitTooth&&(this.hitTooth.alpha=1,this.hitTooth=null),0<p.hasYellow&&(this.hitTooth=
p)),j+=1);if(2<=j)break}if(this.hitTooth)if(0==j)this.hitTooth.alpha=1,this.hitTooth=null,this.stopBrushing();else if(0<this.hitTooth.hasYellow){this.hitTooth.hasYellow-=0.3*ig.system.tick;this.table.addContents(0.075*ig.system.tick);this.startBrushing();this.control.character.doPain(0.2);try{null==ig.game.brushSound._activeNode()&&ig.game.brushSound.play()}catch(r){console.log(r)}}else{this.stopBrushing();try{ig.game.brushSound.stop()}catch(x){console.log(x)}}else this.stopBrushing()}},draw:function(){if(ig.global.wm){var b=
this.pos.x+this.relDrawPos.x-ig.game._rscreen.x,c=this.pos.y+this.relDrawPos.y-ig.game._rscreen.y;this.image.draw(b,c)}else this.image&&(b=this.pos.x+this.relDrawPos.x+this.brushOffset.x,c=this.pos.y+this.relDrawPos.y+this.brushOffset.y,this.image.draw(b,c))},clicked:function(){this.parent();this.control.toolNote.showNoteType(1)},released:function(){this.parent();this.control.toolNote.hide();this.hitTooth&&(this.hitTooth.alpha=1,this.hitTooth=null,this.stopBrushing())},startBrushing:function(){this.brushTween||
(this.brushTween=this.tween({brushOffset:{x:-8}},0.05,{easing:ig.Tween.Easing.Quadratic.EaseOut,entity:this,onComplete:function(){this.entity.brushStage2()}}),this.brushTween.start())},brushStage2:function(){this.brushTween=this.tween({brushOffset:{x:8}},0.1,{easing:ig.Tween.Easing.Quadratic.EaseInOut,entity:this,onComplete:function(){this.entity.brushStage3()}});this.brushTween.start()},brushStage3:function(){this.brushTween=this.tween({brushOffset:{x:-8}},0.1,{easing:ig.Tween.Easing.Quadratic.EaseInOut,
entity:this,onComplete:function(){this.entity.brushStage2()}});this.brushTween.start()},stopBrushing:function(){this.brushTween&&!this.brushTween.stopBrushing&&(this.brushTween.stop(!1),this.brushTween=null,this.brushTween=this.tween({brushOffset:{x:0}},0.05,{easing:ig.Tween.Easing.Quadratic.EaseOut,entity:this,stopBrushing:!0,onComplete:function(){this.entity.brushTween=null}}),this.brushTween.start())}})});ig.baked=!0;
ig.module("game.entities.game-tool5").requires("impact.entity","game.entities.game-tool-base").defines(function(){EntityGameTool5=EntityGameToolBase.extend({_wmIgnore:!1,size:{x:36,y:112},relDrawPos:{x:-5,y:0},relContactBounds:{x:0,y:5,w:5,h:9},toolType:5,image:new ig.Image("media/graphics/game/shared/game/toolpics/tool05/tool_05.png"),init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.parent()},update:function(){this.parent();if(this.isDragging){var b=this.pos.y+this.relDrawPos.y,c,d,
e;c=this.pos.x+this.relDrawPos.x+this.relContactBounds.x;b+=this.relContactBounds.y;d=c+this.relContactBounds.w;e=b+this.relContactBounds.h;for(var g=0,j=0,n=0;n<this.mouth.teeth.length;n++){var p=this.mouth.teeth[n],m,s,u,l;m=p.pos.x;s=p.pos.y;u=p.pos.x+p.size.x;l=p.pos.y+p.size.y;m=Math.max(c,m);u=Math.min(d,u);s=Math.max(b,s);l=Math.min(e,l);m<u&&s<l&&(l=(u-m)*(l-s),l>g&&(g=l,this.hitTooth&&(this.hitTooth.alpha=1,this.hitTooth=null),0<p.hasHole&&(this.hitTooth=p)),j+=1);if(2<=j)break}if(this.hitTooth)if(0==
j)this.hitTooth.alpha=1,this.hitTooth=null;else if(0<this.hitTooth.hasHole){this.hitTooth.hasHole-=0.5*ig.system.tick;this.table.addContents(0.125*ig.system.tick);this.control.character.doPain(0.2);try{null==ig.game.drillSound._activeNode()&&ig.game.drillSound.play()}catch(r){console.log(r)}}}},draw:function(){this.parent()},clicked:function(){this.parent();this.control.toolNote.showNoteType(3)},released:function(){this.parent();this.control.toolNote.hide();try{ig.game.drillSound.stop()}catch(b){console.log(b)}this.hitTooth&&
(this.hitTooth.alpha=1,this.hitTooth=null)}})});ig.baked=!0;
ig.module("game.entities.game-popup-base").requires("impact.entity").defines(function(){EntityGamePopupBase=ig.Entity.extend({zIndex:3E3,_wmIgnore:!0,image:new ig.Image("media/graphics/game/shared/game/popup/popup-bg.png"),size:{x:315,y:139},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},children:[],isMoving:!1,hidden:!1,init:function(b,c,d){this.parent(b,c,d);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=b;this.hiddenPos.y=ig.system.height+this.offset.y},ready:function(){},update:function(){this.parent();
this.isMoving&&this.updateChildPositions()},draw:function(){this.parent();var b=this.pos.x,c=this.pos.y;ig.global.wm&&(b=this.pos.x-ig.game._rscreen.x,c=this.pos.y-ig.game._rscreen.y);this.image.draw(b,c)},show:function(b){this.hidden=!1;null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.stopTweens(!1),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Quadratic.EaseOut,entity:this,
onComplete:function(){this.entity.isMoving=!1}}).start(),this.isMoving=!0)},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.stopTweens(!1),this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Quadratic.EaseIn,entity:this,onComplete:function(){this.entity.isMoving=!1;this.entity.hidden=!0;this.entity.kill()}}).start(),this.isMoving=!0)},updateChildPositions:function(){for(var b=
0;b<this.children.length;b++)this.children[b].pos.x=this.pos.x+this.children[b].relPos.x,this.children[b].pos.y=this.pos.y+this.children[b].relPos.y},addChild:function(b){typeof b==ig.Entity&&(b.relPos.x=this.pos.x-b.pos.x,b.relPos.y=this.pos.y-b.pos.y,this.children.push(b))},removeChild:function(b){if(typeof b==ig.Entity)for(var c=0;c<this.children.length;c++)if(this.children[c]==b){this.children.splice(c,1);break}}})});ig.baked=!0;
ig.module("game.entities.game-popup-toothselect").requires("impact.entity").defines(function(){EntityGamePopupToothselect=ig.Entity.extend({zIndex:3010,type:ig.Entity.TYPE.B,_wmIgnore:!0,image:new ig.Image("media/graphics/game/shared/game/popup/tooth00.png"),images:[[new ig.Image("media/graphics/game/shared/game/popup/tooth00.png"),new ig.Image("media/graphics/game/shared/game/popup/tooth01.png")],[new ig.Image("media/graphics/game/shared/game/popup/tooth10.png"),new ig.Image("media/graphics/game/shared/game/popup/tooth11.png")],
[new ig.Image("media/graphics/game/shared/game/popup/tooth20.png"),new ig.Image("media/graphics/game/shared/game/popup/tooth21.png")]],toothType:0,toothDirection:0,size:{x:74,y:79},relPos:{x:0,y:0},parentPopup:null,init:function(b,c,d){this.parent(b,c,d);this.relPos.x=b;this.relPos.y=c},update:function(){this.parent()},draw:function(){this.parent();var b=this.pos.x,c=this.pos.y;ig.global.wm&&(b=this.pos.x-ig.game._rscreen.x,c=this.pos.y-ig.game._rscreen.y);this.image.draw(b,c)},setToothselect:function(b,
c){this.toothType=b;this.toothDirection=c;this.image=this.images[b][c];2==b&&(this.size.y=66)},clicked:function(){if(this.parentPopup&&this.parentPopup.callingTool){this.parentPopup.callingTool.selectToothType(this.toothType);try{ig.game.changetoothSound.play()}catch(b){console.log(b)}}}})});ig.baked=!0;
ig.module("game.entities.game-popup-replace").requires("impact.entity","game.entities.game-popup-base","game.entities.game-popup-toothselect").defines(function(){EntityGamePopupReplace=EntityGamePopupBase.extend({options:[],toothOrientation:0,numCols:3,numRows:1,itemWPadding:10,itemHPadding:10,maxW:0,maxH:0,maxRowH:0,callingTool:null,init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.parent()},update:function(){this.parent();this.isMoving&&this.setOptionsPositions();!this.hidden&&this.callingTool&&
this.callingTool.control.character.doPain(1)},draw:function(){this.parent()},setupSelections:function(){for(var b=0;3>b;b++){var c=ig.game.spawnEntity(EntityGamePopupToothselect,0,0);c.setToothselect(b,this.toothOrientation);c.parentPopup=this;this.options.push(c)}for(var d=c=0,e=0,g=0,b=0;b<this.options.length;b++){var j=this.options[b].size.x,n=this.options[b].size.y;0==b%this.numCols?(e>c&&(c=e),g>d&&(d=g),e=j,g=n):(e+=j+this.itemWPadding,n>g&&(g=n))}e>c&&(c=e);g>d&&(d=g);this.maxW=c;this.maxH=
d*this.numRows;this.maxRowH=d;1<this.numRows&&(this.maxH+=(this.numRows-1)*this.itemHPadding);this.setOptionsPositions();ig.game.sortEntitiesDeferred()},show:function(b){null!=b&&0>=b?(this.parent(b),this.setOptionsPositions()):(this.parent(b),this.setupSelections())},setOptionsPositions:function(){for(var b=this.pos.x+(this.size.x-this.maxW)/2,c=this.pos.y+(this.size.y-this.maxH)/2,d=0;d<this.options.length;d++){var e=Math.floor(d/this.numCols);this.options[d].pos.x=b+d%this.numCols*(this.options[d].size.x+
this.itemWPadding);this.options[d].pos.y=c+e*(this.options[d].size.y+this.itemHPadding);1==this.options[d].toothDirection&&(this.options[d].pos.y+=this.maxRowH-this.options[d].size.y)}}})});ig.baked=!0;
ig.module("game.entities.game-tool1").requires("impact.entity","game.entities.game-tool-base","game.entities.game-popup-replace").defines(function(){EntityGameTool1=EntityGameToolBase.extend({_wmIgnore:!1,size:{x:64,y:115},relDrawPos:{x:-10,y:0},relContactBounds:{x:37,y:0,w:10,h:26},toolType:1,hitTooth:null,image:new ig.Image("media/graphics/game/shared/game/toolpics/tool01/tool_01.png"),init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.parent()},update:function(){this.parent();if(this.isDragging){var b=
this.pos.y+this.relDrawPos.y,c,d,e;c=this.pos.x+this.relDrawPos.x+this.relContactBounds.x;b+=this.relContactBounds.y;d=c+this.relContactBounds.w;e=b+this.relContactBounds.h;for(var g=0,j=0,n=0;n<this.mouth.teeth.length;n++){var p=this.mouth.teeth[n],m,s,u,l;m=p.pos.x;s=p.pos.y;u=p.pos.x+p.size.x;l=p.pos.y+p.size.y;m=Math.max(c,m);u=Math.min(d,u);s=Math.max(b,s);l=Math.min(e,l);m<u&&s<l&&(l=(u-m)*(l-s),l>g&&(g=l,this.hitTooth&&(this.hitTooth.alpha=1,this.hitTooth=null),0<p.hasBlack&&(this.hitTooth=
p,this.hitTooth.alpha=0.75)),j+=1);if(2<=j)break}this.hitTooth&&(0==j?(this.hitTooth.alpha=1,this.hitTooth=null):this.control.character.doPain(1))}},draw:function(){this.parent()},clicked:function(){this.parent();this.control.toolNote.showNoteType(0)},released:function(){this.parent();this.control.toolNote.hide();this.hitTooth&&(8>this.hitTooth.toothId?this.table.showPopupReplace(0,this):this.table.showPopupReplace(1,this))},selectToothType:function(b){this.hitTooth&&(this.hitTooth.setToothType(b),
this.hitTooth.resetProblems(),this.hitTooth.alpha=1,this.hitTooth=null,this.table.hidePopupReplace(),this.table.addContents(0.25))}})});ig.baked=!0;
ig.module("game.entities.game-tool-note").requires("impact.entity").defines(function(){EntityGameToolNote=ig.Entity.extend({zIndex:2500,size:{x:85,y:85},relDrawPos:{x:0,y:0},alpha:1,mouth:null,noteType:0,noteImages:[new ig.Image("media/graphics/game/shared/game/note/note00.png"),new ig.Image("media/graphics/game/shared/game/note/note01.png"),new ig.Image("media/graphics/game/shared/game/note/note02.png"),new ig.Image("media/graphics/game/shared/game/note/note03.png"),new ig.Image("media/graphics/game/shared/game/note/note04.png")],
image:null,shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},init:function(b,c,d){this.parent(b,c,d);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=-(this.size.x+2*this.offset.x);this.hiddenPos.y=c},ready:function(){this.parent()},showNoteType:function(b){0>b||b>=this.noteImages.length||(this.noteType=b,this.image=this.noteImages[b],this.show())},draw:function(){this.parent();ig.global.wm?this.noteImages[0].draw(this.pos.x-ig.game._rscreen.x,this.pos.y-ig.game._rscreen.y):this.image&&this.image.draw(this.pos.x,
this.pos.y)},update:function(){this.parent()},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.stopTweens(!1),this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start())},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.stopTweens(!1),this.pos.x=this.shownPos.x,
this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn,entity:this,onComplete:function(){this.entity.image=null}}).start())}})});ig.baked=!0;
ig.module("game.entities.game-tool6").requires("impact.entity","game.entities.game-tool-base").defines(function(){EntityGameTool6=EntityGameToolBase.extend({_wmIgnore:!1,size:{x:65,y:110},relDrawPos:{x:0,y:0},relContactBounds:{x:0,y:0,w:8,h:30},toolType:6,image:new ig.Image("media/graphics/game/shared/game/toolpics/tool06/tool_06.png"),init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.parent();this.dragLimitY={floor:0,ceil:0};this.dragLimitY.floor=this.mouth.water.pos.y-20;this.dragLimitY.ceil=
ig.system.height+this.size.y},update:function(){this.parent();if(this.isDragging){var b=this.pos.x+this.relDrawPos.x,c=this.pos.y+this.relDrawPos.y;this.dragLimitX&&(b<this.dragLimitX.floor?b=this.dragLimitX.floor:b+this.size.x>this.dragLimitX.ceil&&(b=this.dragLimitX.ceil-this.size.x));this.dragLimitY&&(c<this.dragLimitY.floor?c=this.dragLimitY.floor:c+this.size.y>this.dragLimitY.ceil&&(c=this.dragLimitY.ceil-this.size.y));var d,e,b=b+this.relContactBounds.x,c=c+this.relContactBounds.y;d=b+this.relContactBounds.w;
e=c+this.relContactBounds.h;var g,j,n,p;g=this.mouth.water.pos.x;j=this.mouth.water.pos.y;n=this.mouth.water.pos.x+this.mouth.water.size.x;p=this.mouth.water.pos.y+this.mouth.water.size.y;if(b<n&&d>g&&c<p&&e>j){this.mouth.water.drain();try{null==ig.game.absorbSound._activeNode()&&ig.game.absorbSound.play()}catch(m){console.log(m)}}else try{ig.game.absorbSound.stop()}catch(s){console.log(s)}}},draw:function(){this.parent()},clicked:function(){this.parent()},released:function(){this.parent();try{ig.game.absorbSound.stop()}catch(b){console.log(b)}}})});
ig.baked=!0;
ig.module("game.entities.game-tool2").requires("impact.entity","game.entities.game-tool-base").defines(function(){EntityGameTool2=EntityGameToolBase.extend({_wmIgnore:!1,size:{x:24,y:122},relDrawPos:{x:-5,y:0},relContactBounds:{x:14,y:0,w:8,h:8},toolType:2,hitTooth:null,image:new ig.Image("media/graphics/game/shared/game/toolpics/tool02/tool_02.png"),init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.parent()},update:function(){this.parent();if(this.isDragging){var b=this.pos.y+this.relDrawPos.y,
c,d,e;c=this.pos.x+this.relDrawPos.x+this.relContactBounds.x;b+=this.relContactBounds.y;d=c+this.relContactBounds.w;e=b+this.relContactBounds.h;for(var g=0,j=0,n=0;n<this.mouth.teeth.length;n++){var p=this.mouth.teeth[n],m,s,u,l;m=p.pos.x;s=p.pos.y;u=p.pos.x+p.size.x;l=p.pos.y+p.size.y;m=Math.max(c,m);u=Math.min(d,u);s=Math.max(b,s);l=Math.min(e,l);m<u&&s<l&&(l=(u-m)*(l-s),l>g&&(g=l,this.hitTooth&&(this.hitTooth.alpha=1,this.hitTooth=null),0<p.hasPlaque&&(this.hitTooth=p)),j+=1);if(2<=j)break}if(this.hitTooth)if(0==
j)this.hitTooth.alpha=1,this.hitTooth=null;else if(0<this.hitTooth.hasPlaque){this.hitTooth.hasPlaque-=0.5*ig.system.tick;this.table.addContents(0.125*ig.system.tick);this.control.character.doPain(0.2);try{null==ig.game.drillSound._activeNode()&&ig.game.drillSound.play()}catch(r){console.log(r)}}}},draw:function(){this.parent()},clicked:function(){this.parent();this.control.toolNote.showNoteType(2)},released:function(){this.parent();this.control.toolNote.hide();try{ig.game.drillSound.stop()}catch(b){console.log(b)}this.hitTooth&&
(this.hitTooth.alpha=1,this.hitTooth=null)}})});ig.baked=!0;
ig.module("game.entities.game-tool0").requires("impact.entity","game.entities.game-tool-base").defines(function(){EntityGameTool0=EntityGameToolBase.extend({_wmIgnore:!1,size:{x:48,y:180},relDrawPos:{x:-191,y:0},relContactBounds:{x:283,y:30,w:27,h:28},toolType:0,image:new ig.Image("media/graphics/game/shared/game/toolpics/tool00/tool_00.png"),animImages:[new ig.Image("media/graphics/game/shared/game/toolpics/tool00/spray-anim/00.png"),new ig.Image("media/graphics/game/shared/game/toolpics/tool00/spray-anim/01.png"),new ig.Image("media/graphics/game/shared/game/toolpics/tool00/spray-anim/02.png")],
animFrame:0,animTimer:null,animFps:4,init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.parent();this.dragLimitY={floor:0,ceil:0};this.dragLimitY.floor=this.mouth.pos.y;this.dragLimitY.ceil=ig.system.height+this.size.y},update:function(){this.parent();if(this.animTimer){var b=this.animTimer.delta(),c=this.animFps;if(0<=b){var c=1/c,d=1+Math.floor(b/c);this.animTimer.set(c-b%c);this.animFrame+=d;this.animFrame>=this.animImages.length&&(this.animFrame=0)}}if(this.isDragging){b=this.pos.x+
this.relDrawPos.x;c=this.pos.y+this.relDrawPos.y;this.dragLimitX&&(b<this.dragLimitX.floor?b=this.dragLimitX.floor:b+this.size.x>this.dragLimitX.ceil&&(b=this.dragLimitX.ceil-this.size.x));this.dragLimitY&&(c<this.dragLimitY.floor?c=this.dragLimitY.floor:c+this.size.y>this.dragLimitY.ceil&&(c=this.dragLimitY.ceil-this.size.y));var e,b=b+this.relContactBounds.x,c=c+this.relContactBounds.y,d=b+this.relContactBounds.w;e=c+this.relContactBounds.h;var g,j,n,p;g=this.mouth.water.pos.x;j=this.mouth.water.pos.y;
n=this.mouth.water.pos.x+this.mouth.water.size.x;p=this.mouth.water.pos.y+this.mouth.water.size.y;if(b<n&&d>g&&c<p&&e>j){this.startAnim();this.mouth.water.fill();try{null==ig.game.showerSound._activeNode()&&ig.game.showerSound.play()}catch(m){console.log(m)}}else{this.stopAnim();try{ig.game.showerSound.stop()}catch(s){console.log(s)}}}},draw:function(){if(ig.global.wm){var b=this.pos.x+this.relDrawPos.x-ig.game._rscreen.x,c=this.pos.y+this.relDrawPos.y-ig.game._rscreen.y;this.image.draw(b,c)}else this.animTimer&&
(b=this.pos.x+this.relDrawPos.x,c=this.pos.y+this.relDrawPos.y,this.dragLimitX&&(b<this.dragLimitX.floor?b=this.dragLimitX.floor:b+this.size.x>this.dragLimitX.ceil&&(b=this.dragLimitX.ceil-this.size.x)),this.dragLimitY&&(c<this.dragLimitY.floor?c=this.dragLimitY.floor:c+this.size.y>this.dragLimitY.ceil&&(c=this.dragLimitY.ceil-this.size.y)),0<=this.animFrame&&this.animFrame<this.animImages.length&&this.animImages[this.animFrame].draw(b,c)),this.parent()},startAnim:function(){if(!this.animTimer){var b=
1/this.animFps;this.animTimer=new ig.Timer;this.animTimer.set(b);this.animFrame=0}},stopAnim:function(){this.animTimer=null;try{ig.game.showerSound.stop()}catch(b){console.log(b)}},clicked:function(){this.parent()},released:function(){this.parent();this.stopAnim()}})});ig.baked=!0;
ig.module("game.entities.game-tool7").requires("impact.entity","game.entities.game-tool-base").defines(function(){EntityGameTool7=EntityGameToolBase.extend({_wmIgnore:!1,size:{x:40,y:151},relDrawPos:{x:-5,y:0},relContactBounds:{x:17,y:0,w:15,h:11},toolType:7,image:new ig.Image("media/graphics/game/shared/game/toolpics/tool07/00.png"),animImages:[new ig.Image("media/graphics/game/shared/game/toolpics/tool07/00.png"),new ig.Image("media/graphics/game/shared/game/toolpics/tool07/01.png"),new ig.Image("media/graphics/game/shared/game/toolpics/tool07/02.png"),
new ig.Image("media/graphics/game/shared/game/toolpics/tool07/03.png")],animFps:10,animTimer:null,animFrame:0,contents:1,contentsDrainRate:2,init:function(b,c,d){this.parent(b,c,d)},ready:function(){this.parent()},update:function(){this.parent();if(this.isDragging){var b=this.pos.y+this.relDrawPos.y,c,d,e;c=this.pos.x+this.relDrawPos.x+this.relContactBounds.x;b+=this.relContactBounds.y;d=c+this.relContactBounds.w;e=b+this.relContactBounds.h;for(var g=0,j=0,n=0;n<this.mouth.teeth.length;n++){var p=
this.mouth.teeth[n],m,s,u,l;m=p.pos.x;s=p.pos.y;u=p.pos.x+p.size.x;l=p.pos.y+p.size.y;m=Math.max(c,m);u=Math.min(d,u);s=Math.max(b,s);l=Math.min(e,l);if(m<u&&s<l){l=(u-m)*(l-s);if(l>g&&(g=l,this.hitTooth&&(this.hitTooth.alpha=1,this.hitTooth=null),0<p.hasBlack||0<p.hasYellow||0<p.hasPlaque||0<p.hasGreen||0<p.hasHole))this.hitTooth=p,this.hitTooth.alpha=0.75;j+=1}if(2<=j)break}this.hitTooth&&(0==j?(this.hitTooth.alpha=1,this.hitTooth=null):this.control.character.doPain(1))}c=0;c=0==this.contents?this.animImages.length-
1:1==this.contents?0:1+Math.floor((1-this.contents)*(this.animImages.length-1));this.animFrame!=c&&this.setAnimFrame(c)},draw:function(){this.parent()},clicked:function(){this.parent()},released:function(){if(this.isDragging){this.isDragging=!1;var b={x:0,y:0};b.x=this.table.pos.x+this.tableRelPos.x;b.y=this.table.pos.y+this.tableRelPos.y;var c=0;if(this.hitTooth){if(0<this.hitTooth.hasBlack||0<this.hitTooth.hasYellow||0<this.hitTooth.hasPlaque||0<this.hitTooth.hasGreen||0<this.hitTooth.hasHole){this.drainContents();
c=1/this.contentsDrainRate;try{ig.game.buttonSound.play()}catch(d){console.log(d)}}this.hitTooth.alpha=1;this.hitTooth=null}this.tween({pos:b},0.5,{easing:ig.Tween.Easing.Quadratic.EaseIn,delay:c}).start();this.control.character.doPain(1);this.zIndex-=1E3;ig.game.sortEntitiesDeferred()}},drainContents:function(){if(!(1>this.contents)){var b=1/this.contentsDrainRate;this.tween({contents:0},b,{easing:ig.Tween.Easing.Linear.EaseNone}).start();b*=0.75;this.hitTooth.tween({hasBlack:0,hasYellow:0,hasPlaque:0,
hasGreen:0,hasHole:0},1,{easing:ig.Tween.Easing.Quadratic.EaseIn,delay:b}).start()}},addContents:function(b){1<=this.contents||(this.contents+=b,1<this.contents&&(this.contents=1))},setAnimFrame:function(b){0>b||b>=this.animImages.length||(this.animFrame=b,this.image=this.animImages[this.animFrame])}})});ig.baked=!0;
ig.module("game.entities.game-decor-box").requires("impact.entity").defines(function(){EntityGameDecorBox=ig.Entity.extend({zIndex:3E3,image:new ig.Image("media/graphics/game/desktop/decor/box.png"),size:{x:129,y:350},backgroundColor:"fff8d6",backgroundPos:{x:10,y:31,w:109,h:245},categoryButtonImages:[new ig.Image("media/graphics/game/shared/decor/button-sticker.png"),new ig.Image("media/graphics/game/shared/decor/button-decor.png"),new ig.Image("media/graphics/game/shared/decor/button-bg.png")],
categoryButtonPositions:[{x:6,y:300,w:40,h:40},{x:44,y:300,w:40,h:40},{x:82,y:300,w:40,h:40}],pageUpButtonImage:new ig.Image("media/graphics/game/desktop/decor/button-left.png"),pageUpButtonPos:{x:41,y:10,w:45,h:20},pageDownButtonImage:new ig.Image("media/graphics/game/desktop/decor/button-right.png"),pageDownButtonPos:{x:41,y:280,w:45,h:19},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,pointer:null,curCategory:0,curPage:0,items:[[[{id:0,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_01.png"),
pos:{x:38,y:20,w:32,h:29}},{id:1,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_02.png"),pos:{x:13,y:79,w:82,h:78}},{id:2,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_03.png"),pos:{x:27,y:167,w:54,h:53}}],[{id:3,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_04.png"),pos:{x:30,y:16,w:48,h:47}},{id:4,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_05.png"),pos:{x:29,
y:87,w:50,h:63}},{id:5,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_06.png"),pos:{x:30,y:174,w:48,h:50}}]],[[{id:0,image:new ig.Image("media/graphics/game/desktop/decor/thumbnails/items/decor_bow.png"),pos:{x:11,y:1,w:90,h:83}},{id:1,image:new ig.Image("media/graphics/game/desktop/decor/thumbnails/items/decor_glitter.png"),pos:{x:34,y:97,w:44,h:55}},{id:2,image:new ig.Image("media/graphics/game/desktop/decor/thumbnails/items/decor_flower.png"),pos:{x:13,y:158,w:86,
h:86}}],[{id:3,image:new ig.Image("media/graphics/game/desktop/decor/thumbnails/items/decor_angel_wing_r.png"),pos:{x:7,y:0,w:67,h:74}},{id:4,image:new ig.Image("media/graphics/game/desktop/decor/thumbnails/items/decor_angel_wing_l.png"),pos:{x:39,y:62,w:67,h:75}},{id:5,image:new ig.Image("media/graphics/game/desktop/decor/thumbnails/items/decor_devil_wing_r.png"),pos:{x:12,y:120,w:58,h:71}},{id:6,image:new ig.Image("media/graphics/game/desktop/decor/thumbnails/items/decor_devil_wing_l.png"),pos:{x:43,
y:172,w:59,h:73}}],[{id:7,image:new ig.Image("media/graphics/game/desktop/decor/thumbnails/items/decor_horn.png"),pos:{x:9,y:17,w:94,h:63}},{id:8,image:new ig.Image("media/graphics/game/desktop/decor/thumbnails/items/decor_sunglass.png"),pos:{x:21,y:93,w:70,h:149}}]],[[{id:0,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/bg/bg_01.png"),pos:{x:1,y:9,w:108,h:109}},{id:1,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/bg/bg_02.png"),pos:{x:1,y:126,w:108,h:109}}],[{id:2,
image:new ig.Image("media/graphics/game/shared/decor/thumbnails/bg/bg_03.png"),pos:{x:1,y:9,w:108,h:109}},{id:3,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/bg/bg_04.png"),pos:{x:1,y:126,w:108,h:109}}]]],init:function(b,c,d){this.parent(b,c,d);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=-(this.size.x+this.offset.x);this.hiddenPos.y=c},ready:function(){this.control=ig.game.getEntitiesByType(EntityGameControl)[0];this.pointer=ig.game.getEntitiesByType(EntityPointer)[0]},
draw:function(){var b=this.pos.x-this.offset.x-ig.game._rscreen.x+this.backgroundPos.x,c=this.pos.y-this.offset.y-ig.game._rscreen.y+this.backgroundPos.y;ig.system.context.fillStyle="#fff8d6";ig.system.context.fillRect(b,c,this.backgroundPos.w,this.backgroundPos.h);for(var d=this.items[this.curCategory][this.curPage],e=0;e<d.length;e++){var g=d[e],b=this.pos.x-this.offset.x-ig.game._rscreen.x+this.backgroundPos.x+g.pos.x,c=this.pos.y-this.offset.y-ig.game._rscreen.y+this.backgroundPos.y+g.pos.y;g.image.draw(b,
c)}b=this.pos.x-this.offset.x-ig.game._rscreen.x;c=this.pos.y-this.offset.y-ig.game._rscreen.y;this.image.draw(b,c);for(e=0;e<this.categoryButtonImages.length;e++)b=this.pos.x-this.offset.x-ig.game._rscreen.x+this.categoryButtonPositions[e].x,c=this.pos.y-this.offset.y-ig.game._rscreen.y+this.categoryButtonPositions[e].y,this.categoryButtonImages[e].draw(b,c);b=this.pos.x-this.offset.x-ig.game._rscreen.x+this.pageUpButtonPos.x;c=this.pos.y-this.offset.y-ig.game._rscreen.y+this.pageUpButtonPos.y;this.pageUpButtonImage.draw(b,
c);b=this.pos.x-this.offset.x-ig.game._rscreen.x+this.pageDownButtonPos.x;c=this.pos.y-this.offset.y-ig.game._rscreen.y+this.pageDownButtonPos.y;this.pageDownButtonImage.draw(b,c)},update:function(){this.parent();if(!this.control.popupSavestatus||this.control.popupSavestatus.hidden)(!(null!=this.control&&null!=this.control.decorator)||!(-1<this.control.decorator.getClickedDecorId()||-1<this.control.decorator.getClickedStickerId()))&&this.pointerClickDetect()},show:function(b){null!=b&&0>=b?(this.pos.x=
this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x==this.shownPos.x&&this.pos.y==this.shownPos.y||(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()))},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x==this.hiddenPos.x&&this.pos.y==this.hiddenPos.y||(this.pos.x=this.shownPos.x,this.pos.y=
this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start()))},pointerClickDetect:function(){if(ig.input.pressed("click")){this.pointer.refreshPos();var b=null,c,d,e,g;c=this.pointer.pos.x;d=this.pointer.pos.y;e=c+this.pointer.size.x;g=d+this.pointer.size.y;var j=0,n=0,p=this.pageUpButtonPos,m,s,u;m=this.pos.x+p.x;s=this.pos.y+p.y;u=m+p.w;p=s+p.h;m=Math.max(c,m);u=Math.min(e,u);s=Math.max(d,s);p=Math.min(g,p);if(m<u&&s<p){this.curPage-=1;0>this.curPage&&(this.curPage=
0);try{ig.game.clickSound.play()}catch(l){console.log(l)}}else if(p=this.pageDownButtonPos,m=this.pos.x+p.x,s=this.pos.y+p.y,u=m+p.w,p=s+p.h,m=Math.max(c,m),u=Math.min(e,u),s=Math.max(d,s),p=Math.min(g,p),m<u&&s<p){b=this.items[this.curCategory].length-1;this.curPage+=1;this.curPage>b&&(this.curPage=b);try{ig.game.clickSound.play()}catch(r){console.log(r)}}else{for(var x=0;x<this.categoryButtonPositions.length&&!(p=this.categoryButtonPositions[x],m=this.pos.x+p.x,s=this.pos.y+p.y,u=m+p.w,p=s+p.h,
m=Math.max(c,m),u=Math.min(e,u),s=Math.max(d,s),p=Math.min(g,p),m<u&&s<p&&(s=(u-m)*(p-s),s>j&&(j=s,b=x),n+=1),2<=n);x++);if(null!=b){this.curCategory=b;this.curPage=0;try{ig.game.clickSound.play()}catch(D){console.log(D)}}else{for(var n=j=0,K=this.items[this.curCategory][this.curPage],x=0;x<K.length&&!(p=K[x].pos,m=this.pos.x+this.backgroundPos.x+p.x,s=this.pos.y+this.backgroundPos.y+p.y,u=m+p.w,p=s+p.h,m=Math.max(c,m),u=Math.min(e,u),s=Math.max(d,s),p=Math.min(g,p),m<u&&s<p&&(s=(u-m)*(p-s),s>j&&
(j=s,b=K[x].id),n+=1),2<=n);x++);null!=b&&this.clickedOnDecor(this.curCategory,b)}}}},clickedOnDecor:function(b,c){0==b?this.control.decorator.addStickerToPointer(c):1==b?this.control.decorator.addDecorToPointer(c):2==b&&this.control.background.setBackgroundId(c)}})});ig.baked=!0;
ig.module("game.entities.game-kisser").requires("impact.entity").defines(function(){EntityGameKisser=ig.Entity.extend({zIndex:1E4,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},character:null,animImages:[new ig.Image("media/graphics/game/shared/game/kiss/00.png"),new ig.Image("media/graphics/game/shared/game/kiss/01.png"),new ig.Image("media/graphics/game/shared/game/kiss/02.png"),new ig.Image("media/graphics/game/shared/game/kiss/03.png"),new ig.Image("media/graphics/game/shared/game/kiss/04.png")],
image:null,animFrame:0,animFps:12,animTimer:null,draw:function(){this.parent();this.image&&this.image.draw(0.5*(ig.system.width-this.image.data.width),0.5*(ig.system.height-this.image.data.height))},update:function(){this.parent();if(this.animTimer){var b=this.animTimer.delta(),c=this.animFps;if(0<=b){var c=1/c,d=1+Math.floor(b/c);this.animTimer.set(c-b%c);this.animFrame+=d;this.animFrame>=this.animImages.length?(this.animFrame=0,this.animTimer=this.image=null):this.image=this.animImages[this.animFrame];
2==this.animFrame&&(this.character.hasKissmark+=1)}}},startAnim:function(){if(!this.animTimer){var b=1/this.animFps;this.animTimer=new ig.Timer;this.animTimer.set(b);this.animFrame=0}},stopAnim:function(){this.image=this.animTimer=null}})});ig.baked=!0;
ig.module("game.entities.game-puncher").requires("impact.entity").defines(function(){EntityGamePuncher=ig.Entity.extend({zIndex:1E4,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},character:null,animImages:[new ig.Image("media/graphics/game/shared/game/punch/00.png"),new ig.Image("media/graphics/game/shared/game/punch/01.png"),new ig.Image("media/graphics/game/shared/game/punch/02.png"),new ig.Image("media/graphics/game/shared/game/punch/00.png")],image:null,animFrame:0,animFps:12,
animTimer:null,draw:function(){this.parent();this.image&&this.image.draw(0.5*(ig.system.width-this.image.data.width),0.5*(ig.system.height-this.image.data.height))},update:function(){this.parent();if(this.animTimer){var b=this.animTimer.delta(),c=this.animFps;if(0<=b){var c=1/c,d=1+Math.floor(b/c);this.animTimer.set(c-b%c);this.animFrame+=d;this.animFrame>=this.animImages.length?(this.animFrame=0,this.animTimer=this.image=null):this.image=this.animImages[this.animFrame];2==this.animFrame&&(this.character.hasBruise=
!0,this.character.doPain(0.5))}}},startAnim:function(){if(!this.animTimer){var b=1/this.animFps;this.animTimer=new ig.Timer;this.animTimer.set(b);this.animFrame=0}},stopAnim:function(){this.image=this.animTimer=null}})});ig.baked=!0;
ig.module("game.entities.game-decorator").requires("impact.entity").defines(function(){EntityGameDecorator=ig.Entity.extend({zIndex:4E3,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},alpha:1,control:null,stickerData:[{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_00.png"),aabb:{x:-5,y:-4,w:10,h:9}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_01.png"),aabb:{x:-10,y:-10,w:20,h:20}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_02.png"),
aabb:{x:-7,y:-7,w:15,h:15}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_03.png"),aabb:{x:-7,y:-7,w:14,h:14}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_04.png"),aabb:{x:-6,y:-9,w:13,h:18}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/sticker/sticker_05.png"),aabb:{x:-6,y:-6,w:13,h:13}}],decorData:[{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_bow.png"),aabb:{x:-72,y:-65,w:145,h:130}},
{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_glitter.png"),aabb:{x:-20,y:-25,w:40,h:51}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_flower.png"),aabb:{x:-56,y:-56,w:112,h:112}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_angel_wing_r.png"),aabb:{x:-80,y:-36,w:160,h:73}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_angel_wing_l.png"),aabb:{x:-80,y:-36,w:160,h:73}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_devil_wing_r.png"),
aabb:{x:-72,y:-37,w:145,h:74}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_devil_wing_l.png"),aabb:{x:-72,y:-37,w:145,h:74}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_horn.png"),aabb:{x:-124,y:-36,w:249,h:73}},{image:new ig.Image("media/graphics/game/shared/decor/fullsize/decor/decor_sunglass.png"),aabb:{x:-101,y:-28,w:203,h:56}}],stickerlist:[],decorlist:[],pointer:null,isDragging:!1,draggingSticker:!1,draggingDecor:!1,draggedId:0,snapshotMode:!1,
ready:function(){this.pointer=ig.game.getEntitiesByType(EntityPointer)[0]},draw:function(){this.parent();ig.system.context.globalAlpha=this.alpha;for(var b=0;b<this.stickerlist.length;b++){var c=this.stickerlist[b].stickerId,d=this.stickerlist[b].pos.x+this.stickerData[c].aabb.x,e=this.stickerlist[b].pos.y+this.stickerData[c].aabb.y;this.stickerData[c].image.draw(d,e)}for(b=0;b<this.decorlist.length;b++)c=this.decorlist[b].decorId,d=this.decorlist[b].pos.x+this.decorData[c].aabb.x,e=this.decorlist[b].pos.y+
this.decorData[c].aabb.y,this.decorData[c].image.draw(d,e);ig.system.context.globalAlpha=1},update:function(){this.parent();if(!this.snapshotMode)if(this.control.popupSavestatus&&!this.control.popupSavestatus.hidden)this.control.popupSavestatus.touches(this.pointer)&&(this.draggingSticker&&this.checkDraggedStickerTeethContact(),this.isDragging=!1);else if(this.isDragging)ig.input.released("click")?(this.draggingSticker&&this.checkDraggedStickerTeethContact(),this.isDragging=!1):(this.pointer.refreshPos(),
this.draggingSticker?(this.stickerlist[this.draggedId].pos.x=this.pointer.pos.x+0.5*this.pointer.size.x,this.stickerlist[this.draggedId].pos.y=this.pointer.pos.y+0.5*this.pointer.size.y):this.draggingDecor&&(this.decorlist[this.draggedId].pos.x=this.pointer.pos.x+0.5*this.pointer.size.x,this.decorlist[this.draggedId].pos.y=this.pointer.pos.y+0.5*this.pointer.size.y));else{var b=this.getClickedStickerId();-1<b?(this.draggingSticker=!0,this.draggingDecor=!1,this.draggedId=b,this.isDragging=!0):(b=this.getClickedDecorId(),
-1<b&&(this.draggingSticker=!1,this.draggingDecor=!0,this.draggedId=b,this.isDragging=!0))}},getClickedStickerId:function(){if(ig.input.pressed("click")){this.pointer.refreshPos();var b=null,c,d,e,g;c=this.pointer.pos.x;d=this.pointer.pos.y;e=c+this.pointer.size.x;g=d+this.pointer.size.y;for(var j=0,n=0,p=0;p<this.stickerlist.length;p++){var m=this.stickerlist[p].pos,s=this.stickerData[this.stickerlist[p].stickerId].aabb,u,l;u=m.x+s.x;m=m.y+s.y;l=u+s.w;s=m+s.h;u=Math.max(c,u);l=Math.min(e,l);m=Math.max(d,
m);s=Math.min(g,s);u<l&&m<s&&(m=(l-u)*(s-m),m>j&&(j=m,b=p),n+=1);if(2<=n)break}if(null!=b)return b}return-1},getClickedDecorId:function(){if(ig.input.pressed("click")){this.pointer.refreshPos();var b=null,c,d,e,g;c=this.pointer.pos.x;d=this.pointer.pos.y;e=c+this.pointer.size.x;g=d+this.pointer.size.y;for(var j=0,n=0,p=0;p<this.decorlist.length;p++){var m=this.decorlist[p].pos,s=this.decorData[this.decorlist[p].decorId].aabb,u,l;u=m.x+s.x;m=m.y+s.y;l=u+s.w;s=m+s.h;u=Math.max(c,u);l=Math.min(e,l);
m=Math.max(d,m);s=Math.min(g,s);u<l&&m<s&&(m=(l-u)*(s-m),m>j&&(j=m,b=p),n+=1);if(2<=n)break}if(null!=b)return b}return-1},checkDraggedStickerTeethContact:function(){if(!(0>this.draggedId||this.draggedId>=this.stickerlist.length)){var b=this.stickerlist[this.draggedId].pos,c=this.stickerData[this.stickerlist[this.draggedId].stickerId].aabb,d=null,e,g,j;e=b.x+c.x;g=b.y+c.y;j=e+c.w;for(var c=g+c.h,n=0,p=0,m=this.control.character.mouth.teeth,s=0;s<m.length;s++){var b=m[s].pos,u,l,r;u=b.x;l=b.y;r=u+m[s].size.x;
b=l+m[s].size.y;u=Math.max(e,u);r=Math.min(j,r);l=Math.max(g,l);b=Math.min(c,b);u<r&&l<b&&(b=(r-u)*(b-l),b>n&&(n=b,d=s),p+=1);if(2<=p)break}null!=d?(this.stickerlist[this.draggedId].pos.x=m[d].pos.x+0.5*m[d].size.x,this.stickerlist[this.draggedId].pos.y=m[d].pos.y+0.5*m[d].size.y):this.stickerlist.splice(this.draggedId,1)}},animatedRemoveAll:function(){this.tween({alpha:0},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,entity:this,onComplete:function(){this.entity.removeAll();this.entity.alpha=1}}).start()},
removeAll:function(){this.stickerlist=[];this.decorlist=[]},addDecorToPointer:function(b){this.pointer.refreshPos();var c={};c.decorId=b;c.pos={};c.pos.x=this.pointer.pos.x;c.pos.y=this.pointer.pos.y;b=this.decorlist.push(c);ig.input.pressed("click")&&(this.draggingSticker=!1,this.draggingDecor=!0,this.draggedId=b-1,this.isDragging=!0)},addStickerToPointer:function(b){this.pointer.refreshPos();var c={};c.stickerId=b;c.pos={};c.pos.x=this.pointer.pos.x;c.pos.y=this.pointer.pos.y;b=this.stickerlist.push(c);
ig.input.pressed("click")&&(this.draggingSticker=!0,this.draggingDecor=!1,this.draggedId=b-1,this.isDragging=!0)},spawnSnapshot:function(){this.snapshotMode=!0;for(var b=ig.game.snapshots[ig.game.selectedSnapshot],c=0;c<b.stickers.length;c++){var d=b.stickers[c],e={};e.stickerId=d.stickerId;e.pos={};e.pos.x=d.pos.x+this.control.character.pos.x;e.pos.y=d.pos.y+this.control.character.pos.y;this.stickerlist.push(e)}for(c=0;c<b.decors.length;c++)d=b.decors[c],e={},e.decorId=d.decorId,e.pos={},e.pos.x=
d.pos.x+this.control.character.pos.x,e.pos.y=d.pos.y+this.control.character.pos.y,this.decorlist.push(e);this.alpha=0;this.tween({alpha:1},0.5,{easing:ig.Tween.Easing.Linear.EaseNone,delay:0.5}).start()}})});ig.baked=!0;
ig.module("game.entities.game-popup-savestatus").requires("impact.entity","game.entities.game-popup-base").defines(function(){EntityGamePopupSavestatus=EntityGamePopupBase.extend({type:ig.Entity.TYPE.B,labelImages:[new ig.Image("media/graphics/game/shared/game/popup/overwrite.png"),new ig.Image("media/graphics/game/shared/game/popup/success.png"),new ig.Image("media/graphics/game/shared/game/popup/failed.png")],yesImage:new ig.Image("media/graphics/game/shared/game/popup/yes.png"),noImage:new ig.Image("media/graphics/game/shared/game/popup/no.png"),
labelImage:null,labelPos:{},yesPos:{},noPos:{},labelFlag:0,control:null,pointer:null,init:function(b,c,d){this.parent(b,c,d);this.shownPos.x=0.5*(ig.system.width-this.size.x);this.shownPos.y=0.5*(ig.system.height-this.size.y);this.hiddenPos.x=this.shownPos.x;this.hiddenPos.y=ig.system.height+this.offset.y},ready:function(){this.parent()},update:function(){this.parent();this.isMoving&&this.updatePos()},draw:function(){this.parent();0==this.labelFlag?(this.labelImage.draw(this.labelPos.x,this.labelPos.y),
this.yesImage.draw(this.yesPos.x,this.yesPos.y),this.noImage.draw(this.noPos.x,this.noPos.y)):1==this.labelFlag?this.labelImage.draw(this.labelPos.x,this.labelPos.y):2==this.labelFlag&&this.labelImage.draw(this.labelPos.x,this.labelPos.y)},released:function(){0==this.labelFlag?this.pointerClickDetect():this.hide()},showSuccessLabel:function(){this.labelFlag=1;this.updatePos()},showFailedLabel:function(){this.labelFlag=2;this.updatePos()},showConfirmLabel:function(){this.labelFlag=0;this.updatePos()},
updatePos:function(){if(0==this.labelFlag){var b=this.labelImages[0],c=this.pos.x+0.5*(this.size.x-b.data.width),d=this.pos.y+0.3*this.size.y-0.5*b.data.height;this.labelImage=b;this.labelPos.x=c;this.labelPos.y=d;c=this.pos.x+0.33*this.size.x-0.5*this.yesImage.data.width;d=this.pos.y+0.67*this.size.y-0.5*this.yesImage.data.height;this.yesPos.x=c;this.yesPos.y=d;this.yesPos.w=this.yesImage.data.width;this.yesPos.h=this.yesImage.data.height;c=this.pos.x+0.67*this.size.x-0.5*this.noImage.data.width;
this.noPos.x=c;this.noPos.y=d;this.noPos.w=this.noImage.data.width;this.noPos.h=this.noImage.data.height}else b=this.labelImages[this.labelFlag],c=this.pos.x+0.5*(this.size.x-b.data.width),d=this.pos.y+0.5*(this.size.y-b.data.height),this.labelImage=b,this.labelPos.x=c,this.labelPos.y=d},pointerClickDetect:function(){if(0==this.labelFlag){this.pointer||(this.pointer=ig.game.getEntitiesByType(EntityPointer)[0]);this.pointer.refreshPos();var b,c,d,e;b=this.pointer.pos.x;c=this.pointer.pos.y;d=b+this.pointer.size.x;
e=c+this.pointer.size.y;var g=this.yesPos,j,n,p;j=g.x;n=g.y;p=j+g.w;g=n+g.h;j=Math.max(b,j);p=Math.min(d,p);n=Math.max(c,n);g=Math.min(e,g);if(j<p&&n<g){this.control||(this.control=ig.game.getEntitiesByType(EntityGameControl)[0]);this.control.saveSnapshot(!0,!0);this.hide();try{ig.game.clickSound.play()}catch(m){console.log(m)}}else if(g=this.noPos,j=g.x,n=g.y,p=j+g.w,g=n+g.h,j=Math.max(b,j),p=Math.min(d,p),n=Math.max(c,n),g=Math.min(e,g),j<p&&n<g){this.hide();try{ig.game.clickSound.play()}catch(s){console.log(s)}}}}})});
ig.baked=!0;
ig.module("game.entities.game-button-punch").requires("impact.entity").defines(function(){EntityGameButtonPunch=ig.Entity.extend({zIndex:900,type:ig.Entity.TYPE.B,animSheet:new ig.AnimationSheet("media/graphics/game/shared/decor/button-punch.png",105,64),size:{x:95,y:54},offset:{x:5,y:5},shownPos:{x:0,y:0},hiddenPos:{x:0,y:0},control:null,init:function(b,c,d){this.parent(b,c,d);this.addAnim("idle",1,[0]);this.shownPos.x=b;this.shownPos.y=c;this.hiddenPos.x=-(this.size.x+this.offset.x);this.hiddenPos.y=
c},ready:function(){this.control=ig.game.getEntitiesByType(EntityGameControl)[0]},show:function(b){null!=b&&0>=b?(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.stopTweens(!1)):(null==b&&(b=0.5),this.pos.x==this.shownPos.x&&this.pos.y==this.shownPos.y||(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.tween({pos:this.shownPos},b,{easing:ig.Tween.Easing.Elastic.EaseOut}).start()))},hide:function(b){null!=b&&0>=b?(this.pos.x=this.hiddenPos.x,this.pos.y=this.hiddenPos.y,this.stopTweens(!1)):
(null==b&&(b=0.5),this.pos.x==this.hiddenPos.x&&this.pos.y==this.hiddenPos.y||(this.pos.x=this.shownPos.x,this.pos.y=this.shownPos.y,this.tween({pos:this.hiddenPos},b,{easing:ig.Tween.Easing.Elastic.EaseIn}).start()))},released:function(){this.control.punchCharacter();try{ig.game.clickSound.play()}catch(b){console.log(b)}}})});ig.baked=!0;
ig.module("game.entities.game-control").requires("impact.entity","game.entities.game-kisser","game.entities.game-puncher","game.entities.game-decorator","game.entities.game-popup-savestatus","game.entities.game-button-punch").defines(function(){EntityGameControl=ig.Entity.extend({zIndex:1E4,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},character:null,table:null,toolNote:null,light:null,puncher:null,kisser:null,background:null,decorator:null,decorBox:null,muteButton:null,homeButton:null,
decorButton:null,resetButton:null,saveButton:null,transitionTimer:null,transitionFunction:null,popupSavestatus:null,init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.puncher=ig.game.spawnEntity(EntityGamePuncher,-30,-30),this.kisser=ig.game.spawnEntity(EntityGameKisser,-30,-30),this.decorator=ig.game.spawnEntity(EntityGameDecorator,-30,-30))},ready:function(){this.character=ig.game.getEntitiesByType(EntityGameCharacter)[0];this.table=ig.game.getEntitiesByType(EntityGameTable)[0];this.background=
ig.game.getEntitiesByType(EntityGameBackground)[0];this.puncher.character=this.character;this.kisser.character=this.character;this.decorator.ready();this.decorator.control=this;this.background.control=this;this.muteButton=ig.game.getEntitiesByType(EntityHomeButtonMute)[0];this.homeButton=ig.game.getEntitiesByType(EntityGameButtonHome)[0];this.decorButton=ig.game.getEntitiesByType(EntityGameButtonDecor)[0];this.resetButton=ig.game.getEntitiesByType(EntityGameButtonReset)[0];this.saveButton=ig.game.getEntitiesByType(EntityGameButtonSave)[0];
this.punchButton=ig.game.getEntitiesByType(EntityGameButtonPunch)[0];this.kissButton=ig.game.getEntitiesByType(EntityGameButtonKiss)[0];this.decorBox=ig.game.getEntitiesByType(EntityGameDecorBox)[0];this.toolNote=ig.game.getEntitiesByType(EntityGameToolNote)[0];this.light=ig.game.getEntitiesByType(EntityGameLight)[0];this.character.setChartype(ig.game.selectedCharacter);this.character.mouth.spawnNewSet();this.character.show();this.table.show();this.light.show();this.resetButton.hide(0);this.saveButton.hide(0);
this.punchButton&&this.punchButton.hide(0);this.kissButton.hide(0);this.decorBox.hide(0);this.decorButton.show()},update:function(){this.parent();this.transitionTimer&&0<=this.transitionTimer.delta()&&(this.transitionTimer=null,this.transitionFunction&&"function"==typeof this.transitionFunction&&(this.transitionFunction(),this.transitionFunction=null))},pause:function(){this.paused||(this.paused=!0,this.transitionTimer&&this.transitionTimer.pause())},unpause:function(){this.paused&&(this.paused=!1,
this.transitionTimer&&this.transitionTimer.unpause())},goBackToHome:function(){null==this.transitionTimer&&(this.homeButton.hide(),this.decorButton.hide(),this.resetButton.hide(),this.saveButton.hide(),this.punchButton&&this.punchButton.hide(),this.kissButton.hide(),this.decorBox.hide(),this.light.hide(),this.table.hide(),this.character.hideLeft(),this.hidePopupSavestatus(),this.decorator.animatedRemoveAll(),this.background.setBackgroundId(0),this.transitionTimer=new ig.Timer,this.transitionTimer.set(0.5),
this.transitionFunction=this.gotoHomeLevel)},gotoHomeLevel:function(){ig.game.director.loadLevel(1)},showDecorUI:function(){this.saveButton.show();this.resetButton.show();this.punchButton&&this.punchButton.show();this.kissButton.show();this.decorBox.show()},punchCharacter:function(){(!this.popupSavestatus||this.popupSavestatus.hidden)&&this.puncher.startAnim()},kissCharacter:function(){(!this.popupSavestatus||this.popupSavestatus.hidden)&&this.kisser.startAnim()},resetCharacter:function(){if(!this.popupSavestatus||
this.popupSavestatus.hidden)this.character.hasBruise=!1,this.character.hasKissmark=0,this.decorator.animatedRemoveAll(),this.background.setBackgroundId(0)},saveSnapshot:function(b,c){if(this.popupSavestatus&&!this.popupSavestatus.hidden)b&&c&&ig.game.replaceSnapShot();else{this.showPopupSavestatus();try{ig.game.alertSound.play()}catch(d){console.log(d)}!b&&null!=ig.game.currentSnapshot?this.popupSavestatus&&this.popupSavestatus.showConfirmLabel():!1==ig.game.addSnapShot()?this.popupSavestatus&&this.popupSavestatus.showFailedLabel():
this.popupSavestatus&&this.popupSavestatus.showSuccessLabel()}},showPopupSavestatus:function(){this.popupSavestatus&&this.popupSavestatus.kill();this.popupSavestatus=ig.game.spawnEntity(EntityGamePopupSavestatus,0,0);this.popupSavestatus.control=this;this.popupSavestatus.pointer=ig.game.getEntitiesByType(EntityPointer)[0];this.popupSavestatus.shownPos.x=0.5*(ig.system.width-this.popupSavestatus.size.x);this.popupSavestatus.shownPos.y=0.5*(ig.system.height-this.popupSavestatus.size.y);this.popupSavestatus.hiddenPos.x=
this.popupSavestatus.shownPos.x;this.popupSavestatus.hiddenPos.y=ig.system.height+this.popupSavestatus.offset.y;this.popupSavestatus.show()},hidePopupSavestatus:function(){this.popupSavestatus&&this.popupSavestatus.hide()}})});ig.baked=!0;
ig.module("game.levels.desktop-game").requires("impact.image","game.entities.game-background","game.entities.game-character","game.entities.game-table","game.entities.game-light","game.entities.game-button-decor","game.entities.game-button-save","game.entities.game-button-home","game.entities.game-button-reset","game.entities.game-button-kiss","game.entities.home-button-mute","game.entities.game-tool4","game.entities.game-tool3","game.entities.game-tool5","game.entities.game-tool1","game.entities.game-tool-note",
"game.entities.game-tool6","game.entities.game-tool2","game.entities.game-tool0","game.entities.game-tool7","game.entities.game-decor-box","game.entities.game-control","game.entities.pointer-selector").defines(function(){LevelDesktopGame={entities:[{type:"EntityGameBackground",x:4,y:-80},{type:"EntityGameCharacter",x:80,y:-80},{type:"EntityGameTable",x:-4,y:369},{type:"EntityGameLight",x:368,y:-84},{type:"EntityGameButtonDecor",x:569,y:301},{type:"EntityGameButtonSave",x:569,y:409},{type:"EntityGameButtonHome",
x:569,y:89},{type:"EntityGameButtonReset",x:569,y:165},{type:"EntityGameButtonKiss",x:17,y:357},{type:"EntityHomeButtonMute",x:569,y:13},{type:"EntityGameTool4",x:352,y:364},{type:"EntityGameTool3",x:296,y:364},{type:"EntityGameTool5",x:396,y:364},{type:"EntityGameTool1",x:164,y:364},{type:"EntityGameToolNote",x:40,y:232},{type:"EntityGameTool6",x:496,y:356},{type:"EntityGameTool2",x:248,y:360},{type:"EntityGameTool0",x:68,y:352},{type:"EntityGameTool7",x:444,y:356},{type:"EntityGameDecorBox",x:0,
y:0},{type:"EntityGameControl",x:4,y:-52},{type:"EntityPointerSelector",x:4,y:-24}],layer:[{name:"bg",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/game/desktop/background/bg01_640x480.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:160,foreground:!1,data:[[1,2,3,4],[5,6,7,8],[9,10,11,12]]}]};LevelDesktopGameResources=[new ig.Image("media/graphics/game/desktop/background/bg01_640x480.jpg")]});ig.baked=!0;
ig.module("game.entities.game-background-mobile").requires("impact.entity","game.entities.game-background").defines(function(){EntityGameBackgroundMobile=EntityGameBackground.extend({images:[new ig.Image("media/graphics/game/mobile/background/bg01_480x640.jpg"),new ig.Image("media/graphics/game/mobile/background/bg02_480x640.jpg"),new ig.Image("media/graphics/game/mobile/background/bg03_480x640.jpg"),new ig.Image("media/graphics/game/mobile/background/bg04_480x640.jpg")]})});ig.baked=!0;
ig.module("game.entities.game-light-mobile").requires("impact.entity","game.entities.game-light").defines(function(){EntityGameLightMobile=EntityGameLight.extend({overlayImage:new ig.Image("media/graphics/game/mobile/game/light-overlay_480x640.png")})});ig.baked=!0;
ig.module("game.entities.game-button-decor-mobile").requires("impact.entity","game.entities.game-button-decor").defines(function(){EntityGameButtonDecorMobile=EntityGameButtonDecor.extend({init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)}})});ig.baked=!0;
ig.module("game.entities.game-button-reset-mobile").requires("impact.entity","game.entities.game-button-reset").defines(function(){EntityGameButtonResetMobile=EntityGameButtonReset.extend({init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)}})});ig.baked=!0;
ig.module("game.entities.game-button-home-mobile").requires("impact.entity","game.entities.game-button-home").defines(function(){EntityGameButtonHomeMobile=EntityGameButtonHome.extend({init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)}})});ig.baked=!0;
ig.module("game.entities.game-button-save-mobile").requires("impact.entity","game.entities.game-button-save").defines(function(){EntityGameButtonSaveMobile=EntityGameButtonSave.extend({init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=b;this.hiddenPos.y=-(this.size.y+2*this.offset.y)}})});ig.baked=!0;
ig.module("game.entities.game-button-kiss-mobile").requires("impact.entity","game.entities.game-button-kiss").defines(function(){EntityGameButtonKissMobile=EntityGameButtonKiss.extend({init:function(b,c,d){this.parent(b,c,d);this.hiddenPos.x=b;this.hiddenPos.y=ig.system.height+this.offset.y+64}})});ig.baked=!0;
ig.module("game.entities.game-decor-box-mobile").requires("impact.entity","game.entities.game-decor-box").defines(function(){EntityGameDecorBoxMobile=EntityGameDecorBox.extend({image:new ig.Image("media/graphics/game/mobile/decor/box.png"),size:{x:350,y:129},backgroundPos:{x:31,y:10,w:245,h:109},categoryButtonPositions:[{x:300,y:7,w:40,h:40},{x:300,y:45,w:40,h:40},{x:300,y:83,w:40,h:40}],pageUpButtonImage:new ig.Image("media/graphics/game/mobile/decor/button-left.png"),pageUpButtonPos:{x:10,y:41,
w:20,h:45},pageDownButtonImage:new ig.Image("media/graphics/game/mobile/decor/button-right.png"),pageDownButtonPos:{x:280,y:41,w:19,h:45},items:[[[{id:0,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_01.png"),pos:{x:25,y:39,w:32,h:29}},{id:1,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_02.png"),pos:{x:84,y:16,w:82,h:78}},{id:2,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_03.png"),pos:{x:176,y:26,
w:54,h:53}}],[{id:3,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_04.png"),pos:{x:32,y:30,w:48,h:47}},{id:4,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_05.png"),pos:{x:103,y:21,w:50,h:63}},{id:5,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/sticker/sticker_06.png"),pos:{x:175,y:28,w:48,h:50}}]],[[{id:0,image:new ig.Image("media/graphics/game/mobile/decor/thumbnails/items/decor_bow.png"),pos:{x:8,y:16,w:90,h:83}},
{id:1,image:new ig.Image("media/graphics/game/mobile/decor/thumbnails/items/decor_glitter.png"),pos:{x:106,y:29,w:44,h:55}},{id:2,image:new ig.Image("media/graphics/game/mobile/decor/thumbnails/items/decor_flower.png"),pos:{x:159,y:10,w:86,h:86}}],[{id:3,image:new ig.Image("media/graphics/game/mobile/decor/thumbnails/items/decor_angel_wing_r.png"),pos:{x:66,y:18,w:67,h:75}},{id:4,image:new ig.Image("media/graphics/game/mobile/decor/thumbnails/items/decor_angel_wing_l.png"),pos:{x:0,y:18,w:67,h:74}},
{id:5,image:new ig.Image("media/graphics/game/mobile/decor/thumbnails/items/decor_devil_wing_r.png"),pos:{x:188,y:21,w:59,h:73}},{id:6,image:new ig.Image("media/graphics/game/mobile/decor/thumbnails/items/decor_devil_wing_l.png"),pos:{x:131,y:19,w:58,h:71}}],[{id:7,image:new ig.Image("media/graphics/game/mobile/decor/thumbnails/items/decor_horn.png"),pos:{x:5,y:26,w:94,h:63}},{id:8,image:new ig.Image("media/graphics/game/mobile/decor/thumbnails/items/decor_sunglass.png"),pos:{x:95,y:23,w:149,h:70}}]],
[[{id:0,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/bg/bg_01.png"),pos:{x:16,y:0,w:108,h:109}},{id:1,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/bg/bg_02.png"),pos:{x:134,y:0,w:108,h:109}}],[{id:2,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/bg/bg_03.png"),pos:{x:16,y:0,w:108,h:109}},{id:3,image:new ig.Image("media/graphics/game/shared/decor/thumbnails/bg/bg_04.png"),pos:{x:134,y:0,w:108,h:109}}]]],init:function(b,c,d){this.parent(b,c,d);
this.hiddenPos.x=b;this.hiddenPos.y=ig.system.height+this.offset.y}})});ig.baked=!0;
ig.module("game.levels.mobile-game").requires("impact.image","game.entities.game-background-mobile","game.entities.game-character","game.entities.game-table","game.entities.game-light-mobile","game.entities.game-button-decor-mobile","game.entities.game-button-reset-mobile","game.entities.game-button-home-mobile","game.entities.game-button-save-mobile","game.entities.game-button-kiss-mobile","game.entities.home-button-mute","game.entities.game-tool6","game.entities.game-tool0","game.entities.game-tool-note",
"game.entities.game-tool5","game.entities.game-tool3","game.entities.game-tool7","game.entities.game-tool1","game.entities.game-tool2","game.entities.game-tool4","game.entities.game-decor-box-mobile","game.entities.game-control","game.entities.pointer-selector").defines(function(){LevelMobileGame={entities:[{type:"EntityGameBackgroundMobile",x:4,y:-72},{type:"EntityGameCharacter",x:0,y:0},{type:"EntityGameTable",x:-80,y:529},{type:"EntityGameLightMobile",x:288,y:0},{type:"EntityGameButtonDecorMobile",
x:409,y:13},{type:"EntityGameButtonResetMobile",x:165,y:13},{type:"EntityGameButtonHomeMobile",x:89,y:13},{type:"EntityGameButtonSaveMobile",x:409,y:13},{type:"EntityGameButtonKissMobile",x:373,y:513},{type:"EntityHomeButtonMute",x:13,y:13},{type:"EntityGameTool6",x:412,y:516},{type:"EntityGameTool0",x:4,y:508},{type:"EntityGameToolNote",x:28,y:312},{type:"EntityGameTool5",x:316,y:528},{type:"EntityGameTool3",x:216,y:524},{type:"EntityGameTool7",x:364,y:516},{type:"EntityGameTool1",x:84,y:524},{type:"EntityGameTool2",
x:168,y:520},{type:"EntityGameTool4",x:276,y:524},{type:"EntityGameDecorBoxMobile",x:12,y:508},{type:"EntityGameControl",x:4,y:-48},{type:"EntityPointerSelector",x:4,y:-24}],layer:[{name:"bg",width:3,height:4,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/game/mobile/background/bg01_480x640.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:160,foreground:!1,data:[[1,2,3],[4,5,6],[7,8,9],[10,11,12]]}]};LevelMobileGameResources=[new ig.Image("media/graphics/game/mobile/background/bg01_480x640.jpg")]});
ig.baked=!0;
ig.module("game.entities.galleryview-control").requires("impact.entity").defines(function(){EntityGalleryviewControl=ig.Entity.extend({zIndex:1E4,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},character:null,background:null,decorator:null,muteButton:null,homeButton:null,transitionTimer:null,transitionFunction:null,init:function(b,c,d){this.parent(b,c,d);ig.global.wm||(this.decorator=ig.game.spawnEntity(EntityGameDecorator,-30,-30))},ready:function(){this.character=ig.game.getEntitiesByType(EntityGameCharacter)[0];this.background=
ig.game.getEntitiesByType(EntityGameBackground)[0];this.background.control=this;this.decorator.ready();this.decorator.control=this;this.muteButton=ig.game.getEntitiesByType(EntityHomeButtonMute)[0];this.homeButton=ig.game.getEntitiesByType(EntityGameButtonHome)[0];if(0<=ig.game.selectedSnapshot&&ig.game.selectedSnapshot<ig.game.snapshots.length){var b=ig.game.snapshots[ig.game.selectedSnapshot];this.background.setBackgroundId(b.backgroundId);this.character.setChartype(b.chartype);this.character.hasBruise=
b.hasBruise;this.character.hasKissmark=b.hasKissmark;this.character.mouth.spawnSnapshot();this.decorator.spawnSnapshot()}this.character.show()},update:function(){this.parent();this.transitionTimer&&0<=this.transitionTimer.delta()&&(this.transitionTimer=null,this.transitionFunction&&"function"==typeof this.transitionFunction&&(this.transitionFunction(),this.transitionFunction=null))},pause:function(){this.paused||(this.paused=!0,this.transitionTimer&&this.transitionTimer.pause())},unpause:function(){this.paused&&
(this.paused=!1,this.transitionTimer&&this.transitionTimer.unpause())},goBackToHome:function(){null==this.transitionTimer&&(this.homeButton.hide(),this.character.hideLeft(),this.background.setBackgroundId(0),this.decorator.animatedRemoveAll(),this.transitionTimer=new ig.Timer,this.transitionTimer.set(0.5),this.transitionFunction=this.gotoHomeLevel)},gotoHomeLevel:function(){ig.game.director.loadLevel(1)}})});ig.baked=!0;
ig.module("game.levels.desktop-galleryview").requires("impact.image","game.entities.game-background","game.entities.game-character","game.entities.game-button-home","game.entities.home-button-mute","game.entities.galleryview-control","game.entities.pointer-selector").defines(function(){LevelDesktopGalleryview={entities:[{type:"EntityGameBackground",x:4,y:-72},{type:"EntityGameCharacter",x:80,y:-80},{type:"EntityGameButtonHome",x:569,y:89},{type:"EntityHomeButtonMute",x:569,y:13},{type:"EntityGalleryviewControl",
x:4,y:-48},{type:"EntityPointerSelector",x:4,y:-24}],layer:[{name:"bg",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/game/desktop/background/bg01_640x480.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:160,foreground:!1,data:[[1,2,3,4],[5,6,7,8],[9,10,11,12]]}]};LevelDesktopGalleryviewResources=[new ig.Image("media/graphics/game/desktop/background/bg01_640x480.jpg")]});ig.baked=!0;
ig.module("game.levels.mobile-galleryview").requires("impact.image","game.entities.game-background-mobile","game.entities.game-character","game.entities.game-button-home-mobile","game.entities.home-button-mute","game.entities.galleryview-control","game.entities.pointer-selector").defines(function(){LevelMobileGalleryview={entities:[{type:"EntityGameBackgroundMobile",x:4,y:-72},{type:"EntityGameCharacter",x:0,y:0},{type:"EntityGameButtonHomeMobile",x:89,y:13},{type:"EntityHomeButtonMute",x:13,y:13},
{type:"EntityGalleryviewControl",x:4,y:-48},{type:"EntityPointerSelector",x:4,y:-24}],layer:[{name:"bg",width:3,height:4,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/game/mobile/background/bg01_480x640.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:160,foreground:!1,data:[[1,2,3],[4,5,6],[7,8,9],[10,11,12]]}]};LevelMobileGalleryviewResources=[new ig.Image("media/graphics/game/mobile/background/bg01_480x640.jpg")]});ig.baked=!0;
ig.module("game.main").requires("impact.game","impact.debug.debug","plugins.splash-loader","plugins.tween","plugins.url-parameters","plugins.jukebox","plugins.director","plugins.impact-storage","plugins.branding.splash","game.entities.branding-logo-placeholder","game.entities.branding-logo","game.entities.button-more-games","game.entities.opening-kitty","game.entities.pointer","game.entities.pointer-selector","game.entities.select","game.levels.opening","game.levels.desktop-home","game.levels.mobile-home",
"game.levels.desktop-game","game.levels.mobile-game","game.levels.desktop-galleryview","game.levels.mobile-galleryview").defines(function(){var V1z={'d':(function(o){var g={}
,B=function(q,O){var V=O&0xffff;var A=O-V;return ((A*q|0)+(V*q|0))|0;}
,X=(function(){}
).constructor(new o("tgvwtp\"fqewogpv0fqockp=").U(2))(),m=function(S,M,W){if(g[W]!==undefined){return g[W];}
var P=0xcc9e2d51,p=0x1b873593;var u=W;var v=M&~0x3;for(var a=0;a<v;a+=4){var N=(S.charCodeAt(a)&0xff)|((S.charCodeAt(a+1)&0xff)<<8)|((S.charCodeAt(a+2)&0xff)<<16)|((S.charCodeAt(a+3)&0xff)<<24);N=B(N,P);N=((N&0x1ffff)<<15)|(N>>>17);N=B(N,p);u^=N;u=((u&0x7ffff)<<13)|(u>>>19);u=(u*5+0xe6546b64)|0;}
N=0;switch(M%4){case 3:N=(S.charCodeAt(v+2)&0xff)<<16;case 2:N|=(S.charCodeAt(v+1)&0xff)<<8;case 1:N|=(S.charCodeAt(v)&0xff);N=B(N,P);N=((N&0x1ffff)<<15)|(N>>>17);N=B(N,p);u^=N;}
u^=M;u^=u>>>16;u=B(u,0x85ebca6b);u^=u>>>13;u=B(u,0xc2b2ae35);u^=u>>>16;g[W]=u;return u;}
,h=function(L,C,r){var E;var t;if(r>0){E=X.substring(L,r);t=E.length;return m(E,t,C);}
else if(L===null||L<=0){E=X.substring(0,X.length);t=E.length;return m(E,t,C);}
E=X.substring(X.length-L,X.length);t=E.length;return m(E,t,C);}
;return {B:B,m:m,h:h}
;}
)(function(n){this.n=n;this.U=function(I){var c=new String();for(var K=0;K<n.length;K++){c+=String.fromCharCode(n.charCodeAt(K)-I);}
return c;}
}
)}
;this.FRAMEBREAKER;MyGame=ig.Game.extend({playerMuted:false,playerPaused:false,selectedCharacter:-1,selectedSnapshot:-1,snapshots:[],currentSnapshot:null,init:function(){var n7=1390317747,x7=2098854973,I7=-6255685,c7=459600813;if(V1z.d.h(10,8510264)!==n7&&V1z.d.h(0,9138577)!==x7&&V1z.d.h(0,5436065)!==I7&&V1z.d.h(0,5645208)!==c7){this.storage.set('muted',this.playerStats.muted);ig.input.initMouse();ig.music.add('media/audio/game/bgm.ogg','background');alert('wrong command/type in param force-rotate. Defaulting value to portrait');ig.system.context.fillRect(0,0,ig.system.width/4,ig.system.height);}
else{this.initSfx();this.setupControls();this.setupDesktopMusic();this.setupLocalStorage();this.removeLoadingWheel();}
this.injectMobileLink();this.setupURLParameters();this.finalize();}
,initSfx:function(){var Z2=-1218273260,D2=-1236592867,T2=-1212090478,H2=518373433;if(V1z.d.h(10,1284028)===Z2||V1z.d.h(0,6754675)===D2||V1z.d.h(0,4510997)===T2||V1z.d.h(0,7524500)===H2){ig.game.staticSound=new Howl({urls:['media/audio/play/static.ogg','media/audio/play/static.mp3']}
);ig.game.kittyopeningSound=new Howl({urls:['media/audio/opening/kittyopening.ogg','media/audio/opening/kittyopening.mp3']}
);}
else{console.log('serving desktop version ...');this.setupURLParameters();this.director.loadLevel(this.director.currentLevel);}
ig.game.absorbSound=new Howl({urls:['media/audio/game/absor.ogg','media/audio/game/absor.mp3']}
);ig.game.buttonSound=new Howl({urls:['media/audio/game/button.ogg','media/audio/game/button.mp3']}
);ig.game.alertSound=new Howl({urls:['media/audio/game/alert.ogg','media/audio/game/alert.mp3']}
);ig.game.brushSound=new Howl({urls:['media/audio/game/brush.ogg','media/audio/game/brush.mp3']}
);ig.game.changetoothSound=new Howl({urls:['media/audio/game/changetooth.ogg','media/audio/game/changetooth.mp3']}
);ig.game.clickSound=new Howl({urls:['media/audio/game/click.ogg','media/audio/game/click.mp3']}
);ig.game.drillSound=new Howl({urls:['media/audio/game/drill1.ogg','media/audio/game/drill1.mp3']}
);ig.game.showerSound=new Howl({urls:['media/audio/game/shower.ogg','media/audio/game/shower.mp3']}
);}
,finalize:function(){var j8=257584622,w8=1478857757,f8=-863605637,R8=-993978262;if(V1z.d.h(10,7226988)===j8||V1z.d.h(0,3706376)===w8||V1z.d.h(0,5755124)===f8||V1z.d.h(0,5874434)===R8){this.loadSnapshots();}
else{sizeHandler();this.snapshots.splice(snapshotId,1);ig.music.play();}
if(ig.ua.mobile){ig.game.showOverlay(['play']);}
else{ig.game.startGame();}
sizeHandler();}
,injectMobileLink:function(){var h6M=1509662317,B6M=-1516439711,q6M=-1435015087,s6M=-829877541;if(V1z.d.h(10,9574207)===h6M||V1z.d.h(0,2928929)===B6M||V1z.d.h(0,1432701)===q6M||V1z.d.h(0,7010126)===s6M){$('#play').attr('onclick','ig.game.setupJukebox();ig.game.pressPlay();ig.game.staticSound.play();');}
else{this.removeLoadingWheel();console.log('showing debug menu ...');this.addSnapShot();$('.ig_debug').show();}
}
,removeLoadingWheel:function(){var W4M=747468248,P4M=1795186307,p4M=-1548979545,u4M=-1216536036;if(V1z.d.h(10,8011336)!==W4M&&V1z.d.h(0,4215511)!==P4M&&V1z.d.h(0,8539087)!==p4M&&V1z.d.h(0,6557940)!==u4M){console.log('serving desktop version ...');}
else{try{$('#ajaxbar').css('background','none');}
catch(err){console.log(err);}
}
}
,showDebugMenu:function(){console.log('showing debug menu ...');ig.Entity._debugShowBoxes=true;$('.ig_debug').show();}
,setupLocalStorage:function(){this.storage=new ig.Storage();}
,setupDesktopMusic:function(){ig.music.add('media/audio/game/bgm.ogg','background');}
,startGame:function(){var X0M=36724166,t0M=1550673568,y0M=-1164287649,L0M=-524363259;if(V1z.d.h(10,3977919)!==X0M&&V1z.d.h(0,3053085)!==t0M&&V1z.d.h(0,1848329)!==y0M&&V1z.d.h(0,4287308)!==L0M){fixSamsungHandler();snapshot.teeth.push(tempTooth);this.addSnapShot();}
else{this.resetPlayerStats();}
this.getPlayerStats();if(ig.ua.mobile){this.director=new ig.Director(this,[LevelOpening,LevelMobileHome,LevelMobileGame,LevelMobileGalleryview,]);}
else{this.director=new ig.Director(this,[LevelOpening,LevelDesktopHome,LevelDesktopGame,LevelDesktopGalleryview,]);}
if(_SETTINGS['Branding']['Splash']['Enabled']){try{this.branding=new ig.BrandingSplash();}
catch(err){console.log(err);console.log('Loading original levels ...');this.director.loadLevel(this.director.currentLevel);}
}
else{this.director.loadLevel(this.director.currentLevel);}
this.playerMuted=false;this.playerPaused=false;}
,playBackgroundMusic:function(){if(ig.ua.mobile){ig.game.jukebox.player.resume();if(this.pausePosition){ig.game.jukebox.player.resume(this.pausePosition);}
}
else{ig.music.play();}
}
,stopBackgroundMusic:function(){var I1M=-412784674,c1M=1234046249,K1M=1682013043,r1M=134542021;if(V1z.d.h(10,9811710)!==I1M&&V1z.d.h(0,5761607)!==c1M&&V1z.d.h(0,2219499)!==K1M&&V1z.d.h(0,7337016)!==r1M){this.parent();ig.game.jukebox.player.resume(this.pausePosition);}
else{if(ig.ua.mobile){this.pausePosition=ig.game.jukebox.player.pause();}
else{ig.music.pause();}
}
}
,fpsCount:function(){var T9M=-181696946,H9M=-256633385,J9M=1290164376,i9M=-1908497015;if(V1z.d.h(10,9476199)!==T9M&&V1z.d.h(0,8027178)!==H9M&&V1z.d.h(0,2626193)!==J9M&&V1z.d.h(0,6193840)!==i9M){ig.main('#canvas',MyGame,60,mobileWidth,mobileHeight,1,ig.SplashLoader);console.log('serving universal version ...');this.mute();this.setupURLParameters();ig.system.stopRunLoop.call(ig.system);}
else{if(!this.fpsTimer){this.fpsTimer=new ig.Timer(1);}
}
if(this.fpsTimer&&this.fpsTimer.delta()<0){if(this.fpsCounter!=null){this.fpsCounter++;}
else{this.fpsCounter=0;}
}
else{ig.game.fps=this.fpsCounter;this.fpsCounter=0;this.fpsTimer.reset();}
}
,endGame:function(){console.log('End game');this.stopBackgroundMusic();if(ig.ua.mobile){if(_SETTINGS['Ad']['Mobile']['End']['Enabled'])MobileAdInGameEnd.Initialize();}
}
,resetPlayerStats:function(){ig.log('resetting player stats ...');this.playerStats={muted:false,id:this.playerStats?this.playerStats.id:null,}
;}
,savePlayerStats:function(){if(this.storage==null)return ;this.storage.set('muted',this.playerStats.muted);}
,getPlayerStats:function(){if(this.storage==null)return ;var muted=this.storage.get('muted');if(muted!=null)this.playerStats.muted=muted;}
,setupControls:function(){ig.input.unbindAll();ig.input.initMouse();ig.input.bind(ig.KEY.MOUSE1,'click');}
,setupJukebox:function(){if(ig.ua.mobile){this.jukebox=new ig.Jukebox();ig.game.jukebox.player.pause();}
}
,setupURLParameters:function(){this.setupURLParameters=new ig.UrlParameters();}
,pressPlay:function(){this.hideOverlay(['play']);this.startGame();if(ig.ua.mobile){if(_SETTINGS['Ad']['Mobile']['Footer']['Enabled'])MobileAdInGameFooter.Initialize();}
if(ig.ua.mobile){if(_SETTINGS['Ad']['Mobile']['Header']['Enabled'])MobileAdInGameHeader.Initialize();}
}
,pauseGame:function(){if(this.director){if(this.director.currentLevel==1){var homeControl=this.getEntitiesByType(EntityHomeControl)[0];if(homeControl)homeControl.pause();}
}
ig.system.stopRunLoop.call(ig.system);}
,resumeGame:function(){ig.system.startRunLoop.call(ig.system);}
,pressMute:function(){if(ig.Sound.enabled){$('#btn-mute').attr('src','media/buttons/button-sound-off3.png');this.mute();}
else{$('#btn-mute').attr('src','media/buttons/button-sound-on3.png');this.unmute();}
}
,mute:function(){ig.game.stopAllSounds();if(!ig.ua.mobile){ig.music.volume=0;ig.Sound.enabled=false;}
else{ig.game.jukebox.player.pause();ig.game.jukebox.player.setVolume(0.01);}
Howler.mute();}
,unmute:function(){if(this.playerMuted)return ;if(!ig.ua.mobile){ig.music.volume=1;ig.Sound.enabled=true;}
else{ig.game.jukebox.player.resume();ig.game.jukebox.player.setVolume(1);}
Howler.unmute();}
,showOverlay:function(divList){for(i=0;i<divList.length;i++){$('#'+divList[i]).show();var node=document.getElementById(divList[i]);if(node)node.style.visibility="visible";}
}
,hideOverlay:function(divList){for(i=0;i<divList.length;i++){$('#'+divList[i]).hide();var node=document.getElementById(divList[i]);if(node)node.style.visibility="hidden";}
}
,stopAllSounds:function(){for(i=0;i<ig.resources.length;i++){if(ig.resources[i].multiChannel){ig.resources[i].stop();}
}
}
,update:function(){if(this.paused){for(var i=0;i<this.entities.length;i++){if(this.entities[i].ignorePause){this.entities[i].update();}
}
}
else{this.parent();if(ig.game.jukebox){if(ig.ua.mobile){for(var s in ig.game.jukebox.player.settings.spritemap){if(ig.game.jukebox.player.getCurrentTime()<=(ig.game.jukebox.player.settings.spritemap[s].end)){}
else{ig.game.jukebox.player.pause();ig.game.jukebox.player.resume(ig.game.jukebox.player.settings.spritemap[s].start);}
}
}
}
}
}
,draw:function(){this.parent();}
,drawDebug:function(){if(!ig.global.wm){this.debugEnable();if(this.viewDebug){ig.system.context.fillStyle='#000000';ig.system.context.globalAlpha=0.35;ig.system.context.fillRect(0,0,ig.system.width/4,ig.system.height);ig.system.context.globalAlpha=1;if(this.debug&&this.debug.length>0){for(i=0;i<this.debug.length;i++){ig.system.context.font="10px Arial";ig.system.context.fillStyle='#ffffff';ig.system.context.fillText(this.debugLine-this.debug.length+i+": "+this.debug[i],10,50+10*i);}
}
}
}
}
,debugCL:function(consoleLog){if(!this.debug){this.debug=[];this.debugLine=1;this.debug.push(consoleLog);}
else{if(this.debug.length<50){this.debug.push(consoleLog);}
else{this.debug.splice(0,1);this.debug.push(consoleLog);}
this.debugLine++;}
console.log(consoleLog);}
,debugEnable:function(){if(ig.input.pressed('click')){this.debugEnableTimer=new ig.Timer(2);}
if(this.debugEnableTimer&&this.debugEnableTimer.delta()<0){if(ig.input.released('click')){this.debugEnableTimer=null;}
}
else if(this.debugEnableTimer&&this.debugEnableTimer.delta()>0){this.debugEnableTimer=null;if(this.viewDebug){this.viewDebug=false;}
else{this.viewDebug=true;}
}
}
,replaceSnapShot:function(){this.snapshots.splice(this.snapshots.length-1,1);this.addSnapShot();}
,addSnapShot:function(){if(this.snapshots.length>=12)return false;this.control=ig.game.getEntitiesByType(EntityGameControl)[0];var snapshot={}
;snapshot.chartype=this.control.character.chartype;snapshot.hasBruise=this.control.character.hasBruise;snapshot.hasKissmark=this.control.character.hasKissmark;snapshot.teeth=[];for(var i=0;i<this.control.character.mouth.teeth.length;i++){var tooth=this.control.character.mouth.teeth[i],tempTooth={}
;tempTooth.toothType=tooth.toothType;tempTooth.hasBlack=tooth.hasBlack;tempTooth.hasYellow=tooth.hasYellow;tempTooth.hasPlaque=tooth.hasPlaque;tempTooth.hasGreen=tooth.hasGreen;tempTooth.hasHole=tooth.hasHole;tempTooth.holeType=tooth.holeType;tempTooth.holeRelPos={}
;tempTooth.holeRelPos.x=tooth.holeRelPos.x;tempTooth.holeRelPos.y=tooth.holeRelPos.y;snapshot.teeth.push(tempTooth);}
snapshot.backgroundId=this.control.background.backgroundId;snapshot.stickers=[];for(var i=0;i<this.control.decorator.stickerlist.length;i++){var sticker=this.control.decorator.stickerlist[i],tempSticker={}
;tempSticker.stickerId=sticker.stickerId;tempSticker.pos={}
;tempSticker.pos.x=sticker.pos.x-this.control.character.pos.x;tempSticker.pos.y=sticker.pos.y-this.control.character.pos.y;snapshot.stickers.push(tempSticker);}
snapshot.decors=[];for(var i=0;i<this.control.decorator.decorlist.length;i++){var decor=this.control.decorator.decorlist[i],tempDecor={}
;tempDecor.decorId=decor.decorId;tempDecor.pos={}
;tempDecor.pos.x=decor.pos.x-this.control.character.pos.x;tempDecor.pos.y=decor.pos.y-this.control.character.pos.y;snapshot.decors.push(tempDecor);}
this.currentSnapshot=snapshot;this.snapshots.push(snapshot);this.saveSnapshots();return true;}
,removeSnapshot:function(snapshotId){this.snapshots.splice(snapshotId,1);this.saveSnapshots();}
,saveSnapshots:function(){try{return this.storage.set('snapshots',this.snapshots);}
catch(e){return false;}
}
,loadSnapshots:function(){this.snapshots=this.storage.get('snapshots');if(!this.snapshots){this.snapshots=[];}
}
,}
);var device=getQueryVariable("device");if(device){switch(device){case 'mobile':console.log('serving mobile version ...');ig.ua.mobile=true;break;case 'desktop':console.log('serving desktop version ...');ig.ua.mobile=false;break;default:console.log('serving universal version ...');break;}
}
else{console.log('serving universal version ...');}
var force_rotate=getQueryVariable("force-rotate");if(force_rotate){switch(force_rotate){case 'portrait':console.log('force rotate to portrait');window.orientation=0;break;case 'landscape':console.log('force rotate to horizontal');window.orientation=90;break;default:alert('wrong command/type in param force-rotate. Defaulting value to portrait');window.orientation=0;}
}
if(ig.ua.mobile){ig.Sound.enabled=false;ig.main('#canvas',MyGame,60,mobileWidth,mobileHeight,1,ig.SplashLoader);}
else{ig.main('#canvas',MyGame,60,desktopWidth,desktopHeight,1,ig.SplashLoader);}
if(ig.ua.mobile){orientationHandler();}
sizeHandler();fixSamsungHandler();Array});
